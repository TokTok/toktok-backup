{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/TokTok/c-toxcore/issues/1069/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069/commits"
        },
        "html": {
            "href": "https://github.com/TokTok/c-toxcore/pull/1069"
        },
        "issue": {
            "href": "https://api.github.com/repos/TokTok/c-toxcore/issues/1069"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069"
        },
        "statuses": {
            "href": "https://api.github.com/repos/TokTok/c-toxcore/statuses/1b2322284f0b688af3a349fe4331be15a565084c"
        }
    },
    "active_lock_reason": null,
    "additions": 773,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "auto_merge": null,
    "base": {
        "label": "TokTok:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/TokTok/c-toxcore/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/TokTok/c-toxcore/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/TokTok/c-toxcore/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/TokTok/c-toxcore/branches{/branch}",
            "clone_url": "https://github.com/TokTok/c-toxcore.git",
            "collaborators_url": "https://api.github.com/repos/TokTok/c-toxcore/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/TokTok/c-toxcore/comments{/number}",
            "commits_url": "https://api.github.com/repos/TokTok/c-toxcore/commits{/sha}",
            "compare_url": "https://api.github.com/repos/TokTok/c-toxcore/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/TokTok/c-toxcore/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/TokTok/c-toxcore/contributors",
            "created_at": "2016-07-06T08:15:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/TokTok/c-toxcore/deployments",
            "description": "The future of online communications.",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/TokTok/c-toxcore/downloads",
            "events_url": "https://api.github.com/repos/TokTok/c-toxcore/events",
            "fork": true,
            "forks": 292,
            "forks_count": 292,
            "forks_url": "https://api.github.com/repos/TokTok/c-toxcore/forks",
            "full_name": "TokTok/c-toxcore",
            "git_commits_url": "https://api.github.com/repos/TokTok/c-toxcore/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/TokTok/c-toxcore/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/TokTok/c-toxcore/git/tags{/sha}",
            "git_url": "git://github.com/TokTok/c-toxcore.git",
            "has_discussions": false,
            "has_downloads": false,
            "has_issues": true,
            "has_pages": false,
            "has_projects": false,
            "has_wiki": false,
            "homepage": "https://tox.chat",
            "hooks_url": "https://api.github.com/repos/TokTok/c-toxcore/hooks",
            "html_url": "https://github.com/TokTok/c-toxcore",
            "id": 62703642,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/TokTok/c-toxcore/issues{/number}",
            "keys_url": "https://api.github.com/repos/TokTok/c-toxcore/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/TokTok/c-toxcore/labels{/name}",
            "language": "C",
            "languages_url": "https://api.github.com/repos/TokTok/c-toxcore/languages",
            "license": {
                "key": "gpl-3.0",
                "name": "GNU General Public License v3.0",
                "node_id": "MDc6TGljZW5zZTk=",
                "spdx_id": "GPL-3.0",
                "url": "https://api.github.com/licenses/gpl-3.0"
            },
            "merges_url": "https://api.github.com/repos/TokTok/c-toxcore/merges",
            "milestones_url": "https://api.github.com/repos/TokTok/c-toxcore/milestones{/number}",
            "mirror_url": null,
            "name": "c-toxcore",
            "node_id": "MDEwOlJlcG9zaXRvcnk2MjcwMzY0Mg==",
            "notifications_url": "https://api.github.com/repos/TokTok/c-toxcore/notifications{?since,all,participating}",
            "open_issues": 210,
            "open_issues_count": 210,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/17427091?v=4",
                "events_url": "https://api.github.com/users/TokTok/events{/privacy}",
                "followers_url": "https://api.github.com/users/TokTok/followers",
                "following_url": "https://api.github.com/users/TokTok/following{/other_user}",
                "gists_url": "https://api.github.com/users/TokTok/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/TokTok",
                "id": 17427091,
                "login": "TokTok",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3NDI3MDkx",
                "organizations_url": "https://api.github.com/users/TokTok/orgs",
                "received_events_url": "https://api.github.com/users/TokTok/received_events",
                "repos_url": "https://api.github.com/users/TokTok/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/TokTok/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/TokTok/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/TokTok",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls{/number}",
            "pushed_at": "2025-01-24T18:18:40Z",
            "releases_url": "https://api.github.com/repos/TokTok/c-toxcore/releases{/id}",
            "size": 25245,
            "ssh_url": "git@github.com:TokTok/c-toxcore.git",
            "stargazers_count": 2329,
            "stargazers_url": "https://api.github.com/repos/TokTok/c-toxcore/stargazers",
            "statuses_url": "https://api.github.com/repos/TokTok/c-toxcore/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/TokTok/c-toxcore/subscribers",
            "subscription_url": "https://api.github.com/repos/TokTok/c-toxcore/subscription",
            "svn_url": "https://github.com/TokTok/c-toxcore",
            "tags_url": "https://api.github.com/repos/TokTok/c-toxcore/tags",
            "teams_url": "https://api.github.com/repos/TokTok/c-toxcore/teams",
            "topics": [
                "cryptography",
                "encryption",
                "network",
                "p2p",
                "security",
                "toxcore"
            ],
            "trees_url": "https://api.github.com/repos/TokTok/c-toxcore/git/trees{/sha}",
            "updated_at": "2025-01-24T22:05:30Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore",
            "visibility": "public",
            "watchers": 2329,
            "watchers_count": 2329,
            "web_commit_signoff_required": false
        },
        "sha": "6872c14e1a02445d945623ee6e85230c5d7ecbce",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/17427091?v=4",
            "events_url": "https://api.github.com/users/TokTok/events{/privacy}",
            "followers_url": "https://api.github.com/users/TokTok/followers",
            "following_url": "https://api.github.com/users/TokTok/following{/other_user}",
            "gists_url": "https://api.github.com/users/TokTok/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/TokTok",
            "id": 17427091,
            "login": "TokTok",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3NDI3MDkx",
            "organizations_url": "https://api.github.com/users/TokTok/orgs",
            "received_events_url": "https://api.github.com/users/TokTok/received_events",
            "repos_url": "https://api.github.com/users/TokTok/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/TokTok/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/TokTok/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/TokTok",
            "user_view_type": "public"
        }
    },
    "body": "\n\n<!-- Reviewable:start -->\nThis change isâ€‚[<img src=\"https://reviewable.io/review_button.svg\" height=\"34\" align=\"absmiddle\" alt=\"Reviewable\"/>](https://reviewable.io/reviews/toktok/c-toxcore/1069)\n<!-- Reviewable:end -->\n",
    "changed_files": 15,
    "closed_at": "2018-09-05T19:11:08Z",
    "comment_data": [
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/1069#discussion_r209452610"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/209452610"
                }
            },
            "author_association": "MEMBER",
            "body": "This can be a regular assignment.",
            "commit_id": "1b2322284f0b688af3a349fe4331be15a565084c",
            "created_at": "2018-08-12T11:58:50Z",
            "diff_hunk": "@@ -446,7 +446,98 @@ static int connect_to_closest(Group_Chats *g_c, uint32_t groupnumber, void *user\n     return 0;\n }\n \n-/* Add a peer to the group chat.\n+static int get_frozen_index(Group_c *g, uint16_t peer_number)\n+{\n+    for (uint32_t i = 0; i < g->numfrozen; ++i) {\n+        if (g->frozen[i].peer_number == peer_number) {\n+            return i;\n+        }\n+    }\n+\n+    return -1;\n+}\n+\n+/* Update last_active timestamp on peer, and thaw the peer if it is frozen.\n+ *\n+ * return peer index if peer is in the conference.\n+ * return -1 otherwise, and on error.\n+ */\n+static int note_peer_active(Group_Chats *g_c, uint32_t groupnumber, uint16_t peer_number, void *userdata)\n+{\n+    Group_c *g = get_group_c(g_c, groupnumber);\n+\n+    if (!g) {\n+        return -1;\n+    }\n+\n+    int peer_index = get_peer_index(g, peer_number);\n+\n+    if (peer_index != -1) {\n+        g->group[peer_index].last_active = unix_time();\n+        return peer_index;\n+    }\n+\n+    int frozen_index = get_frozen_index(g, peer_number);\n+\n+    if (frozen_index == -1) {\n+        return -1;\n+    }\n+\n+    /* Now thaw the peer */\n+\n+    Group_Peer *temp = (Group_Peer *)realloc(g->group, sizeof(Group_Peer) * (g->numpeers + 1));\n+\n+    if (temp == nullptr) {\n+        return -1;\n+    }\n+\n+    memcpy(&temp[g->numpeers], &g->frozen[frozen_index], sizeof(Group_Peer));",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/1069#discussion_r209452610",
            "id": 209452610,
            "line": null,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwOTQ1MjYxMA==",
            "original_commit_id": "951a5be9bff07aab5c92c0f9dfc3e00159ea72e5",
            "original_line": 494,
            "original_position": 59,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": null,
            "pull_request_review_id": 145472037,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/209452610/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2018-09-05T19:00:00Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/209452610",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/1069#discussion_r209452641"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/209452641"
                }
            },
            "author_association": "MEMBER",
            "body": "Also regular assignment.",
            "commit_id": "1b2322284f0b688af3a349fe4331be15a565084c",
            "created_at": "2018-08-12T11:59:30Z",
            "diff_hunk": "@@ -446,7 +446,98 @@ static int connect_to_closest(Group_Chats *g_c, uint32_t groupnumber, void *user\n     return 0;\n }\n \n-/* Add a peer to the group chat.\n+static int get_frozen_index(Group_c *g, uint16_t peer_number)\n+{\n+    for (uint32_t i = 0; i < g->numfrozen; ++i) {\n+        if (g->frozen[i].peer_number == peer_number) {\n+            return i;\n+        }\n+    }\n+\n+    return -1;\n+}\n+\n+/* Update last_active timestamp on peer, and thaw the peer if it is frozen.\n+ *\n+ * return peer index if peer is in the conference.\n+ * return -1 otherwise, and on error.\n+ */\n+static int note_peer_active(Group_Chats *g_c, uint32_t groupnumber, uint16_t peer_number, void *userdata)\n+{\n+    Group_c *g = get_group_c(g_c, groupnumber);\n+\n+    if (!g) {\n+        return -1;\n+    }\n+\n+    int peer_index = get_peer_index(g, peer_number);\n+\n+    if (peer_index != -1) {\n+        g->group[peer_index].last_active = unix_time();\n+        return peer_index;\n+    }\n+\n+    int frozen_index = get_frozen_index(g, peer_number);\n+\n+    if (frozen_index == -1) {\n+        return -1;\n+    }\n+\n+    /* Now thaw the peer */\n+\n+    Group_Peer *temp = (Group_Peer *)realloc(g->group, sizeof(Group_Peer) * (g->numpeers + 1));\n+\n+    if (temp == nullptr) {\n+        return -1;\n+    }\n+\n+    memcpy(&temp[g->numpeers], &g->frozen[frozen_index], sizeof(Group_Peer));\n+    temp[g->numpeers].nick_updated = false;\n+    temp[g->numpeers].temp_pk_updated = false;\n+    g->group = temp;\n+\n+    g->group[g->numpeers].last_active = unix_time();\n+\n+    add_to_closest(g_c, groupnumber, g->group[g->numpeers].real_pk, g->group[g->numpeers].temp_pk);\n+\n+    ++g->numpeers;\n+\n+    if (g_c->peer_list_changed_callback) {\n+        g_c->peer_list_changed_callback(g_c->m, groupnumber, userdata);\n+    }\n+\n+    if (g->peer_on_join) {\n+        g->peer_on_join(g->object, groupnumber, g->numpeers - 1);\n+    }\n+\n+    --g->numfrozen;\n+\n+    if (g->numfrozen == 0) {\n+        free(g->frozen);\n+        g->frozen = nullptr;\n+    } else {\n+        if (g->numfrozen != (uint32_t)frozen_index) {\n+            memcpy(&g->frozen[frozen_index], &g->frozen[g->numfrozen], sizeof(Group_Peer));",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/1069#discussion_r209452641",
            "id": 209452641,
            "line": null,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwOTQ1MjY0MQ==",
            "original_commit_id": "951a5be9bff07aab5c92c0f9dfc3e00159ea72e5",
            "original_line": 520,
            "original_position": 85,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": null,
            "pull_request_review_id": 145472037,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/209452641/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2018-09-05T19:00:00Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/209452641",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/1069#discussion_r209452736"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/209452736"
                }
            },
            "author_association": "MEMBER",
            "body": "This can be \"const int\" if you use a ternary expression.",
            "commit_id": "1b2322284f0b688af3a349fe4331be15a565084c",
            "created_at": "2018-08-12T12:01:50Z",
            "diff_hunk": "@@ -456,31 +547,33 @@ static int connect_to_closest(Group_Chats *g_c, uint32_t groupnumber, void *user\n  * return -1 if error.\n  */\n static int addpeer(Group_Chats *g_c, uint32_t groupnumber, const uint8_t *real_pk, const uint8_t *temp_pk,\n-                   uint16_t peer_number, void *userdata, bool do_gc_callback)\n+                   uint16_t peer_number, void *userdata, bool fresh, bool do_gc_callback)\n {\n     Group_c *g = get_group_c(g_c, groupnumber);\n \n     if (!g) {\n         return -1;\n     }\n \n-    // TODO(irungentoo):\n-    int peer_index = peer_in_chat(g, real_pk);\n+    int peer_index = -1;",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/1069#discussion_r209452736",
            "id": 209452736,
            "line": null,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwOTQ1MjczNg==",
            "original_commit_id": "951a5be9bff07aab5c92c0f9dfc3e00159ea72e5",
            "original_line": 558,
            "original_position": 124,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": null,
            "pull_request_review_id": 145472037,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/209452736/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2018-09-05T19:00:00Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/209452736",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/1069#discussion_r209452787"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/209452787"
                }
            },
            "author_association": "MEMBER",
            "body": "Use assignment.",
            "commit_id": "1b2322284f0b688af3a349fe4331be15a565084c",
            "created_at": "2018-08-12T12:03:08Z",
            "diff_hunk": "@@ -538,33 +632,48 @@ static int remove_close_conn(Group_Chats *g_c, uint32_t groupnumber, int friendc\n }\n \n \n+static void remove_from_closest(Group_c *g, int peer_index)\n+{\n+    for (uint32_t i = 0; i < DESIRED_CLOSE_CONNECTIONS; ++i) { /* If peer is in closest_peers list, remove it. */\n+        if (g->closest_peers[i].entry && id_equal(g->closest_peers[i].real_pk, g->group[peer_index].real_pk)) {\n+            g->closest_peers[i].entry = 0;\n+            g->changed = GROUPCHAT_CLOSEST_REMOVED;\n+            break;\n+        }\n+    }\n+}\n+\n /*\n  * Delete a peer from the group chat.\n  *\n  * return 0 if success\n  * return -1 if error.\n  */\n-static int delpeer(Group_Chats *g_c, uint32_t groupnumber, int peer_index, void *userdata)\n+static int delpeer(Group_Chats *g_c, uint32_t groupnumber, int peer_index, bool freeze, void *userdata)\n {\n     Group_c *g = get_group_c(g_c, groupnumber);\n \n     if (!g) {\n         return -1;\n     }\n \n-    uint32_t i;\n+    if (freeze) {\n+        Group_Peer *temp = (Group_Peer *)realloc(g->frozen, sizeof(Group_Peer) * (g->numfrozen + 1));\n \n-    for (i = 0; i < DESIRED_CLOSE_CONNECTIONS; ++i) { /* If peer is in closest_peers list, remove it. */\n-        if (g->closest_peers[i].entry && id_equal(g->closest_peers[i].real_pk, g->group[peer_index].real_pk)) {\n-            g->closest_peers[i].entry = 0;\n-            g->changed = GROUPCHAT_CLOSEST_REMOVED;\n-            break;\n+        if (temp == nullptr) {\n+            return -1;\n         }\n+\n+        memcpy(&temp[g->numfrozen], &g->group[peer_index], sizeof(Group_Peer));",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/1069#discussion_r209452787",
            "id": 209452787,
            "line": null,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwOTQ1Mjc4Nw==",
            "original_commit_id": "951a5be9bff07aab5c92c0f9dfc3e00159ea72e5",
            "original_line": 667,
            "original_position": 210,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": null,
            "pull_request_review_id": 145472037,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/209452787/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2018-09-05T19:00:00Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/209452787",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/1069#discussion_r209452815"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/209452815"
                }
            },
            "author_association": "MEMBER",
            "body": "const",
            "commit_id": "1b2322284f0b688af3a349fe4331be15a565084c",
            "created_at": "2018-08-12T12:04:04Z",
            "diff_hunk": "@@ -1097,6 +1254,43 @@ int invite_friend(Group_Chats *g_c, uint32_t friendnumber, uint32_t groupnumber)\n     return -2;\n }\n \n+/* Send a rejoin packet to a peer if we have a friend connection to the peer.\n+ * return 0 if a packet was sent.\n+ * return -1 otherwise.\n+ */\n+static int try_send_rejoin(Group_Chats *g_c, uint32_t groupnumber, const uint8_t *real_pk)\n+{\n+    Group_c *g = get_group_c(g_c, groupnumber);\n+\n+    if (!g) {\n+        return -1;\n+    }\n+\n+    int friendcon_id = getfriend_conn_id_pk(g_c->fr_c, real_pk);",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/1069#discussion_r209452815",
            "id": 209452815,
            "line": null,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwOTQ1MjgxNQ==",
            "original_commit_id": "951a5be9bff07aab5c92c0f9dfc3e00159ea72e5",
            "original_line": 1266,
            "original_position": 341,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": null,
            "pull_request_review_id": 145472037,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/209452815/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2018-09-05T19:00:00Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/209452815",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/1069#discussion_r209452821"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/209452821"
                }
            },
            "author_association": "MEMBER",
            "body": "const",
            "commit_id": "1b2322284f0b688af3a349fe4331be15a565084c",
            "created_at": "2018-08-12T12:04:12Z",
            "diff_hunk": "@@ -1097,6 +1254,43 @@ int invite_friend(Group_Chats *g_c, uint32_t friendnumber, uint32_t groupnumber)\n     return -2;\n }\n \n+/* Send a rejoin packet to a peer if we have a friend connection to the peer.\n+ * return 0 if a packet was sent.\n+ * return -1 otherwise.\n+ */\n+static int try_send_rejoin(Group_Chats *g_c, uint32_t groupnumber, const uint8_t *real_pk)\n+{\n+    Group_c *g = get_group_c(g_c, groupnumber);\n+\n+    if (!g) {\n+        return -1;\n+    }\n+\n+    int friendcon_id = getfriend_conn_id_pk(g_c->fr_c, real_pk);\n+\n+    if (friendcon_id == -1) {\n+        return -1;\n+    }\n+\n+    uint8_t packet[1 + GROUP_IDENTIFIER_LENGTH];\n+    packet[0] = PACKET_ID_REJOIN_CONFERENCE;\n+    memcpy(packet + 1, g->identifier, GROUP_IDENTIFIER_LENGTH);\n+\n+    if (write_cryptpacket(friendconn_net_crypto(g_c->fr_c), friend_connection_crypt_connection_id(g_c->fr_c, friendcon_id),\n+                          packet, sizeof(packet), 0) == -1) {\n+        return -1;\n+    }\n+\n+    int close_index = add_conn_to_groupchat(g_c, friendcon_id, groupnumber, 0, 1);",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/1069#discussion_r209452821",
            "id": 209452821,
            "line": null,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwOTQ1MjgyMQ==",
            "original_commit_id": "951a5be9bff07aab5c92c0f9dfc3e00159ea72e5",
            "original_line": 1284,
            "original_position": 356,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": null,
            "pull_request_review_id": 145472037,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/209452821/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2018-09-05T19:00:00Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/209452821",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/1069#discussion_r209459704"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/209459704"
                }
            },
            "author_association": "MEMBER",
            "body": "seamlessly",
            "commit_id": "1b2322284f0b688af3a349fe4331be15a565084c",
            "created_at": "2018-08-12T15:51:24Z",
            "diff_hunk": "@@ -0,0 +1,111 @@\n+Minimal persistent conferences\n+\n+# Specification of changes from pre-existing conference specification\n+We add one new packet type:\n+\n+Rejoin Conference packet\n+\n+| Length | Contents                        |\n+|:-------|:--------------------------------|\n+| `1`    | `uint8_t` (0x64)                |\n+| `33`   | Group chat identifier           |\n+\n+\n+A peer times out from a group if it has been inactive for 60s. When a peer\n+times out, we flag it as _frozen_. Frozen peers are disregarded for all\n+purposes except those discussed below - in particular no packets are sent to\n+them except as described below, they are omitted from the peer lists sent to\n+the client or in a Peer Response packet, and they are not considered when\n+determining closest peers for establishing direct connections.\n+\n+A peer is considered to be active if we receive a group message or Rejoin\n+packet from it, or a New Peer message for it.\n+\n+If a frozen peer is seen to be active, we remove its 'frozen' flag and send a\n+Name group message. (We can hold off on sending this message until the next\n+tox\\_iterate, and only send one message if many frozen peers become active at\n+once).\n+\n+If we receive a New Peer message for a peer, we update its dht key.\n+\n+If we receive a group message originating from an unknown peer, we drop the\n+message but send a Peer Query packet back to the peer who directly sent us the\n+message. (This is current behaviour; it's mentioned here because it's important\n+and not currently mentioned in the spec.)\n+\n+If we receive a Rejoin packet from a peer we update its dht key, add a\n+temporary groupchat connection for the peer, and, once the connection is\n+online, send out a New Peer message announcing the peer.\n+\n+Whenever we make a new friend connection, we check if the public key is that \n+of any frozen peer. If so, we send it a Rejoin packet, add a temporary\n+groupchat connection for it, and, once the connection is online, send the\n+peer a Peer Query packet.\n+\n+We do the same with a peer when we are setting it as frozen if we have a\n+friend connection to it.\n+\n+The temporary groupchat connections established in sending and handling Rejoin\n+packets are not immediately operational (because group numbers are not known);\n+rather, an Online packet is sent when we handle a Rejoin packet.\n+\n+When a connection is set as online as a result of an Online packet, we ping\n+the group.\n+\n+When we receive a Title Response packet, we set the title if it is currently\n+empty or if all peers became frozen since we last set the title.\n+\n+# Discussion\n+## Overview\n+The intention is to recover seemlessly from splits in the group, the most ",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/1069#discussion_r209459704",
            "id": 209459704,
            "line": null,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwOTQ1OTcwNA==",
            "original_commit_id": "3078a7efecf304ca536684f8ca2163b56ba64f6b",
            "original_line": 60,
            "original_position": 60,
            "original_start_line": null,
            "path": "docs/minpgc.md",
            "position": null,
            "pull_request_review_id": 145478916,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/209459704/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2018-09-05T19:00:00Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/209459704",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/1069#discussion_r210440185"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/210440185"
                }
            },
            "author_association": "MEMBER",
            "body": "I don't know.. `bool disconnected[NUM_GROUP_TOX] = {0};` does the same. You may have a reason to have this explicit loop. What's the reason?",
            "commit_id": "1b2322284f0b688af3a349fe4331be15a565084c",
            "created_at": "2018-08-15T23:28:50Z",
            "diff_hunk": "@@ -97,8 +103,87 @@ static void handle_conference_message(\n     }\n }\n \n+static bool toxes_are_disconnected_from_group(uint32_t tox_count, Tox **toxes, int disconnected_count,\n+        bool *disconnected)\n+{\n+    for (uint32_t i = 0; i < tox_count; i++) {\n+        if (disconnected[i]) {\n+            continue;\n+        }\n+\n+        if (tox_conference_peer_count(toxes[i], 0, nullptr) > tox_count - NUM_DISCONNECT) {\n+            return false;\n+        }\n+    }\n+\n+    return true;\n+}\n+\n+static bool all_connected_to_group(uint32_t tox_count, Tox **toxes)\n+{\n+    for (uint32_t i = 0; i < tox_count; i++) {\n+        if (tox_conference_peer_count(toxes[i], 0, nullptr) < tox_count) {\n+            return false;\n+        }\n+    }\n+\n+    return true;\n+}\n+\n static void run_conference_tests(Tox **toxes, State *state)\n {\n+    /* disabling name propagation check for now, as it occasionally fails due\n+     * to disconnections too short to trigger freezing */\n+    const bool check_name_propagation = false;\n+\n+    printf(\"letting random toxes timeout\\n\");\n+    bool disconnected[NUM_GROUP_TOX];\n+\n+    for (uint16_t i = 0; i < NUM_GROUP_TOX; ++i) {\n+        disconnected[i] = false;",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/1069#discussion_r210440185",
            "id": 210440185,
            "line": null,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMDQ0MDE4NQ==",
            "original_commit_id": "1fc620c0c1481e6207b047d2e5d9f599fbd3dd3a",
            "original_line": 143,
            "original_position": 126,
            "original_start_line": null,
            "path": "auto_tests/conference_test.c",
            "position": null,
            "pull_request_review_id": 146656069,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/210440185/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2018-09-05T19:00:00Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/210440185",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/1069#discussion_r210440348"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/210440348"
                }
            },
            "author_association": "MEMBER",
            "body": "It took me about 30 seconds to understand this loop. I might be incompetent, but more incompetent people are going to read this and not understand it within 10 seconds. Perhaps you can factor this out into a function with a name (and maybe a comment) to clarify what this does.",
            "commit_id": "1b2322284f0b688af3a349fe4331be15a565084c",
            "created_at": "2018-08-15T23:29:58Z",
            "diff_hunk": "@@ -97,8 +103,87 @@ static void handle_conference_message(\n     }\n }\n \n+static bool toxes_are_disconnected_from_group(uint32_t tox_count, Tox **toxes, int disconnected_count,\n+        bool *disconnected)\n+{\n+    for (uint32_t i = 0; i < tox_count; i++) {\n+        if (disconnected[i]) {\n+            continue;\n+        }\n+\n+        if (tox_conference_peer_count(toxes[i], 0, nullptr) > tox_count - NUM_DISCONNECT) {\n+            return false;\n+        }\n+    }\n+\n+    return true;\n+}\n+\n+static bool all_connected_to_group(uint32_t tox_count, Tox **toxes)\n+{\n+    for (uint32_t i = 0; i < tox_count; i++) {\n+        if (tox_conference_peer_count(toxes[i], 0, nullptr) < tox_count) {\n+            return false;\n+        }\n+    }\n+\n+    return true;\n+}\n+\n static void run_conference_tests(Tox **toxes, State *state)\n {\n+    /* disabling name propagation check for now, as it occasionally fails due\n+     * to disconnections too short to trigger freezing */\n+    const bool check_name_propagation = false;\n+\n+    printf(\"letting random toxes timeout\\n\");\n+    bool disconnected[NUM_GROUP_TOX];\n+\n+    for (uint16_t i = 0; i < NUM_GROUP_TOX; ++i) {\n+        disconnected[i] = false;\n+    }\n+\n+    for (uint16_t i = 0; i < NUM_DISCONNECT; ++i) {\n+        uint16_t disconnect;\n+\n+        do {\n+            disconnect = random_u16() % NUM_GROUP_TOX;",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/1069#discussion_r210440348",
            "id": 210440348,
            "line": null,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMDQ0MDM0OA==",
            "original_commit_id": "1fc620c0c1481e6207b047d2e5d9f599fbd3dd3a",
            "original_line": 150,
            "original_position": 133,
            "original_start_line": null,
            "path": "auto_tests/conference_test.c",
            "position": null,
            "pull_request_review_id": 146656069,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/210440348/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2018-09-05T19:00:00Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/210440348",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/1069#discussion_r210440898"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/210440898"
                }
            },
            "author_association": "MEMBER",
            "body": "It might be worth asserting that this isn't 0 before decrementing. I'm conflicted, because I soon want `assert` to mean \"provably true\" and this assertion won't be easy to prove. Just something to consider.",
            "commit_id": "1b2322284f0b688af3a349fe4331be15a565084c",
            "created_at": "2018-08-15T23:33:25Z",
            "diff_hunk": "@@ -447,7 +447,96 @@ static int connect_to_closest(Group_Chats *g_c, uint32_t groupnumber, void *user\n     return 0;\n }\n \n-/* Add a peer to the group chat.\n+static int get_frozen_index(Group_c *g, uint16_t peer_number)\n+{\n+    for (uint32_t i = 0; i < g->numfrozen; ++i) {\n+        if (g->frozen[i].peer_number == peer_number) {\n+            return i;\n+        }\n+    }\n+\n+    return -1;\n+}\n+\n+/* Update last_active timestamp on peer, and thaw the peer if it is frozen.\n+ *\n+ * return peer index if peer is in the conference.\n+ * return -1 otherwise, and on error.\n+ */\n+static int note_peer_active(Group_Chats *g_c, uint32_t groupnumber, uint16_t peer_number, void *userdata)\n+{\n+    Group_c *g = get_group_c(g_c, groupnumber);\n+\n+    if (!g) {\n+        return -1;\n+    }\n+\n+    const int peer_index = get_peer_index(g, peer_number);\n+\n+    if (peer_index != -1) {\n+        g->group[peer_index].last_active = unix_time();\n+        return peer_index;\n+    }\n+\n+    const int frozen_index = get_frozen_index(g, peer_number);\n+\n+    if (frozen_index == -1) {\n+        return -1;\n+    }\n+\n+    /* Now thaw the peer */\n+\n+    Group_Peer *temp = (Group_Peer *)realloc(g->group, sizeof(Group_Peer) * (g->numpeers + 1));\n+\n+    if (temp == nullptr) {\n+        return -1;\n+    }\n+\n+    g->group = temp;\n+    g->group[g->numpeers] = g->frozen[frozen_index];\n+    g->group[g->numpeers].temp_pk_updated = false;\n+    g->group[g->numpeers].last_active = unix_time();\n+\n+    add_to_closest(g_c, groupnumber, g->group[g->numpeers].real_pk, g->group[g->numpeers].temp_pk);\n+\n+    ++g->numpeers;\n+\n+    if (g_c->peer_list_changed_callback) {\n+        g_c->peer_list_changed_callback(g_c->m, groupnumber, userdata);\n+    }\n+\n+    if (g->peer_on_join) {\n+        g->peer_on_join(g->object, groupnumber, g->numpeers - 1);\n+    }\n+\n+    --g->numfrozen;",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/1069#discussion_r210440898",
            "id": 210440898,
            "line": null,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMDQ0MDg5OA==",
            "original_commit_id": "1fc620c0c1481e6207b047d2e5d9f599fbd3dd3a",
            "original_line": 500,
            "original_position": 76,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": null,
            "pull_request_review_id": 146656069,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/210440898/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2018-09-05T19:00:00Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/210440898",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/1069#discussion_r211109930"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/211109930"
                }
            },
            "author_association": "MEMBER",
            "body": "No good reason. Fixed.",
            "commit_id": "1b2322284f0b688af3a349fe4331be15a565084c",
            "created_at": "2018-08-19T17:44:13Z",
            "diff_hunk": "@@ -97,8 +103,87 @@ static void handle_conference_message(\n     }\n }\n \n+static bool toxes_are_disconnected_from_group(uint32_t tox_count, Tox **toxes, int disconnected_count,\n+        bool *disconnected)\n+{\n+    for (uint32_t i = 0; i < tox_count; i++) {\n+        if (disconnected[i]) {\n+            continue;\n+        }\n+\n+        if (tox_conference_peer_count(toxes[i], 0, nullptr) > tox_count - NUM_DISCONNECT) {\n+            return false;\n+        }\n+    }\n+\n+    return true;\n+}\n+\n+static bool all_connected_to_group(uint32_t tox_count, Tox **toxes)\n+{\n+    for (uint32_t i = 0; i < tox_count; i++) {\n+        if (tox_conference_peer_count(toxes[i], 0, nullptr) < tox_count) {\n+            return false;\n+        }\n+    }\n+\n+    return true;\n+}\n+\n static void run_conference_tests(Tox **toxes, State *state)\n {\n+    /* disabling name propagation check for now, as it occasionally fails due\n+     * to disconnections too short to trigger freezing */\n+    const bool check_name_propagation = false;\n+\n+    printf(\"letting random toxes timeout\\n\");\n+    bool disconnected[NUM_GROUP_TOX];\n+\n+    for (uint16_t i = 0; i < NUM_GROUP_TOX; ++i) {\n+        disconnected[i] = false;",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/1069#discussion_r211109930",
            "id": 211109930,
            "in_reply_to_id": 210440185,
            "line": null,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMTEwOTkzMA==",
            "original_commit_id": "1fc620c0c1481e6207b047d2e5d9f599fbd3dd3a",
            "original_line": 143,
            "original_position": 126,
            "original_start_line": null,
            "path": "auto_tests/conference_test.c",
            "position": null,
            "pull_request_review_id": 147465904,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/211109930/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2018-09-05T19:00:00Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/211109930",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/590069?v=4",
                "events_url": "https://api.github.com/users/zugz/events{/privacy}",
                "followers_url": "https://api.github.com/users/zugz/followers",
                "following_url": "https://api.github.com/users/zugz/following{/other_user}",
                "gists_url": "https://api.github.com/users/zugz/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zugz",
                "id": 590069,
                "login": "zugz",
                "node_id": "MDQ6VXNlcjU5MDA2OQ==",
                "organizations_url": "https://api.github.com/users/zugz/orgs",
                "received_events_url": "https://api.github.com/users/zugz/received_events",
                "repos_url": "https://api.github.com/users/zugz/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zugz/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zugz/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zugz",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/1069#discussion_r211109932"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/211109932"
                }
            },
            "author_association": "MEMBER",
            "body": "Done.",
            "commit_id": "1b2322284f0b688af3a349fe4331be15a565084c",
            "created_at": "2018-08-19T17:44:16Z",
            "diff_hunk": "@@ -97,8 +103,87 @@ static void handle_conference_message(\n     }\n }\n \n+static bool toxes_are_disconnected_from_group(uint32_t tox_count, Tox **toxes, int disconnected_count,\n+        bool *disconnected)\n+{\n+    for (uint32_t i = 0; i < tox_count; i++) {\n+        if (disconnected[i]) {\n+            continue;\n+        }\n+\n+        if (tox_conference_peer_count(toxes[i], 0, nullptr) > tox_count - NUM_DISCONNECT) {\n+            return false;\n+        }\n+    }\n+\n+    return true;\n+}\n+\n+static bool all_connected_to_group(uint32_t tox_count, Tox **toxes)\n+{\n+    for (uint32_t i = 0; i < tox_count; i++) {\n+        if (tox_conference_peer_count(toxes[i], 0, nullptr) < tox_count) {\n+            return false;\n+        }\n+    }\n+\n+    return true;\n+}\n+\n static void run_conference_tests(Tox **toxes, State *state)\n {\n+    /* disabling name propagation check for now, as it occasionally fails due\n+     * to disconnections too short to trigger freezing */\n+    const bool check_name_propagation = false;\n+\n+    printf(\"letting random toxes timeout\\n\");\n+    bool disconnected[NUM_GROUP_TOX];\n+\n+    for (uint16_t i = 0; i < NUM_GROUP_TOX; ++i) {\n+        disconnected[i] = false;\n+    }\n+\n+    for (uint16_t i = 0; i < NUM_DISCONNECT; ++i) {\n+        uint16_t disconnect;\n+\n+        do {\n+            disconnect = random_u16() % NUM_GROUP_TOX;",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/1069#discussion_r211109932",
            "id": 211109932,
            "in_reply_to_id": 210440348,
            "line": null,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMTEwOTkzMg==",
            "original_commit_id": "1fc620c0c1481e6207b047d2e5d9f599fbd3dd3a",
            "original_line": 150,
            "original_position": 133,
            "original_start_line": null,
            "path": "auto_tests/conference_test.c",
            "position": null,
            "pull_request_review_id": 147465905,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/211109932/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2018-09-05T19:00:00Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/211109932",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/590069?v=4",
                "events_url": "https://api.github.com/users/zugz/events{/privacy}",
                "followers_url": "https://api.github.com/users/zugz/followers",
                "following_url": "https://api.github.com/users/zugz/following{/other_user}",
                "gists_url": "https://api.github.com/users/zugz/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zugz",
                "id": 590069,
                "login": "zugz",
                "node_id": "MDQ6VXNlcjU5MDA2OQ==",
                "organizations_url": "https://api.github.com/users/zugz/orgs",
                "received_events_url": "https://api.github.com/users/zugz/received_events",
                "repos_url": "https://api.github.com/users/zugz/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zugz/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zugz/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zugz",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/1069#discussion_r211109934"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/211109934"
                }
            },
            "author_association": "MEMBER",
            "body": "Instead, I rearranged things to call the callbacks after we deal with g->frozen. So now we know g->numfrozen > 0 because we just checked that get_frozen_index didn't return -1. It makes more sense this way anyway.",
            "commit_id": "1b2322284f0b688af3a349fe4331be15a565084c",
            "created_at": "2018-08-19T17:44:19Z",
            "diff_hunk": "@@ -447,7 +447,96 @@ static int connect_to_closest(Group_Chats *g_c, uint32_t groupnumber, void *user\n     return 0;\n }\n \n-/* Add a peer to the group chat.\n+static int get_frozen_index(Group_c *g, uint16_t peer_number)\n+{\n+    for (uint32_t i = 0; i < g->numfrozen; ++i) {\n+        if (g->frozen[i].peer_number == peer_number) {\n+            return i;\n+        }\n+    }\n+\n+    return -1;\n+}\n+\n+/* Update last_active timestamp on peer, and thaw the peer if it is frozen.\n+ *\n+ * return peer index if peer is in the conference.\n+ * return -1 otherwise, and on error.\n+ */\n+static int note_peer_active(Group_Chats *g_c, uint32_t groupnumber, uint16_t peer_number, void *userdata)\n+{\n+    Group_c *g = get_group_c(g_c, groupnumber);\n+\n+    if (!g) {\n+        return -1;\n+    }\n+\n+    const int peer_index = get_peer_index(g, peer_number);\n+\n+    if (peer_index != -1) {\n+        g->group[peer_index].last_active = unix_time();\n+        return peer_index;\n+    }\n+\n+    const int frozen_index = get_frozen_index(g, peer_number);\n+\n+    if (frozen_index == -1) {\n+        return -1;\n+    }\n+\n+    /* Now thaw the peer */\n+\n+    Group_Peer *temp = (Group_Peer *)realloc(g->group, sizeof(Group_Peer) * (g->numpeers + 1));\n+\n+    if (temp == nullptr) {\n+        return -1;\n+    }\n+\n+    g->group = temp;\n+    g->group[g->numpeers] = g->frozen[frozen_index];\n+    g->group[g->numpeers].temp_pk_updated = false;\n+    g->group[g->numpeers].last_active = unix_time();\n+\n+    add_to_closest(g_c, groupnumber, g->group[g->numpeers].real_pk, g->group[g->numpeers].temp_pk);\n+\n+    ++g->numpeers;\n+\n+    if (g_c->peer_list_changed_callback) {\n+        g_c->peer_list_changed_callback(g_c->m, groupnumber, userdata);\n+    }\n+\n+    if (g->peer_on_join) {\n+        g->peer_on_join(g->object, groupnumber, g->numpeers - 1);\n+    }\n+\n+    --g->numfrozen;",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/1069#discussion_r211109934",
            "id": 211109934,
            "in_reply_to_id": 210440898,
            "line": null,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMTEwOTkzNA==",
            "original_commit_id": "1fc620c0c1481e6207b047d2e5d9f599fbd3dd3a",
            "original_line": 500,
            "original_position": 76,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": null,
            "pull_request_review_id": 147465908,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/211109934/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2018-09-05T19:00:00Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/211109934",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/590069?v=4",
                "events_url": "https://api.github.com/users/zugz/events{/privacy}",
                "followers_url": "https://api.github.com/users/zugz/followers",
                "following_url": "https://api.github.com/users/zugz/following{/other_user}",
                "gists_url": "https://api.github.com/users/zugz/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zugz",
                "id": 590069,
                "login": "zugz",
                "node_id": "MDQ6VXNlcjU5MDA2OQ==",
                "organizations_url": "https://api.github.com/users/zugz/orgs",
                "received_events_url": "https://api.github.com/users/zugz/received_events",
                "repos_url": "https://api.github.com/users/zugz/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zugz/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zugz/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zugz",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/1069#discussion_r211109982"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/211109982"
                }
            },
            "author_association": "MEMBER",
            "body": "done.",
            "commit_id": "1b2322284f0b688af3a349fe4331be15a565084c",
            "created_at": "2018-08-19T17:46:59Z",
            "diff_hunk": "@@ -1097,6 +1254,43 @@ int invite_friend(Group_Chats *g_c, uint32_t friendnumber, uint32_t groupnumber)\n     return -2;\n }\n \n+/* Send a rejoin packet to a peer if we have a friend connection to the peer.\n+ * return 0 if a packet was sent.\n+ * return -1 otherwise.\n+ */\n+static int try_send_rejoin(Group_Chats *g_c, uint32_t groupnumber, const uint8_t *real_pk)\n+{\n+    Group_c *g = get_group_c(g_c, groupnumber);\n+\n+    if (!g) {\n+        return -1;\n+    }\n+\n+    int friendcon_id = getfriend_conn_id_pk(g_c->fr_c, real_pk);",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/1069#discussion_r211109982",
            "id": 211109982,
            "in_reply_to_id": 209452815,
            "line": null,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMTEwOTk4Mg==",
            "original_commit_id": "951a5be9bff07aab5c92c0f9dfc3e00159ea72e5",
            "original_line": 1266,
            "original_position": 341,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": null,
            "pull_request_review_id": 147465969,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/211109982/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2018-09-05T19:00:00Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/211109982",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/590069?v=4",
                "events_url": "https://api.github.com/users/zugz/events{/privacy}",
                "followers_url": "https://api.github.com/users/zugz/followers",
                "following_url": "https://api.github.com/users/zugz/following{/other_user}",
                "gists_url": "https://api.github.com/users/zugz/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zugz",
                "id": 590069,
                "login": "zugz",
                "node_id": "MDQ6VXNlcjU5MDA2OQ==",
                "organizations_url": "https://api.github.com/users/zugz/orgs",
                "received_events_url": "https://api.github.com/users/zugz/received_events",
                "repos_url": "https://api.github.com/users/zugz/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zugz/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zugz/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zugz",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/1069#discussion_r215082273"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/215082273"
                }
            },
            "author_association": "MEMBER",
            "body": "Are you sure about this?",
            "commit_id": "1b2322284f0b688af3a349fe4331be15a565084c",
            "created_at": "2018-09-04T22:07:55Z",
            "diff_hunk": "@@ -509,7 +509,7 @@ static int note_peer_active(Group_Chats *g_c, uint32_t groupnumber, uint16_t pee\n \n         Group_Peer *frozen_temp = (Group_Peer *)realloc(g->frozen, sizeof(Group_Peer) * (g->numfrozen));\n \n-        if (frozen_temp == nullptr && g->numfrozen > 0) {\n+        if (frozen_temp == nullptr) {",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/1069#discussion_r215082273",
            "id": 215082273,
            "line": null,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNTA4MjI3Mw==",
            "original_commit_id": "df1863fd70e5f6c17890fdfe5be8ee01c4c6345f",
            "original_line": 512,
            "original_position": 5,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": null,
            "pull_request_review_id": 152272535,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/215082273/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2018-09-05T19:00:00Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/215082273",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/1069#discussion_r215143389"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/215143389"
                }
            },
            "author_association": "MEMBER",
            "body": "Yes. This is something robinli pointed out. We're in the else branch of an \"if (g->numfrozen == 0)\" (and we know from get_frozen_peers that g->numfrozen is non-negative). ",
            "commit_id": "1b2322284f0b688af3a349fe4331be15a565084c",
            "created_at": "2018-09-05T05:56:21Z",
            "diff_hunk": "@@ -509,7 +509,7 @@ static int note_peer_active(Group_Chats *g_c, uint32_t groupnumber, uint16_t pee\n \n         Group_Peer *frozen_temp = (Group_Peer *)realloc(g->frozen, sizeof(Group_Peer) * (g->numfrozen));\n \n-        if (frozen_temp == nullptr && g->numfrozen > 0) {\n+        if (frozen_temp == nullptr) {",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/1069#discussion_r215143389",
            "id": 215143389,
            "in_reply_to_id": 215082273,
            "line": null,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNTE0MzM4OQ==",
            "original_commit_id": "df1863fd70e5f6c17890fdfe5be8ee01c4c6345f",
            "original_line": 512,
            "original_position": 5,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": null,
            "pull_request_review_id": 152343701,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/215143389/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2018-09-05T19:00:00Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/215143389",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/590069?v=4",
                "events_url": "https://api.github.com/users/zugz/events{/privacy}",
                "followers_url": "https://api.github.com/users/zugz/followers",
                "following_url": "https://api.github.com/users/zugz/following{/other_user}",
                "gists_url": "https://api.github.com/users/zugz/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zugz",
                "id": 590069,
                "login": "zugz",
                "node_id": "MDQ6VXNlcjU5MDA2OQ==",
                "organizations_url": "https://api.github.com/users/zugz/orgs",
                "received_events_url": "https://api.github.com/users/zugz/received_events",
                "repos_url": "https://api.github.com/users/zugz/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zugz/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zugz/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zugz",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/1069#discussion_r215284992"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/215284992"
                }
            },
            "author_association": "MEMBER",
            "body": "Ah yes, I see.",
            "commit_id": "1b2322284f0b688af3a349fe4331be15a565084c",
            "created_at": "2018-09-05T14:08:34Z",
            "diff_hunk": "@@ -509,7 +509,7 @@ static int note_peer_active(Group_Chats *g_c, uint32_t groupnumber, uint16_t pee\n \n         Group_Peer *frozen_temp = (Group_Peer *)realloc(g->frozen, sizeof(Group_Peer) * (g->numfrozen));\n \n-        if (frozen_temp == nullptr && g->numfrozen > 0) {\n+        if (frozen_temp == nullptr) {",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/1069#discussion_r215284992",
            "id": 215284992,
            "in_reply_to_id": 215082273,
            "line": null,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNTI4NDk5Mg==",
            "original_commit_id": "df1863fd70e5f6c17890fdfe5be8ee01c4c6345f",
            "original_line": 512,
            "original_position": 5,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": null,
            "pull_request_review_id": 152513722,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/215284992/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2018-09-05T19:00:00Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/215284992",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        }
    ],
    "comment_regular_data": [
        {
            "author_association": "NONE",
            "body": "[![CLA assistant check](https://cla-assistant.io/pull/badge/signed)](https://cla-assistant.io/TokTok/c-toxcore?pullRequest=1069) <br/>All committers have signed the CLA.",
            "created_at": "2018-08-12T11:55:36Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/1069#issuecomment-412337820",
            "id": 412337820,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/1069",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjMzNzgyMA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/412337820/reactions"
            },
            "updated_at": "2018-09-05T19:00:09Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/412337820",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/11571300?v=4",
                "events_url": "https://api.github.com/users/CLAassistant/events{/privacy}",
                "followers_url": "https://api.github.com/users/CLAassistant/followers",
                "following_url": "https://api.github.com/users/CLAassistant/following{/other_user}",
                "gists_url": "https://api.github.com/users/CLAassistant/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/CLAassistant",
                "id": 11571300,
                "login": "CLAassistant",
                "node_id": "MDQ6VXNlcjExNTcxMzAw",
                "organizations_url": "https://api.github.com/users/CLAassistant/orgs",
                "received_events_url": "https://api.github.com/users/CLAassistant/received_events",
                "repos_url": "https://api.github.com/users/CLAassistant/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/CLAassistant/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/CLAassistant/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/CLAassistant",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Done all. Thanks. I also made some more things const.\n",
            "created_at": "2018-08-12T13:54:26Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/1069#issuecomment-412344476",
            "id": 412344476,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/1069",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjM0NDQ3Ng==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/412344476/reactions"
            },
            "updated_at": "2018-08-12T13:54:26Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/412344476",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/590069?v=4",
                "events_url": "https://api.github.com/users/zugz/events{/privacy}",
                "followers_url": "https://api.github.com/users/zugz/followers",
                "following_url": "https://api.github.com/users/zugz/following{/other_user}",
                "gists_url": "https://api.github.com/users/zugz/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zugz",
                "id": 590069,
                "login": "zugz",
                "node_id": "MDQ6VXNlcjU5MDA2OQ==",
                "organizations_url": "https://api.github.com/users/zugz/orgs",
                "received_events_url": "https://api.github.com/users/zugz/received_events",
                "repos_url": "https://api.github.com/users/zugz/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zugz/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zugz/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zugz",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": ">+The intention is to recover seemlessly from splits in the group, the \n>most\n>\n>seamlessly\n\nOops! Done.\n",
            "created_at": "2018-08-13T19:43:02Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/1069#issuecomment-412639606",
            "id": 412639606,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/1069",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjYzOTYwNg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/412639606/reactions"
            },
            "updated_at": "2018-08-13T19:43:02Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/412639606",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/590069?v=4",
                "events_url": "https://api.github.com/users/zugz/events{/privacy}",
                "followers_url": "https://api.github.com/users/zugz/followers",
                "following_url": "https://api.github.com/users/zugz/following{/other_user}",
                "gists_url": "https://api.github.com/users/zugz/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zugz",
                "id": 590069,
                "login": "zugz",
                "node_id": "MDQ6VXNlcjU5MDA2OQ==",
                "organizations_url": "https://api.github.com/users/zugz/orgs",
                "received_events_url": "https://api.github.com/users/zugz/received_events",
                "repos_url": "https://api.github.com/users/zugz/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zugz/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zugz/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zugz",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": ">No const?\n\nDone.\n",
            "created_at": "2018-08-19T17:46:49Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/1069#issuecomment-414143650",
            "id": 414143650,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/1069",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQxNDE0MzY1MA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/414143650/reactions"
            },
            "updated_at": "2018-08-19T17:46:49Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/414143650",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/590069?v=4",
                "events_url": "https://api.github.com/users/zugz/events{/privacy}",
                "followers_url": "https://api.github.com/users/zugz/followers",
                "following_url": "https://api.github.com/users/zugz/following{/other_user}",
                "gists_url": "https://api.github.com/users/zugz/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zugz",
                "id": 590069,
                "login": "zugz",
                "node_id": "MDQ6VXNlcjU5MDA2OQ==",
                "organizations_url": "https://api.github.com/users/zugz/orgs",
                "received_events_url": "https://api.github.com/users/zugz/received_events",
                "repos_url": "https://api.github.com/users/zugz/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zugz/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zugz/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zugz",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I tried running it now and ran into a few problems:\r\n\r\n1. On start of client, I see these warning logs:\r\n```\r\nWarning: \"ERROR:Messenger.c:m_send_message_generic:508: Message length 1374 is too large\"\r\nWarning: \"ERROR:Messenger.c:m_send_message_generic:508: Message length 1378 is too large\"\r\nWarning: \"ERROR:Messenger.c:m_send_message_generic:508: Message length 1378 is too large\"\r\nWarning: \"ERROR:Messenger.c:m_send_message_generic:508: Message length 1378 is too large\"\r\n```\r\n\r\n2. I see this warning log very frequently on my client running non-pgc toxcore which makes sense, but I see it occasionally on clients running pgc toxcore as well, looks like at times when I would expect Peer Query.\r\n```\r\ncore/toxlogger.cpp:57 : Warning: \"WARN :network.c:networking_poll:654: [33] -- Packet has no handler\"\r\n```\r\nI also see the ID warning during auto_conference_test after \"letting random toxes timeout\".\r\n\r\n3. I see a lot of this during the auto_conference_test, but seems less serious:\r\n```\r\nWARNING network.c:550\tsendpacket:\tunknown address type: 0\r\n```\r\n\r\n4. qTox segfaults on close (minpgc toxcore), only if there are still others in the group, see:\r\n```\r\ndouble free or corruption (out)\r\nAborted (core dumped)\r\n```\r\n\r\n5. Probably a qTox issue,  qTox segfaults on leaving group (old toxcore, pgc group members)\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
            "created_at": "2018-08-19T19:34:55Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/1069#issuecomment-414150436",
            "id": 414150436,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/1069",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQxNDE1MDQzNg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/414150436/reactions"
            },
            "updated_at": "2018-08-19T19:34:55Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/414150436",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10469203?v=4",
                "events_url": "https://api.github.com/users/anthonybilinski/events{/privacy}",
                "followers_url": "https://api.github.com/users/anthonybilinski/followers",
                "following_url": "https://api.github.com/users/anthonybilinski/following{/other_user}",
                "gists_url": "https://api.github.com/users/anthonybilinski/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/anthonybilinski",
                "id": 10469203,
                "login": "anthonybilinski",
                "node_id": "MDQ6VXNlcjEwNDY5MjAz",
                "organizations_url": "https://api.github.com/users/anthonybilinski/orgs",
                "received_events_url": "https://api.github.com/users/anthonybilinski/received_events",
                "repos_url": "https://api.github.com/users/anthonybilinski/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/anthonybilinski/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/anthonybilinski/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/anthonybilinski",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Thanks for testing.\n\n>Warning: \"ERROR:Messenger.c:m_send_message_generic:508: Message length 1378 is too large\"\n\nI don't see what would cause this. Is it really introduced by minpgc?\n\n>core/toxlogger.cpp:57 : Warning: \"WARN :network.c:networking_poll:654: [33] -- Packet has no handler\"\n>\n>WARNING network.c:550\tsendpacket:\tunknown address type: 0\n\nInteresting. I don't see either of these during the \nauto_conference_test, but travis gets the latter at least. Do you get \neither with master?\n\n>4. qTox segfaults on close (minpgc toxcore)\n>double free or corruption (out)\n\nAargh. That one was my fault. Thanks for finding it! Should be fixed \nnow.\n\n>5. Probably a qTox issue,  qTox segfaults on leaving group (old toxcore, pgc group members)\n\nWell that certainly isn't minpgc's fault - the client shouldn't segfault \nwhatever peers do. I can't imagine what could be causing it.\n",
            "created_at": "2018-08-20T16:03:19Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/1069#issuecomment-414370791",
            "id": 414370791,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/1069",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQxNDM3MDc5MQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/414370791/reactions"
            },
            "updated_at": "2018-08-20T16:03:19Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/414370791",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/590069?v=4",
                "events_url": "https://api.github.com/users/zugz/events{/privacy}",
                "followers_url": "https://api.github.com/users/zugz/followers",
                "following_url": "https://api.github.com/users/zugz/following{/other_user}",
                "gists_url": "https://api.github.com/users/zugz/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zugz",
                "id": 590069,
                "login": "zugz",
                "node_id": "MDQ6VXNlcjU5MDA2OQ==",
                "organizations_url": "https://api.github.com/users/zugz/orgs",
                "received_events_url": "https://api.github.com/users/zugz/received_events",
                "repos_url": "https://api.github.com/users/zugz/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zugz/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zugz/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zugz",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": ">Is it really introduced by minpgc?\r\n\r\nhard to say, but going back and forth I do not see it with master but do see it with this branch. I will test a bit more to make sure.\r\n>Do you get either with master?\r\n\r\nno, didn't see either with master. I think the \"Packet has no handler\" is actually blocking functionality, if I close and re-open my client using this branch, I don't rejoin the group, but I see those warnings instead (I think). I have some non-default network settings in client, i.e. ipv4 only, I will test full default and see if I can still repro.\r\n>whatever peers do. I can't imagine what could be causing it.\r\n\r\nAgreed, just got a repro on stock toxcore, guaranteed qTox issue.",
            "created_at": "2018-08-22T20:30:05Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/1069#issuecomment-415169031",
            "id": 415169031,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/1069",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTE2OTAzMQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/415169031/reactions"
            },
            "updated_at": "2018-08-22T20:30:17Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/415169031",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10469203?v=4",
                "events_url": "https://api.github.com/users/anthonybilinski/events{/privacy}",
                "followers_url": "https://api.github.com/users/anthonybilinski/followers",
                "following_url": "https://api.github.com/users/anthonybilinski/following{/other_user}",
                "gists_url": "https://api.github.com/users/anthonybilinski/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/anthonybilinski",
                "id": 10469203,
                "login": "anthonybilinski",
                "node_id": "MDQ6VXNlcjEwNDY5MjAz",
                "organizations_url": "https://api.github.com/users/anthonybilinski/orgs",
                "received_events_url": "https://api.github.com/users/anthonybilinski/received_events",
                "repos_url": "https://api.github.com/users/anthonybilinski/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/anthonybilinski/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/anthonybilinski/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/anthonybilinski",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": ">no, didn't see either with master. [...] \"Packet has no handler\" \n\nThat one really makes no sense to me. It should be triggered only if you \nreceive a packet with an unknown packet kind. minpgc doesn't add any new \npacket kinds (only a new crypto packet id), and nor can I imagine why \nanything it does would solicit any non-standard packets from other \npeers.\n\n>if I close and re-open my client using this branch, I don't rejoin the \n>group\n\nThat's expected! You need to have a friend in the group who's also \nrunning minpgc for the persistence to work, and even then it doesn't \nwork if you restart the client rather than just lose your network \nconnection, because saving and loading isn't implemented (yet).\n",
            "created_at": "2018-08-22T21:51:25Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/1069#issuecomment-415193129",
            "id": 415193129,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/1069",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTE5MzEyOQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/415193129/reactions"
            },
            "updated_at": "2018-08-22T21:51:25Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/415193129",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/590069?v=4",
                "events_url": "https://api.github.com/users/zugz/events{/privacy}",
                "followers_url": "https://api.github.com/users/zugz/followers",
                "following_url": "https://api.github.com/users/zugz/following{/other_user}",
                "gists_url": "https://api.github.com/users/zugz/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zugz",
                "id": 590069,
                "login": "zugz",
                "node_id": "MDQ6VXNlcjU5MDA2OQ==",
                "organizations_url": "https://api.github.com/users/zugz/orgs",
                "received_events_url": "https://api.github.com/users/zugz/received_events",
                "repos_url": "https://api.github.com/users/zugz/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zugz/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zugz/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zugz",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Ok more testing and some root causing:\r\n1. I do seem this with stock toxcore master tip. I didn't see it before I guess because my toxcore was older, created https://github.com/TokTok/c-toxcore/issues/1116\r\n2. Same, created https://github.com/TokTok/c-toxcore/issues/1115\r\n4. May have been the same as 5? Saw this on stock toxcore.\r\n5. Looks like it actually is toxcore, not qTox. See it on stock toxcore too, issue opened: https://github.com/TokTok/c-toxcore/issues/1114\r\n\r\nI tested again stopping one of the clients in the group with gdb until they were viewed as offline instead of restarting the client, and you're right that that works. I was under the impression that the other minpgc peer would re-include the re-connecting minpgc peer, but it makes sense that the peer who left needs to maintain the state as well.\r\n\r\nIn that case testing looks good from my end. I'll continue reading through the changes tomorrow.",
            "created_at": "2018-08-23T06:44:36Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/1069#issuecomment-415309489",
            "id": 415309489,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/1069",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTMwOTQ4OQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/415309489/reactions"
            },
            "updated_at": "2018-08-23T06:44:36Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/415309489",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10469203?v=4",
                "events_url": "https://api.github.com/users/anthonybilinski/events{/privacy}",
                "followers_url": "https://api.github.com/users/anthonybilinski/followers",
                "following_url": "https://api.github.com/users/anthonybilinski/following{/other_user}",
                "gists_url": "https://api.github.com/users/anthonybilinski/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/anthonybilinski",
                "id": 10469203,
                "login": "anthonybilinski",
                "node_id": "MDQ6VXNlcjEwNDY5MjAz",
                "organizations_url": "https://api.github.com/users/anthonybilinski/orgs",
                "received_events_url": "https://api.github.com/users/anthonybilinski/received_events",
                "repos_url": "https://api.github.com/users/anthonybilinski/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/anthonybilinski/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/anthonybilinski/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/anthonybilinski",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "* Wednesday, 2018-08-22 at 23:44 -0700 - Anthony Bilinski <notifications@github.com>:\n\n>4. May have been the same as 5? Saw this on stock toxcore.\n\nAh yes, that would make sense. Well, it made me find and fix a bug in \nminpgc anyway!\n\n>5. Looks like it actually is toxcore\n\nYes. #1117 should fix it.\n\n>In that case testing looks good from my end. I'll continue reading \n>through the changes tomorrow.\n\nGreat. Thanks for testing and reading! I've just pushed a couple more \nlittle changes, and there's one more thing I know needs doing (there's \na FIXME in the code for it), but otherwise to my knowledge it's bugfree \nand working.\n",
            "created_at": "2018-08-23T18:59:54Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/1069#issuecomment-415531671",
            "id": 415531671,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/1069",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTUzMTY3MQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/415531671/reactions"
            },
            "updated_at": "2018-08-23T18:59:54Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/415531671",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/590069?v=4",
                "events_url": "https://api.github.com/users/zugz/events{/privacy}",
                "followers_url": "https://api.github.com/users/zugz/followers",
                "following_url": "https://api.github.com/users/zugz/following{/other_user}",
                "gists_url": "https://api.github.com/users/zugz/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zugz",
                "id": 590069,
                "login": "zugz",
                "node_id": "MDQ6VXNlcjU5MDA2OQ==",
                "organizations_url": "https://api.github.com/users/zugz/orgs",
                "received_events_url": "https://api.github.com/users/zugz/received_events",
                "repos_url": "https://api.github.com/users/zugz/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zugz/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zugz/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zugz",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "# [Codecov](https://codecov.io/gh/TokTok/c-toxcore/pull/1069?src=pr&el=h1) Report\n> Merging [#1069](https://codecov.io/gh/TokTok/c-toxcore/pull/1069?src=pr&el=desc) into [master](https://codecov.io/gh/TokTok/c-toxcore/commit/6872c14e1a02445d945623ee6e85230c5d7ecbce?src=pr&el=desc) will **increase** coverage by `0.5%`.\n> The diff coverage is `94.1%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/TokTok/c-toxcore/pull/1069/graphs/tree.svg?width=650&token=BRfCKo02De&height=150&src=pr)](https://codecov.io/gh/TokTok/c-toxcore/pull/1069?src=pr&el=tree)\n\n```diff\n@@           Coverage Diff            @@\n##           master   #1069     +/-   ##\n========================================\n+ Coverage    82.5%   83.1%   +0.5%     \n========================================\n  Files          82      82             \n  Lines       14476   14593    +117     \n========================================\n+ Hits        11948   12131    +183     \n+ Misses       2528    2462     -66\n```\n\n\n| [Impacted Files](https://codecov.io/gh/TokTok/c-toxcore/pull/1069?src=pr&el=tree) | Coverage Î” | |\n|---|---|---|\n| [auto\\_tests/overflow\\_sendq\\_test.c](https://codecov.io/gh/TokTok/c-toxcore/pull/1069/diff?src=pr&el=tree#diff-YXV0b190ZXN0cy9vdmVyZmxvd19zZW5kcV90ZXN0LmM=) | `100% <100%> (Ã¸)` | :arrow_up: |\n| [auto\\_tests/run\\_auto\\_test.h](https://codecov.io/gh/TokTok/c-toxcore/pull/1069/diff?src=pr&el=tree#diff-YXV0b190ZXN0cy9ydW5fYXV0b190ZXN0Lmg=) | `100% <100%> (Ã¸)` | :arrow_up: |\n| [auto\\_tests/reconnect\\_test.c](https://codecov.io/gh/TokTok/c-toxcore/pull/1069/diff?src=pr&el=tree#diff-YXV0b190ZXN0cy9yZWNvbm5lY3RfdGVzdC5j) | `100% <100%> (Ã¸)` | :arrow_up: |\n| [auto\\_tests/conference\\_test.c](https://codecov.io/gh/TokTok/c-toxcore/pull/1069/diff?src=pr&el=tree#diff-YXV0b190ZXN0cy9jb25mZXJlbmNlX3Rlc3QuYw==) | `99.1% <100%> (+1.4%)` | :arrow_up: |\n| [auto\\_tests/friend\\_connection\\_test.c](https://codecov.io/gh/TokTok/c-toxcore/pull/1069/diff?src=pr&el=tree#diff-YXV0b190ZXN0cy9mcmllbmRfY29ubmVjdGlvbl90ZXN0LmM=) | `100% <100%> (Ã¸)` | :arrow_up: |\n| [auto\\_tests/overflow\\_recvq\\_test.c](https://codecov.io/gh/TokTok/c-toxcore/pull/1069/diff?src=pr&el=tree#diff-YXV0b190ZXN0cy9vdmVyZmxvd19yZWN2cV90ZXN0LmM=) | `100% <100%> (Ã¸)` | :arrow_up: |\n| [auto\\_tests/send\\_message\\_test.c](https://codecov.io/gh/TokTok/c-toxcore/pull/1069/diff?src=pr&el=tree#diff-YXV0b190ZXN0cy9zZW5kX21lc3NhZ2VfdGVzdC5j) | `94.1% <100%> (Ã¸)` | :arrow_up: |\n| [auto\\_tests/conference\\_peer\\_nick\\_test.c](https://codecov.io/gh/TokTok/c-toxcore/pull/1069/diff?src=pr&el=tree#diff-YXV0b190ZXN0cy9jb25mZXJlbmNlX3BlZXJfbmlja190ZXN0LmM=) | `100% <100%> (Ã¸)` | :arrow_up: |\n| [auto\\_tests/conference\\_double\\_invite\\_test.c](https://codecov.io/gh/TokTok/c-toxcore/pull/1069/diff?src=pr&el=tree#diff-YXV0b190ZXN0cy9jb25mZXJlbmNlX2RvdWJsZV9pbnZpdGVfdGVzdC5j) | `100% <100%> (Ã¸)` | :arrow_up: |\n| [auto\\_tests/lossy\\_packet\\_test.c](https://codecov.io/gh/TokTok/c-toxcore/pull/1069/diff?src=pr&el=tree#diff-YXV0b190ZXN0cy9sb3NzeV9wYWNrZXRfdGVzdC5j) | `100% <100%> (Ã¸)` | :arrow_up: |\n| ... and [13 more](https://codecov.io/gh/TokTok/c-toxcore/pull/1069/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/TokTok/c-toxcore/pull/1069?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Î” = absolute <relative> (impact)`, `Ã¸ = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/TokTok/c-toxcore/pull/1069?src=pr&el=footer). Last update [6872c14...1b23222](https://codecov.io/gh/TokTok/c-toxcore/pull/1069?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n",
            "created_at": "2018-09-01T16:51:58Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/1069#issuecomment-417872393",
            "id": 417872393,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/1069",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQxNzg3MjM5Mw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/417872393/reactions"
            },
            "updated_at": "2018-09-05T19:00:18Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/417872393",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/in/254?v=4",
                "events_url": "https://api.github.com/users/codecov%5Bbot%5D/events{/privacy}",
                "followers_url": "https://api.github.com/users/codecov%5Bbot%5D/followers",
                "following_url": "https://api.github.com/users/codecov%5Bbot%5D/following{/other_user}",
                "gists_url": "https://api.github.com/users/codecov%5Bbot%5D/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/apps/codecov",
                "id": 22429695,
                "login": "codecov[bot]",
                "node_id": "MDM6Qm90MjI0Mjk2OTU=",
                "organizations_url": "https://api.github.com/users/codecov%5Bbot%5D/orgs",
                "received_events_url": "https://api.github.com/users/codecov%5Bbot%5D/received_events",
                "repos_url": "https://api.github.com/users/codecov%5Bbot%5D/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/codecov%5Bbot%5D/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/codecov%5Bbot%5D/subscriptions",
                "type": "Bot",
                "url": "https://api.github.com/users/codecov%5Bbot%5D",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "This is now ready for final review.",
            "created_at": "2018-09-01T17:02:58Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/1069#issuecomment-417873236",
            "id": 417873236,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/1069",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQxNzg3MzIzNg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/417873236/reactions"
            },
            "updated_at": "2018-09-01T17:02:58Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/417873236",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/590069?v=4",
                "events_url": "https://api.github.com/users/zugz/events{/privacy}",
                "followers_url": "https://api.github.com/users/zugz/followers",
                "following_url": "https://api.github.com/users/zugz/following{/other_user}",
                "gists_url": "https://api.github.com/users/zugz/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zugz",
                "id": 590069,
                "login": "zugz",
                "node_id": "MDQ6VXNlcjU5MDA2OQ==",
                "organizations_url": "https://api.github.com/users/zugz/orgs",
                "received_events_url": "https://api.github.com/users/zugz/received_events",
                "repos_url": "https://api.github.com/users/zugz/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zugz/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zugz/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zugz",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 12,
    "comments_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/1069/comments",
    "commit_data": [
        {
            "author": {
                "avatar_url": "https://avatars.githubusercontent.com/u/590069?v=4",
                "events_url": "https://api.github.com/users/zugz/events{/privacy}",
                "followers_url": "https://api.github.com/users/zugz/followers",
                "following_url": "https://api.github.com/users/zugz/following{/other_user}",
                "gists_url": "https://api.github.com/users/zugz/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zugz",
                "id": 590069,
                "login": "zugz",
                "node_id": "MDQ6VXNlcjU5MDA2OQ==",
                "organizations_url": "https://api.github.com/users/zugz/orgs",
                "received_events_url": "https://api.github.com/users/zugz/received_events",
                "repos_url": "https://api.github.com/users/zugz/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zugz/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zugz/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zugz",
                "user_view_type": "public"
            },
            "comments_url": "https://api.github.com/repos/TokTok/c-toxcore/commits/1b2322284f0b688af3a349fe4331be15a565084c/comments",
            "commit": {
                "author": {
                    "date": "2018-07-25T07:43:48Z",
                    "email": "mbays+tox@sdf.org",
                    "name": "zugz"
                },
                "comment_count": 0,
                "committer": {
                    "date": "2018-09-05T18:56:26Z",
                    "email": "mbays+tox@sdf.org",
                    "name": "zugz (tox)"
                },
                "message": "Add mechanism for recovering from disconnections in conferences\n\n  * add freezing and unfreezing of peers\n  * add rejoin packet\n  * revise handling of temporary invited connections\n  * rename \"peer kill\" packet to \"peer leave\" packet\n  * test rejoining in conference test\n  * use custom clock in conference test",
                "tree": {
                    "sha": "7651c11b4ec1edd927151e9655727fb0b2365a7c",
                    "url": "https://api.github.com/repos/TokTok/c-toxcore/git/trees/7651c11b4ec1edd927151e9655727fb0b2365a7c"
                },
                "url": "https://api.github.com/repos/TokTok/c-toxcore/git/commits/1b2322284f0b688af3a349fe4331be15a565084c",
                "verification": {
                    "payload": "tree 7651c11b4ec1edd927151e9655727fb0b2365a7c\nparent 6872c14e1a02445d945623ee6e85230c5d7ecbce\nauthor zugz <mbays+tox@sdf.org> 1532504628 +0100\ncommitter zugz (tox) <mbays+tox@sdf.org> 1536173786 +0200\n\nAdd mechanism for recovering from disconnections in conferences\n\n  * add freezing and unfreezing of peers\n  * add rejoin packet\n  * revise handling of temporary invited connections\n  * rename \"peer kill\" packet to \"peer leave\" packet\n  * test rejoining in conference test\n  * use custom clock in conference test\n",
                    "reason": "valid",
                    "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCAAdFiEEAqnhZrfTpeTogXGLbyvaKJ0E8kkFAluQJuEACgkQbyvaKJ0E\n8knW/Af/S6VF1p0GrxTyNZsuxyS1f7U74BXAK4a9NzlIA0bo3bcyJ9YFIseGIjeF\noPIaMpL+icVElXm16mvQVZOULUe0AUaF3i33npc/oZHE0qgwj9e1s3xTJiEtGXz0\n2fV+TK9quFNuGqgvrDOQemR2PJVDH2BnUbCiI3Y2pADRUOguRWxr4PLvnssadhcX\nkSZ77qPDiFiAUIKBt2yKF9qillo4Rr0vOwf1DwQhMHGT0R4PZrs0QEIiLMMgg+rP\n7KSxQxj3fuBvDDS8RgQySsib9bmIwh5FeG/U4nXKhsJXv4+JIx7jzrMYJI6oNjSj\naHpMJjEmz75rkAkZWOheOZghcDlYQg==\n=tPT0\n-----END PGP SIGNATURE-----",
                    "verified": true,
                    "verified_at": "2024-11-12T12:05:34Z"
                }
            },
            "committer": {
                "avatar_url": "https://avatars.githubusercontent.com/u/590069?v=4",
                "events_url": "https://api.github.com/users/zugz/events{/privacy}",
                "followers_url": "https://api.github.com/users/zugz/followers",
                "following_url": "https://api.github.com/users/zugz/following{/other_user}",
                "gists_url": "https://api.github.com/users/zugz/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zugz",
                "id": 590069,
                "login": "zugz",
                "node_id": "MDQ6VXNlcjU5MDA2OQ==",
                "organizations_url": "https://api.github.com/users/zugz/orgs",
                "received_events_url": "https://api.github.com/users/zugz/received_events",
                "repos_url": "https://api.github.com/users/zugz/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zugz/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zugz/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zugz",
                "user_view_type": "public"
            },
            "html_url": "https://github.com/TokTok/c-toxcore/commit/1b2322284f0b688af3a349fe4331be15a565084c",
            "node_id": "MDY6Q29tbWl0Nzg5NTcyODg6MWIyMzIyMjg0ZjBiNjg4YWYzYTM0OWZlNDMzMWJlMTVhNTY1MDg0Yw==",
            "parents": [
                {
                    "html_url": "https://github.com/TokTok/c-toxcore/commit/6872c14e1a02445d945623ee6e85230c5d7ecbce",
                    "sha": "6872c14e1a02445d945623ee6e85230c5d7ecbce",
                    "url": "https://api.github.com/repos/TokTok/c-toxcore/commits/6872c14e1a02445d945623ee6e85230c5d7ecbce"
                }
            ],
            "sha": "1b2322284f0b688af3a349fe4331be15a565084c",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/commits/1b2322284f0b688af3a349fe4331be15a565084c"
        }
    ],
    "commits": 1,
    "commits_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069/commits",
    "created_at": "2018-08-12T11:55:28Z",
    "deletions": 277,
    "diff_url": "https://github.com/TokTok/c-toxcore/pull/1069.diff",
    "draft": false,
    "head": {
        "label": "zugz:minpgc",
        "ref": "minpgc",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/zugz/c-toxcore/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/zugz/c-toxcore/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/zugz/c-toxcore/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/zugz/c-toxcore/branches{/branch}",
            "clone_url": "https://github.com/zugz/c-toxcore.git",
            "collaborators_url": "https://api.github.com/repos/zugz/c-toxcore/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/zugz/c-toxcore/comments{/number}",
            "commits_url": "https://api.github.com/repos/zugz/c-toxcore/commits{/sha}",
            "compare_url": "https://api.github.com/repos/zugz/c-toxcore/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/zugz/c-toxcore/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/zugz/c-toxcore/contributors",
            "created_at": "2017-01-14T18:08:35Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/zugz/c-toxcore/deployments",
            "description": "The future of online communications.",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/zugz/c-toxcore/downloads",
            "events_url": "https://api.github.com/repos/zugz/c-toxcore/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/zugz/c-toxcore/forks",
            "full_name": "zugz/c-toxcore",
            "git_commits_url": "https://api.github.com/repos/zugz/c-toxcore/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/zugz/c-toxcore/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/zugz/c-toxcore/git/tags{/sha}",
            "git_url": "git://github.com/zugz/c-toxcore.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": false,
            "homepage": "https://tox.chat/",
            "hooks_url": "https://api.github.com/repos/zugz/c-toxcore/hooks",
            "html_url": "https://github.com/zugz/c-toxcore",
            "id": 78957288,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/zugz/c-toxcore/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/zugz/c-toxcore/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/zugz/c-toxcore/issues{/number}",
            "keys_url": "https://api.github.com/repos/zugz/c-toxcore/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/zugz/c-toxcore/labels{/name}",
            "language": "C",
            "languages_url": "https://api.github.com/repos/zugz/c-toxcore/languages",
            "license": {
                "key": "gpl-3.0",
                "name": "GNU General Public License v3.0",
                "node_id": "MDc6TGljZW5zZTk=",
                "spdx_id": "GPL-3.0",
                "url": "https://api.github.com/licenses/gpl-3.0"
            },
            "merges_url": "https://api.github.com/repos/zugz/c-toxcore/merges",
            "milestones_url": "https://api.github.com/repos/zugz/c-toxcore/milestones{/number}",
            "mirror_url": null,
            "name": "c-toxcore",
            "node_id": "MDEwOlJlcG9zaXRvcnk3ODk1NzI4OA==",
            "notifications_url": "https://api.github.com/repos/zugz/c-toxcore/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/590069?v=4",
                "events_url": "https://api.github.com/users/zugz/events{/privacy}",
                "followers_url": "https://api.github.com/users/zugz/followers",
                "following_url": "https://api.github.com/users/zugz/following{/other_user}",
                "gists_url": "https://api.github.com/users/zugz/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zugz",
                "id": 590069,
                "login": "zugz",
                "node_id": "MDQ6VXNlcjU5MDA2OQ==",
                "organizations_url": "https://api.github.com/users/zugz/orgs",
                "received_events_url": "https://api.github.com/users/zugz/received_events",
                "repos_url": "https://api.github.com/users/zugz/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zugz/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zugz/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zugz",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/zugz/c-toxcore/pulls{/number}",
            "pushed_at": "2022-07-10T15:28:21Z",
            "releases_url": "https://api.github.com/repos/zugz/c-toxcore/releases{/id}",
            "size": 16881,
            "ssh_url": "git@github.com:zugz/c-toxcore.git",
            "stargazers_count": 1,
            "stargazers_url": "https://api.github.com/repos/zugz/c-toxcore/stargazers",
            "statuses_url": "https://api.github.com/repos/zugz/c-toxcore/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/zugz/c-toxcore/subscribers",
            "subscription_url": "https://api.github.com/repos/zugz/c-toxcore/subscription",
            "svn_url": "https://github.com/zugz/c-toxcore",
            "tags_url": "https://api.github.com/repos/zugz/c-toxcore/tags",
            "teams_url": "https://api.github.com/repos/zugz/c-toxcore/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/zugz/c-toxcore/git/trees{/sha}",
            "updated_at": "2020-04-26T16:00:08Z",
            "url": "https://api.github.com/repos/zugz/c-toxcore",
            "visibility": "public",
            "watchers": 1,
            "watchers_count": 1,
            "web_commit_signoff_required": false
        },
        "sha": "1b2322284f0b688af3a349fe4331be15a565084c",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/590069?v=4",
            "events_url": "https://api.github.com/users/zugz/events{/privacy}",
            "followers_url": "https://api.github.com/users/zugz/followers",
            "following_url": "https://api.github.com/users/zugz/following{/other_user}",
            "gists_url": "https://api.github.com/users/zugz/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/zugz",
            "id": 590069,
            "login": "zugz",
            "node_id": "MDQ6VXNlcjU5MDA2OQ==",
            "organizations_url": "https://api.github.com/users/zugz/orgs",
            "received_events_url": "https://api.github.com/users/zugz/received_events",
            "repos_url": "https://api.github.com/users/zugz/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/zugz/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zugz/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/zugz",
            "user_view_type": "public"
        }
    },
    "html_url": "https://github.com/TokTok/c-toxcore/pull/1069",
    "id": 207817793,
    "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/1069",
    "labels": [],
    "locked": false,
    "maintainer_can_modify": false,
    "merge_commit_sha": "1b2322284f0b688af3a349fe4331be15a565084c",
    "mergeable": null,
    "mergeable_state": "unknown",
    "merged": true,
    "merged_at": "2018-09-05T19:11:08Z",
    "merged_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/590069?v=4",
        "events_url": "https://api.github.com/users/zugz/events{/privacy}",
        "followers_url": "https://api.github.com/users/zugz/followers",
        "following_url": "https://api.github.com/users/zugz/following{/other_user}",
        "gists_url": "https://api.github.com/users/zugz/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/zugz",
        "id": 590069,
        "login": "zugz",
        "node_id": "MDQ6VXNlcjU5MDA2OQ==",
        "organizations_url": "https://api.github.com/users/zugz/orgs",
        "received_events_url": "https://api.github.com/users/zugz/received_events",
        "repos_url": "https://api.github.com/users/zugz/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/zugz/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/zugz/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/zugz",
        "user_view_type": "public"
    },
    "milestone": {
        "closed_at": "2018-10-08T21:06:12Z",
        "closed_issues": 52,
        "created_at": "2018-10-07T20:14:18Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/8304462?v=4",
            "events_url": "https://api.github.com/users/robinlinden/events{/privacy}",
            "followers_url": "https://api.github.com/users/robinlinden/followers",
            "following_url": "https://api.github.com/users/robinlinden/following{/other_user}",
            "gists_url": "https://api.github.com/users/robinlinden/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/robinlinden",
            "id": 8304462,
            "login": "robinlinden",
            "node_id": "MDQ6VXNlcjgzMDQ0NjI=",
            "organizations_url": "https://api.github.com/users/robinlinden/orgs",
            "received_events_url": "https://api.github.com/users/robinlinden/received_events",
            "repos_url": "https://api.github.com/users/robinlinden/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/robinlinden/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/robinlinden/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/robinlinden",
            "user_view_type": "public"
        },
        "description": "",
        "due_on": "2018-10-07T07:00:00Z",
        "html_url": "https://github.com/TokTok/c-toxcore/milestone/36",
        "id": 3717986,
        "labels_url": "https://api.github.com/repos/TokTok/c-toxcore/milestones/36/labels",
        "node_id": "MDk6TWlsZXN0b25lMzcxNzk4Ng==",
        "number": 36,
        "open_issues": 0,
        "state": "closed",
        "title": "v0.2.8",
        "updated_at": "2022-02-05T01:02:21Z",
        "url": "https://api.github.com/repos/TokTok/c-toxcore/milestones/36"
    },
    "node_id": "MDExOlB1bGxSZXF1ZXN0MjA3ODE3Nzkz",
    "number": 1069,
    "patch_url": "https://github.com/TokTok/c-toxcore/pull/1069.patch",
    "rebaseable": null,
    "requested_reviewers": [],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments{/number}",
    "review_comments": 17,
    "review_comments_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069/comments",
    "state": "closed",
    "statuses_url": "https://api.github.com/repos/TokTok/c-toxcore/statuses/1b2322284f0b688af3a349fe4331be15a565084c",
    "title": "Add mechanism for recovering from disconnections in conferences",
    "updated_at": "2018-10-07T20:16:05Z",
    "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/1069",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/590069?v=4",
        "events_url": "https://api.github.com/users/zugz/events{/privacy}",
        "followers_url": "https://api.github.com/users/zugz/followers",
        "following_url": "https://api.github.com/users/zugz/following{/other_user}",
        "gists_url": "https://api.github.com/users/zugz/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/zugz",
        "id": 590069,
        "login": "zugz",
        "node_id": "MDQ6VXNlcjU5MDA2OQ==",
        "organizations_url": "https://api.github.com/users/zugz/orgs",
        "received_events_url": "https://api.github.com/users/zugz/received_events",
        "repos_url": "https://api.github.com/users/zugz/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/zugz/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/zugz/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/zugz",
        "user_view_type": "public"
    }
}