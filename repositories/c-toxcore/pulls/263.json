{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/TokTok/c-toxcore/issues/263/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263/commits"
        },
        "html": {
            "href": "https://github.com/TokTok/c-toxcore/pull/263"
        },
        "issue": {
            "href": "https://api.github.com/repos/TokTok/c-toxcore/issues/263"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
        },
        "statuses": {
            "href": "https://api.github.com/repos/TokTok/c-toxcore/statuses/59dc77c6ee1e0998a65340f1aed656632b7f996b"
        }
    },
    "active_lock_reason": null,
    "additions": 2945,
    "assignee": {
        "avatar_url": "https://avatars.githubusercontent.com/u/1132979?v=4",
        "events_url": "https://api.github.com/users/dvor/events{/privacy}",
        "followers_url": "https://api.github.com/users/dvor/followers",
        "following_url": "https://api.github.com/users/dvor/following{/other_user}",
        "gists_url": "https://api.github.com/users/dvor/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/dvor",
        "id": 1132979,
        "login": "dvor",
        "node_id": "MDQ6VXNlcjExMzI5Nzk=",
        "organizations_url": "https://api.github.com/users/dvor/orgs",
        "received_events_url": "https://api.github.com/users/dvor/received_events",
        "repos_url": "https://api.github.com/users/dvor/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/dvor/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/dvor/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/dvor",
        "user_view_type": "public"
    },
    "assignees": [
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/1132979?v=4",
            "events_url": "https://api.github.com/users/dvor/events{/privacy}",
            "followers_url": "https://api.github.com/users/dvor/followers",
            "following_url": "https://api.github.com/users/dvor/following{/other_user}",
            "gists_url": "https://api.github.com/users/dvor/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/dvor",
            "id": 1132979,
            "login": "dvor",
            "node_id": "MDQ6VXNlcjExMzI5Nzk=",
            "organizations_url": "https://api.github.com/users/dvor/orgs",
            "received_events_url": "https://api.github.com/users/dvor/received_events",
            "repos_url": "https://api.github.com/users/dvor/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/dvor/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dvor/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/dvor",
            "user_view_type": "public"
        },
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/1646057?v=4",
            "events_url": "https://api.github.com/users/JFreegman/events{/privacy}",
            "followers_url": "https://api.github.com/users/JFreegman/followers",
            "following_url": "https://api.github.com/users/JFreegman/following{/other_user}",
            "gists_url": "https://api.github.com/users/JFreegman/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/JFreegman",
            "id": 1646057,
            "login": "JFreegman",
            "node_id": "MDQ6VXNlcjE2NDYwNTc=",
            "organizations_url": "https://api.github.com/users/JFreegman/orgs",
            "received_events_url": "https://api.github.com/users/JFreegman/received_events",
            "repos_url": "https://api.github.com/users/JFreegman/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/JFreegman/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/JFreegman/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/JFreegman",
            "user_view_type": "public"
        },
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/5155966?v=4",
            "events_url": "https://api.github.com/users/tux3/events{/privacy}",
            "followers_url": "https://api.github.com/users/tux3/followers",
            "following_url": "https://api.github.com/users/tux3/following{/other_user}",
            "gists_url": "https://api.github.com/users/tux3/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/tux3",
            "id": 5155966,
            "login": "tux3",
            "node_id": "MDQ6VXNlcjUxNTU5NjY=",
            "organizations_url": "https://api.github.com/users/tux3/orgs",
            "received_events_url": "https://api.github.com/users/tux3/received_events",
            "repos_url": "https://api.github.com/users/tux3/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/tux3/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tux3/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/tux3",
            "user_view_type": "public"
        },
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
            "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
            "followers_url": "https://api.github.com/users/iphydf/followers",
            "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
            "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/iphydf",
            "id": 10647936,
            "login": "iphydf",
            "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
            "organizations_url": "https://api.github.com/users/iphydf/orgs",
            "received_events_url": "https://api.github.com/users/iphydf/received_events",
            "repos_url": "https://api.github.com/users/iphydf/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/iphydf",
            "user_view_type": "public"
        }
    ],
    "author_association": "MEMBER",
    "auto_merge": null,
    "base": {
        "label": "TokTok:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/TokTok/c-toxcore/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/TokTok/c-toxcore/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/TokTok/c-toxcore/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/TokTok/c-toxcore/branches{/branch}",
            "clone_url": "https://github.com/TokTok/c-toxcore.git",
            "collaborators_url": "https://api.github.com/repos/TokTok/c-toxcore/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/TokTok/c-toxcore/comments{/number}",
            "commits_url": "https://api.github.com/repos/TokTok/c-toxcore/commits{/sha}",
            "compare_url": "https://api.github.com/repos/TokTok/c-toxcore/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/TokTok/c-toxcore/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/TokTok/c-toxcore/contributors",
            "created_at": "2016-07-06T08:15:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/TokTok/c-toxcore/deployments",
            "description": "The future of online communications.",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/TokTok/c-toxcore/downloads",
            "events_url": "https://api.github.com/repos/TokTok/c-toxcore/events",
            "fork": true,
            "forks": 292,
            "forks_count": 292,
            "forks_url": "https://api.github.com/repos/TokTok/c-toxcore/forks",
            "full_name": "TokTok/c-toxcore",
            "git_commits_url": "https://api.github.com/repos/TokTok/c-toxcore/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/TokTok/c-toxcore/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/TokTok/c-toxcore/git/tags{/sha}",
            "git_url": "git://github.com/TokTok/c-toxcore.git",
            "has_discussions": false,
            "has_downloads": false,
            "has_issues": true,
            "has_pages": false,
            "has_projects": false,
            "has_wiki": false,
            "homepage": "https://tox.chat",
            "hooks_url": "https://api.github.com/repos/TokTok/c-toxcore/hooks",
            "html_url": "https://github.com/TokTok/c-toxcore",
            "id": 62703642,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/TokTok/c-toxcore/issues{/number}",
            "keys_url": "https://api.github.com/repos/TokTok/c-toxcore/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/TokTok/c-toxcore/labels{/name}",
            "language": "C",
            "languages_url": "https://api.github.com/repos/TokTok/c-toxcore/languages",
            "license": {
                "key": "gpl-3.0",
                "name": "GNU General Public License v3.0",
                "node_id": "MDc6TGljZW5zZTk=",
                "spdx_id": "GPL-3.0",
                "url": "https://api.github.com/licenses/gpl-3.0"
            },
            "merges_url": "https://api.github.com/repos/TokTok/c-toxcore/merges",
            "milestones_url": "https://api.github.com/repos/TokTok/c-toxcore/milestones{/number}",
            "mirror_url": null,
            "name": "c-toxcore",
            "node_id": "MDEwOlJlcG9zaXRvcnk2MjcwMzY0Mg==",
            "notifications_url": "https://api.github.com/repos/TokTok/c-toxcore/notifications{?since,all,participating}",
            "open_issues": 210,
            "open_issues_count": 210,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/17427091?v=4",
                "events_url": "https://api.github.com/users/TokTok/events{/privacy}",
                "followers_url": "https://api.github.com/users/TokTok/followers",
                "following_url": "https://api.github.com/users/TokTok/following{/other_user}",
                "gists_url": "https://api.github.com/users/TokTok/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/TokTok",
                "id": 17427091,
                "login": "TokTok",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3NDI3MDkx",
                "organizations_url": "https://api.github.com/users/TokTok/orgs",
                "received_events_url": "https://api.github.com/users/TokTok/received_events",
                "repos_url": "https://api.github.com/users/TokTok/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/TokTok/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/TokTok/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/TokTok",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls{/number}",
            "pushed_at": "2025-01-24T18:18:40Z",
            "releases_url": "https://api.github.com/repos/TokTok/c-toxcore/releases{/id}",
            "size": 25245,
            "ssh_url": "git@github.com:TokTok/c-toxcore.git",
            "stargazers_count": 2329,
            "stargazers_url": "https://api.github.com/repos/TokTok/c-toxcore/stargazers",
            "statuses_url": "https://api.github.com/repos/TokTok/c-toxcore/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/TokTok/c-toxcore/subscribers",
            "subscription_url": "https://api.github.com/repos/TokTok/c-toxcore/subscription",
            "svn_url": "https://github.com/TokTok/c-toxcore",
            "tags_url": "https://api.github.com/repos/TokTok/c-toxcore/tags",
            "teams_url": "https://api.github.com/repos/TokTok/c-toxcore/teams",
            "topics": [
                "cryptography",
                "encryption",
                "network",
                "p2p",
                "security",
                "toxcore"
            ],
            "trees_url": "https://api.github.com/repos/TokTok/c-toxcore/git/trees{/sha}",
            "updated_at": "2025-01-24T22:05:30Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore",
            "visibility": "public",
            "watchers": 2329,
            "watchers_count": 2329,
            "web_commit_signoff_required": false
        },
        "sha": "fe1fea82c324598baa3facf2767c5ea5bf9dc956",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/17427091?v=4",
            "events_url": "https://api.github.com/users/TokTok/events{/privacy}",
            "followers_url": "https://api.github.com/users/TokTok/followers",
            "following_url": "https://api.github.com/users/TokTok/following{/other_user}",
            "gists_url": "https://api.github.com/users/TokTok/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/TokTok",
            "id": 17427091,
            "login": "TokTok",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3NDI3MDkx",
            "organizations_url": "https://api.github.com/users/TokTok/orgs",
            "received_events_url": "https://api.github.com/users/TokTok/received_events",
            "repos_url": "https://api.github.com/users/TokTok/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/TokTok/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/TokTok/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/TokTok",
            "user_view_type": "public"
        }
    },
    "body": "This is not new groupchats. This is just upgrade to old groupchats with some advatages:\r\n- Groupchats are now saved into tox_save\r\n- Client can get groupchat unique id to save message log\r\n- Auto restore groupchats after restart even your friend uses non-upgraded version\r\n\r\nAPI compatibility: almost 100%\r\nsee changes at tox_conference_invite_cb and TOX_CONFERENCE_STATE_CHANGE\r\n\r\nProtocol compatibility: 100%, except rare incorrect behaviour of non-upgraded clients due bug in old groupchats code.\r\n\r\n**group.c** totally refactored\r\n\r\n<!-- Reviewable:start -->\r\n---\r\nThis change is [<img src=\"https://reviewable.io/review_button.svg\" height=\"34\" align=\"absmiddle\" alt=\"Reviewable\"/>](https://reviewable.io/reviews/toktok/c-toxcore/263)\r\n<!-- Reviewable:end -->\r\n",
    "changed_files": 10,
    "closed_at": "2016-12-12T09:55:50Z",
    "comment_data": [
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r87694848"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/87694848"
                }
            },
            "author_association": "MEMBER",
            "body": "Renaming `PEER_JOIN` constitutes an API break. Why does `PEER_EXIT` still exist?\n",
            "commit_id": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "created_at": "2016-11-12T15:50:14Z",
            "diff_hunk": "@@ -2087,11 +2098,12 @@ namespace conference {\n    */\n   enum class STATE_CHANGE {\n     /**\n-     * A peer has joined the conference.\n+     * Some changes to list has occurred. Rebuild of list required.\n+     * peer_number is undefined (always 0 for api compatibility)\n      */\n-    PEER_JOIN,\n+    LIST_CHANGED,\n     /**\n-     * A peer has exited the conference.\n+     * Deprecated. Never occurred.",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r87694848",
            "id": 87694848,
            "line": null,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg3Njk0ODQ4",
            "original_commit_id": "43175715699871ac4facbdc69aa1082e92d847f4",
            "original_line": null,
            "original_position": 37,
            "original_start_line": null,
            "path": "toxcore/tox.api.h",
            "position": null,
            "pull_request_review_id": 8299862,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/87694848/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2016-12-01T12:09:17Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/87694848",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90322124"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90322124"
                }
            },
            "author_association": "MEMBER",
            "body": "What does \"aint\" stand for, and why does it exist? The rest of the code tends to use explicitly sized ints (`int32_t` etc.).",
            "commit_id": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "created_at": "2016-11-30T20:36:28Z",
            "diff_hunk": "@@ -29,24 +29,80 @@\n \n #include \"util.h\"\n \n-/* return 1 if the groupnumber is not valid.\n- * return 0 if the groupnumber is valid.\n- */\n-static uint8_t groupnumber_not_valid(const Group_Chats *g_c, int groupnumber)\n+typedef ptrdiff_t aint;",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90322124",
            "id": 90322124,
            "line": 32,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkwMzIyMTI0",
            "original_commit_id": "7e753461ac4422053f2563475102ad0f0bade07c",
            "original_line": null,
            "original_position": 8,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": 8,
            "pull_request_review_id": 10843199,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90322124/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2016-12-01T12:09:17Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90322124",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90322158"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90322158"
                }
            },
            "author_association": "MEMBER",
            "body": "Unsubscribe is a verb. Types are usually nouns.",
            "commit_id": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "created_at": "2016-11-30T20:36:41Z",
            "diff_hunk": "@@ -29,24 +29,80 @@\n \n #include \"util.h\"\n \n-/* return 1 if the groupnumber is not valid.\n- * return 0 if the groupnumber is valid.\n- */\n-static uint8_t groupnumber_not_valid(const Group_Chats *g_c, int groupnumber)\n+typedef ptrdiff_t aint;\n+\n+#define CLOSEST( i ) ((g->closest_peers_entry & (1ull << i)) != 0)\n+#define CLOSESTSET( i ) { g->closest_peers_entry |= (1ull << i); }\n+\n+typedef enum {\n+    UNS_NONE,\n+    UNS_TEMP,\n+    UNS_FOREVER,\n+\n+} Unsubscribe;",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90322158",
            "id": 90322158,
            "line": null,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkwMzIyMTU4",
            "original_commit_id": "7e753461ac4422053f2563475102ad0f0bade07c",
            "original_line": null,
            "original_position": 18,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": null,
            "pull_request_review_id": 10843199,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90322158/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2016-12-01T12:09:17Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90322158",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90322291"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90322291"
                }
            },
            "author_association": "MEMBER",
            "body": "Would it make sense for these to be enums as well? Also `INVITE_*` and `PEER_*`.",
            "commit_id": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "created_at": "2016-11-30T20:37:18Z",
            "diff_hunk": "@@ -29,24 +29,80 @@\n \n #include \"util.h\"\n \n-/* return 1 if the groupnumber is not valid.\n- * return 0 if the groupnumber is valid.\n- */\n-static uint8_t groupnumber_not_valid(const Group_Chats *g_c, int groupnumber)\n+typedef ptrdiff_t aint;\n+\n+#define CLOSEST( i ) ((g->closest_peers_entry & (1ull << i)) != 0)\n+#define CLOSESTSET( i ) { g->closest_peers_entry |= (1ull << i); }\n+\n+typedef enum {\n+    UNS_NONE,\n+    UNS_TEMP,\n+    UNS_FOREVER,\n+\n+} Unsubscribe;\n+\n+/* Interval in seconds to send ping messages */\n+#define GROUP_PING_INTERVAL 20\n+\n+#define GROUP_MESSAGE_PING_ID 0\n+#define GROUP_MESSAGE_UNSUBSCRIBE_ID 1\n+#define GROUP_MESSAGE_NICKNAME_ID 2\n+#define GROUP_MESSAGE_NEW_PEER_ID 16\n+#define GROUP_MESSAGE_KILL_PEER_ID 17\n+#define GROUP_MESSAGE_NAME_ID 48\n+#define GROUP_MESSAGE_TITLE_ID 49",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90322291",
            "id": 90322291,
            "line": null,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkwMzIyMjkx",
            "original_commit_id": "7e753461ac4422053f2563475102ad0f0bade07c",
            "original_line": null,
            "original_position": 29,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": null,
            "pull_request_review_id": 10843199,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90322291/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2016-12-01T12:09:17Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90322291",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90322967"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90322967"
                }
            },
            "author_association": "MEMBER",
            "body": "`num_chats` is `uint16_t`, so you're comparing a signed int to an unsigned below. It used to be unsigned < unsigned. Please change the type of `i` to `uint16_t` or another unsigned type.",
            "commit_id": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "created_at": "2016-11-30T20:40:21Z",
            "diff_hunk": "@@ -73,69 +129,47 @@ static int realloc_groupchats(Group_Chats *g_c, uint32_t num)\n     return 0;\n }\n \n+static void setup_conference(Group_c *g)\n+{\n+    memset(g, 0, sizeof(Group_c));\n+    g->keep_join_index = -1;\n+    g->live = true;\n+}\n \n /* Create a new empty groupchat connection.\n  *\n  * return -1 on failure.\n  * return groupnumber on success.\n  */\n-static int create_group_chat(Group_Chats *g_c)\n+static aint create_group_chat(Group_Chats *g_c)\n {\n-    uint32_t i;\n+    aint i;",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90322967",
            "id": 90322967,
            "line": 150,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkwMzIyOTY3",
            "original_commit_id": "7e753461ac4422053f2563475102ad0f0bade07c",
            "original_line": null,
            "original_position": 122,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": 126,
            "pull_request_review_id": 10843199,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90322967/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2016-12-01T12:09:17Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90322967",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90323292"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90323292"
                }
            },
            "author_association": "MEMBER",
            "body": "Why this change? I don't think the different syntax for pointer arithmetic improves clarity here.",
            "commit_id": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "created_at": "2016-11-30T20:42:04Z",
            "diff_hunk": "@@ -73,69 +129,47 @@ static int realloc_groupchats(Group_Chats *g_c, uint32_t num)\n     return 0;\n }\n \n+static void setup_conference(Group_c *g)\n+{\n+    memset(g, 0, sizeof(Group_c));\n+    g->keep_join_index = -1;\n+    g->live = true;\n+}\n \n /* Create a new empty groupchat connection.\n  *\n  * return -1 on failure.\n  * return groupnumber on success.\n  */\n-static int create_group_chat(Group_Chats *g_c)\n+static aint create_group_chat(Group_Chats *g_c)\n {\n-    uint32_t i;\n+    aint i;\n \n     for (i = 0; i < g_c->num_chats; ++i) {\n-        if (g_c->chats[i].status == GROUPCHAT_STATUS_NONE) {\n+        if (!g_c->chats[i].live) {\n+            setup_conference(g_c->chats + i);\n             return i;\n         }\n     }\n \n-    int id = -1;\n+    aint id = -1;\n \n     if (realloc_groupchats(g_c, g_c->num_chats + 1) == 0) {\n         id = g_c->num_chats;\n         ++g_c->num_chats;\n-        memset(&(g_c->chats[id]), 0, sizeof(Group_c));\n+        setup_conference(g_c->chats + id);\n     }\n \n     return id;\n }\n \n-\n-/* Wipe a groupchat.\n- *\n- * return -1 on failure.\n- * return 0 on success.\n- */\n-static int wipe_group_chat(Group_Chats *g_c, int groupnumber)\n-{\n-    if (groupnumber_not_valid(g_c, groupnumber)) {\n-        return -1;\n-    }\n-\n-    uint32_t i;\n-    sodium_memzero(&(g_c->chats[groupnumber]), sizeof(Group_c));\n-\n-    for (i = g_c->num_chats; i != 0; --i) {\n-        if (g_c->chats[i - 1].status != GROUPCHAT_STATUS_NONE) {\n-            break;\n-        }\n-    }\n-\n-    if (g_c->num_chats != i) {\n-        g_c->num_chats = i;\n-        realloc_groupchats(g_c, g_c->num_chats);\n-    }\n-\n-    return 0;\n-}\n-\n-static Group_c *get_group_c(const Group_Chats *g_c, int groupnumber)\n+static Group_c *get_group_c(const Group_Chats *g_c, aint groupnumber)\n {\n-    if (groupnumber_not_valid(g_c, groupnumber)) {\n-        return 0;\n+    if (!is_groupnumber_valid(g_c, groupnumber)) {\n+        return NULL;\n     }\n \n-    return &g_c->chats[groupnumber];\n+    return g_c->chats + groupnumber;",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90323292",
            "id": 90323292,
            "line": 176,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkwMzIzMjky",
            "original_commit_id": "7e753461ac4422053f2563475102ad0f0bade07c",
            "original_line": null,
            "original_position": 184,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": 188,
            "pull_request_review_id": 10843199,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90323292/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2016-12-01T12:09:17Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90323292",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90323419"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90323419"
                }
            },
            "author_association": "MEMBER",
            "body": "What does -2 mean? Perhaps make/use a constant for this value?",
            "commit_id": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "created_at": "2016-11-30T20:42:39Z",
            "diff_hunk": "@@ -147,12 +181,12 @@ static Group_c *get_group_c(const Group_Chats *g_c, int groupnumber)\n  * TODO(irungentoo): make this more efficient.\n  */\n \n-static int peer_in_chat(const Group_c *chat, const uint8_t *real_pk)\n+static aint peer_in_chat(const Group_c *chat, const uint8_t *real_pk)\n {\n-    uint32_t i;\n+    size_t i;\n \n     for (i = 0; i < chat->numpeers; ++i) {\n-        if (id_equal(chat->group[i].real_pk, real_pk)) {\n+        if (chat->peers[i].friendcon_id != -2 && id_equal(chat->peers[i].real_pk, real_pk)) {",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90323419",
            "id": 90323419,
            "line": 193,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkwMzIzNDE5",
            "original_commit_id": "7e753461ac4422053f2563475102ad0f0bade07c",
            "original_line": null,
            "original_position": 200,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": 204,
            "pull_request_review_id": 10843199,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90323419/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2016-12-01T12:09:17Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90323419",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90323545"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90323545"
                }
            },
            "author_association": "MEMBER",
            "body": "Why did this change to `size_t`? It's not being compared to a `size_t` anywhere.",
            "commit_id": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "created_at": "2016-11-30T20:43:22Z",
            "diff_hunk": "@@ -147,12 +181,12 @@ static Group_c *get_group_c(const Group_Chats *g_c, int groupnumber)\n  * TODO(irungentoo): make this more efficient.\n  */\n \n-static int peer_in_chat(const Group_c *chat, const uint8_t *real_pk)\n+static aint peer_in_chat(const Group_c *chat, const uint8_t *real_pk)\n {\n-    uint32_t i;\n+    size_t i;",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90323545",
            "id": 90323545,
            "line": 190,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkwMzIzNTQ1",
            "original_commit_id": "7e753461ac4422053f2563475102ad0f0bade07c",
            "original_line": null,
            "original_position": 196,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": 200,
            "pull_request_review_id": 10843199,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90323545/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2016-12-01T12:09:17Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90323545",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90323635"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90323635"
                }
            },
            "author_association": "MEMBER",
            "body": "Style nit: remove empty line.",
            "commit_id": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "created_at": "2016-11-30T20:43:53Z",
            "diff_hunk": "@@ -170,15 +204,34 @@ static int peer_in_chat(const Group_c *chat, const uint8_t *real_pk)\n  */\n static int get_group_num(const Group_Chats *g_c, const uint8_t *identifier)\n {\n-    uint32_t i;\n+    aint i;\n \n     for (i = 0; i < g_c->num_chats; ++i) {\n-        if (sodium_memcmp(g_c->chats[i].identifier, identifier, GROUP_IDENTIFIER_LENGTH) == 0) {\n-            return i;\n+        if (g_c->chats[i].live && sodium_memcmp(g_c->chats[i].identifier, identifier, GROUP_IDENTIFIER_LENGTH) == 0) {\n+            return (int)i;\n+        }\n+    }\n+\n+    return -1;\n+}\n+\n+int conference_by_uid(const Group_Chats *g_c, const uint8_t *uid)\n+{\n+    aint i;\n+\n+    for (i = 0; i < g_c->num_chats; ++i) {\n+",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90323635",
            "id": 90323635,
            "line": null,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkwMzIzNjM1",
            "original_commit_id": "7e753461ac4422053f2563475102ad0f0bade07c",
            "original_line": null,
            "original_position": 227,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": null,
            "pull_request_review_id": 10843199,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90323635/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2016-12-01T12:09:17Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90323635",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90323881"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90323881"
                }
            },
            "author_association": "MEMBER",
            "body": "Why is this 24 bits, while in other code gids are represented by `uint16_t`?",
            "commit_id": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "created_at": "2016-11-30T20:45:26Z",
            "diff_hunk": "@@ -28,104 +28,134 @@\n #include \"Messenger.h\"\n \n enum {\n-    GROUPCHAT_STATUS_NONE,\n-    GROUPCHAT_STATUS_VALID,\n-    GROUPCHAT_STATUS_CONNECTED\n-};\n-\n-enum {\n     GROUPCHAT_TYPE_TEXT,\n     GROUPCHAT_TYPE_AV\n };\n \n #define MAX_LOSSY_COUNT 256\n \n typedef struct {\n+\n+    uint8_t     recv_lossy[MAX_LOSSY_COUNT];\n+    uint16_t    bottom_lossy_number, top_lossy_number;\n+\n+} Group_Peer_Lossy;\n+\n+typedef struct {\n     uint8_t     real_pk[crypto_box_PUBLICKEYBYTES];\n     uint8_t     temp_pk[crypto_box_PUBLICKEYBYTES];\n \n+    Group_Peer_Lossy *lossy; /* rare use */\n+    void *object;\n+\n     uint64_t    last_recv;\n-    uint32_t    last_message_number;\n \n-    uint8_t     nick[MAX_NAME_LENGTH];\n-    uint8_t     nick_len;\n+    uint8_t     *nick;\n \n-    uint16_t peer_number;\n+    uint32_t    last_message_number[9]; /* 9 - number of group messages */\n+    int         friendcon_id;\n \n-    uint8_t  recv_lossy[MAX_LOSSY_COUNT];\n-    uint16_t bottom_lossy_number, top_lossy_number;\n+    signed      gid : 24; /* unique per-conference peer id */",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90323881",
            "id": 90323881,
            "line": 58,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkwMzIzODgx",
            "original_commit_id": "7e753461ac4422053f2563475102ad0f0bade07c",
            "original_line": null,
            "original_position": 43,
            "original_start_line": null,
            "path": "toxcore/group.h",
            "position": 43,
            "pull_request_review_id": 10843199,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90323881/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2016-12-01T12:09:17Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90323881",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90323965"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90323965"
                }
            },
            "author_association": "MEMBER",
            "body": "Can you make this 9 a named constant?",
            "commit_id": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "created_at": "2016-11-30T20:45:53Z",
            "diff_hunk": "@@ -28,104 +28,134 @@\n #include \"Messenger.h\"\n \n enum {\n-    GROUPCHAT_STATUS_NONE,\n-    GROUPCHAT_STATUS_VALID,\n-    GROUPCHAT_STATUS_CONNECTED\n-};\n-\n-enum {\n     GROUPCHAT_TYPE_TEXT,\n     GROUPCHAT_TYPE_AV\n };\n \n #define MAX_LOSSY_COUNT 256\n \n typedef struct {\n+\n+    uint8_t     recv_lossy[MAX_LOSSY_COUNT];\n+    uint16_t    bottom_lossy_number, top_lossy_number;\n+\n+} Group_Peer_Lossy;\n+\n+typedef struct {\n     uint8_t     real_pk[crypto_box_PUBLICKEYBYTES];\n     uint8_t     temp_pk[crypto_box_PUBLICKEYBYTES];\n \n+    Group_Peer_Lossy *lossy; /* rare use */\n+    void *object;\n+\n     uint64_t    last_recv;\n-    uint32_t    last_message_number;\n \n-    uint8_t     nick[MAX_NAME_LENGTH];\n-    uint8_t     nick_len;\n+    uint8_t     *nick;\n \n-    uint16_t peer_number;\n+    uint32_t    last_message_number[9]; /* 9 - number of group messages */",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90323965",
            "id": 90323965,
            "line": 55,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkwMzIzOTY1",
            "original_commit_id": "7e753461ac4422053f2563475102ad0f0bade07c",
            "original_line": null,
            "original_position": 38,
            "original_start_line": null,
            "path": "toxcore/group.h",
            "position": 38,
            "pull_request_review_id": 10843199,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90323965/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2016-12-01T12:09:17Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90323965",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90324766"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90324766"
                }
            },
            "author_association": "MEMBER",
            "body": "Would it make sense to start from the current random number, rather than starting from 0? What would be a reason against always doing that instead of trying 32 random numbers before resorting to linear search?",
            "commit_id": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "created_at": "2016-11-30T20:50:19Z",
            "diff_hunk": "@@ -187,27 +240,51 @@ static int get_group_num(const Group_Chats *g_c, const uint8_t *identifier)\n  * return peer number if peer is in chat.\n  * return -1 if peer is not in chat.\n  *\n- * TODO(irungentoo): make this more efficient.\n  */\n-static int get_peer_index(Group_c *g, uint16_t peer_number)\n+static aint get_peer_index(const Group_c *g, uint16_t peer_gid)\n {\n-    uint32_t i;\n+    aint i;\n \n     for (i = 0; i < g->numpeers; ++i) {\n-        if (g->group[i].peer_number == peer_number) {\n+        if (g->peers[i].gid == (int)peer_gid) {\n             return i;\n         }\n     }\n \n     return -1;\n }\n \n+static uint16_t find_new_peer_gid(const Group_c *g)\n+{\n+    uint16_t peer_number;\n+    randombytes((uint8_t *)&peer_number, 2);\n+\n+    size_t tries = 0;\n+\n+    while (get_peer_index(g, peer_number) != -1) {\n+        randombytes((uint8_t *)&peer_number, 2);\n+        ++tries;\n+\n+        if (tries > 32) {\n+            /* just find first unused peer number */\n+            peer_number = 0;",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90324766",
            "id": 90324766,
            "line": 273,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkwMzI0NzY2",
            "original_commit_id": "7e753461ac4422053f2563475102ad0f0bade07c",
            "original_line": null,
            "original_position": 277,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": 280,
            "pull_request_review_id": 10843199,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90324766/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2016-12-01T12:09:17Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90324766",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90325137"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90325137"
                }
            },
            "author_association": "MEMBER",
            "body": "Pass `g` to the macro to make it independent of the current lexical environment, and to clarify at the call site which values are used in the operation.",
            "commit_id": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "created_at": "2016-11-30T20:52:21Z",
            "diff_hunk": "@@ -29,24 +29,80 @@\n \n #include \"util.h\"\n \n-/* return 1 if the groupnumber is not valid.\n- * return 0 if the groupnumber is valid.\n- */\n-static uint8_t groupnumber_not_valid(const Group_Chats *g_c, int groupnumber)\n+typedef ptrdiff_t aint;\n+\n+#define CLOSEST( i ) ((g->closest_peers_entry & (1ull << i)) != 0)",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90325137",
            "id": 90325137,
            "line": null,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkwMzI1MTM3",
            "original_commit_id": "7e753461ac4422053f2563475102ad0f0bade07c",
            "original_line": null,
            "original_position": 10,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": null,
            "pull_request_review_id": 10843199,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90325137/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2016-12-01T12:09:17Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90325137",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90325223"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90325223"
                }
            },
            "author_association": "MEMBER",
            "body": "Add an underscore somewhere in this macro name to clarify which words it is composed of.",
            "commit_id": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "created_at": "2016-11-30T20:52:47Z",
            "diff_hunk": "@@ -29,24 +29,80 @@\n \n #include \"util.h\"\n \n-/* return 1 if the groupnumber is not valid.\n- * return 0 if the groupnumber is valid.\n- */\n-static uint8_t groupnumber_not_valid(const Group_Chats *g_c, int groupnumber)\n+typedef ptrdiff_t aint;\n+\n+#define CLOSEST( i ) ((g->closest_peers_entry & (1ull << i)) != 0)\n+#define CLOSESTSET( i ) { g->closest_peers_entry |= (1ull << i); }",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90325223",
            "id": 90325223,
            "line": null,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkwMzI1MjIz",
            "original_commit_id": "7e753461ac4422053f2563475102ad0f0bade07c",
            "original_line": null,
            "original_position": 11,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": null,
            "pull_request_review_id": 10843199,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90325223/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2016-12-01T12:09:17Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90325223",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90325686"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90325686"
                }
            },
            "author_association": "MEMBER",
            "body": "Can you break this function into logical pieces? It's quite long.",
            "commit_id": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "created_at": "2016-11-30T20:55:02Z",
            "diff_hunk": "@@ -217,661 +294,1009 @@ static uint64_t calculate_comp_value(const uint8_t *pk1, const uint8_t *pk2)\n     return (cmp1 - cmp2);\n }\n \n-enum {\n-    GROUPCHAT_CLOSEST_NONE,\n-    GROUPCHAT_CLOSEST_ADDED,\n-    GROUPCHAT_CLOSEST_REMOVED\n-};\n+static void add_closest(Group_c *g, size_t peerindex)\n+{\n+    size_t i;\n \n-static int friend_in_close(Group_c *g, int friendcon_id);\n-static int add_conn_to_groupchat(Group_Chats *g_c, int friendcon_id, int groupnumber, uint8_t closest, uint8_t lock);\n+    for (i = 0; i < DESIRED_CLOSE_CONNECTIONS; ++i) {\n \n-static int add_to_closest(Group_Chats *g_c, int groupnumber, const uint8_t *real_pk, const uint8_t *temp_pk)\n-{\n-    Group_c *g = get_group_c(g_c, groupnumber);\n+        if (!CLOSEST(i)) {\n \n-    if (!g) {\n-        return -1;\n+            g->closest_peers[i] = (uint16_t)peerindex;\n+            CLOSESTSET(i);\n+            return;\n+        }\n     }\n \n-    if (public_key_cmp(g->real_pk, real_pk) == 0) {\n-        return -1;\n-    }\n+    size_t index = DESIRED_CLOSE_CONNECTIONS;\n \n-    unsigned int i;\n-    unsigned int index = DESIRED_CLOSE_CONNECTIONS;\n+    const uint8_t *real_pk = g->peers[peerindex].real_pk;\n+    uint64_t comp_val = calculate_comp_value(g->real_pk, real_pk);\n+    uint64_t comp_d = 0;\n \n-    for (i = 0; i < DESIRED_CLOSE_CONNECTIONS; ++i) {\n-        if (g->closest_peers[i].entry && public_key_cmp(real_pk, g->closest_peers[i].real_pk) == 0) {\n-            return 0;\n-        }\n-    }\n+    for (i = 0; i < (DESIRED_CLOSE_CONNECTIONS / 2); ++i) {\n \n-    for (i = 0; i < DESIRED_CLOSE_CONNECTIONS; ++i) {\n-        if (g->closest_peers[i].entry == 0) {\n+        uint64_t comp;\n+        comp = calculate_comp_value(g->real_pk, g->peers[g->closest_peers[i]].real_pk);\n+\n+        if (comp > comp_val && comp > comp_d) {\n             index = i;\n-            break;\n+            comp_d = comp;\n         }\n     }\n \n-    if (index == DESIRED_CLOSE_CONNECTIONS) {\n-        uint64_t comp_val = calculate_comp_value(g->real_pk, real_pk);\n-        uint64_t comp_d = 0;\n-\n-        for (i = 0; i < (DESIRED_CLOSE_CONNECTIONS / 2); ++i) {\n-            uint64_t comp;\n-            comp = calculate_comp_value(g->real_pk, g->closest_peers[i].real_pk);\n+    comp_val = calculate_comp_value(real_pk, g->real_pk);\n \n-            if (comp > comp_val && comp > comp_d) {\n-                index = i;\n-                comp_d = comp;\n-            }\n-        }\n+    for (i = (DESIRED_CLOSE_CONNECTIONS / 2); i < DESIRED_CLOSE_CONNECTIONS; ++i) {\n \n-        comp_val = calculate_comp_value(real_pk, g->real_pk);\n+        uint64_t comp = calculate_comp_value(g->peers[g->closest_peers[i]].real_pk, g->real_pk);\n \n-        for (i = (DESIRED_CLOSE_CONNECTIONS / 2); i < DESIRED_CLOSE_CONNECTIONS; ++i) {\n-            uint64_t comp = calculate_comp_value(g->closest_peers[i].real_pk, g->real_pk);\n-\n-            if (comp > comp_val && comp > comp_d) {\n-                index = i;\n-                comp_d = comp;\n-            }\n+        if (comp > comp_val && comp > comp_d) {\n+            index = i;\n+            comp_d = comp;\n         }\n     }\n \n-    if (index == DESIRED_CLOSE_CONNECTIONS) {\n-        return -1;\n-    }\n-\n-    uint8_t old_real_pk[crypto_box_PUBLICKEYBYTES];\n-    uint8_t old_temp_pk[crypto_box_PUBLICKEYBYTES];\n-    uint8_t old = 0;\n+    if (index < DESIRED_CLOSE_CONNECTIONS) {\n+        aint rmpeer = g->closest_peers[index];\n+        g->closest_peers[index] = (uint16_t)peerindex;\n+        g->closest_peers_entry |= 1 << index;\n \n-    if (g->closest_peers[index].entry) {\n-        memcpy(old_real_pk, g->closest_peers[index].real_pk, crypto_box_PUBLICKEYBYTES);\n-        memcpy(old_temp_pk, g->closest_peers[index].temp_pk, crypto_box_PUBLICKEYBYTES);\n-        old = 1;\n+        add_closest(g, rmpeer);\n     }\n+}\n \n-    g->closest_peers[index].entry = 1;\n-    memcpy(g->closest_peers[index].real_pk, real_pk, crypto_box_PUBLICKEYBYTES);\n-    memcpy(g->closest_peers[index].temp_pk, temp_pk, crypto_box_PUBLICKEYBYTES);\n-\n-    if (old) {\n-        add_to_closest(g_c, groupnumber, old_real_pk, old_temp_pk);\n+static int handle_status(void *object, int friendcon_id, uint8_t status, void *userdata)\n+{\n+    if (status) {\n+        return 0;\n     }\n \n-    if (!g->changed) {\n-        g->changed = GROUPCHAT_CLOSEST_ADDED;\n-    }\n+    size_t ig, i;\n+    Group_Chats *g_c = (Group_Chats *)object;\n \n-    return 0;\n-}\n+    for (ig = 0; ig < g_c->num_chats; ++ig) {\n \n-static unsigned int pk_in_closest_peers(Group_c *g, uint8_t *real_pk)\n-{\n-    unsigned int i;\n+        Group_c *g = get_group_c(g_c, ig);\n \n-    for (i = 0; i < DESIRED_CLOSE_CONNECTIONS; ++i) {\n-        if (!g->closest_peers[i].entry) {\n+        if (!g) {\n             continue;\n         }\n \n-        if (public_key_cmp(g->closest_peers[i].real_pk, real_pk) == 0) {\n-            return 1;\n+        for (i = 0; i < g->numpeers; ++i) {\n+\n+            if (g->peers[i].friendcon_id == friendcon_id) {\n+                g->peers[i].friendcon_id = -1;\n+                g->peers[i].group_number = 0xffff;\n+                g->peers[i].connected = false;\n+            }\n         }\n     }\n \n     return 0;\n }\n \n-static int send_packet_online(Friend_Connections *fr_c, int friendcon_id, uint16_t group_num, uint8_t *identifier);\n-\n-static int connect_to_closest(Group_Chats *g_c, int groupnumber, void *userdata)\n+static void apply_changes_in_peers(Group_Chats *g_c, aint groupnumber, void *userdata)",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90325686",
            "id": 90325686,
            "line": 382,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkwMzI1Njg2",
            "original_commit_id": "7e753461ac4422053f2563475102ad0f0bade07c",
            "original_line": null,
            "original_position": 462,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": 465,
            "pull_request_review_id": 10843199,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90325686/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2016-12-01T12:09:17Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90325686",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90325839"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90325839"
                }
            },
            "author_association": "MEMBER",
            "body": "Looks like -2 means something. When you add/use a constant, make sure it's used throughout the code.",
            "commit_id": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "created_at": "2016-11-30T20:55:44Z",
            "diff_hunk": "@@ -217,661 +294,1009 @@ static uint64_t calculate_comp_value(const uint8_t *pk1, const uint8_t *pk2)\n     return (cmp1 - cmp2);\n }\n \n-enum {\n-    GROUPCHAT_CLOSEST_NONE,\n-    GROUPCHAT_CLOSEST_ADDED,\n-    GROUPCHAT_CLOSEST_REMOVED\n-};\n+static void add_closest(Group_c *g, size_t peerindex)\n+{\n+    size_t i;\n \n-static int friend_in_close(Group_c *g, int friendcon_id);\n-static int add_conn_to_groupchat(Group_Chats *g_c, int friendcon_id, int groupnumber, uint8_t closest, uint8_t lock);\n+    for (i = 0; i < DESIRED_CLOSE_CONNECTIONS; ++i) {\n \n-static int add_to_closest(Group_Chats *g_c, int groupnumber, const uint8_t *real_pk, const uint8_t *temp_pk)\n-{\n-    Group_c *g = get_group_c(g_c, groupnumber);\n+        if (!CLOSEST(i)) {\n \n-    if (!g) {\n-        return -1;\n+            g->closest_peers[i] = (uint16_t)peerindex;\n+            CLOSESTSET(i);\n+            return;\n+        }\n     }\n \n-    if (public_key_cmp(g->real_pk, real_pk) == 0) {\n-        return -1;\n-    }\n+    size_t index = DESIRED_CLOSE_CONNECTIONS;\n \n-    unsigned int i;\n-    unsigned int index = DESIRED_CLOSE_CONNECTIONS;\n+    const uint8_t *real_pk = g->peers[peerindex].real_pk;\n+    uint64_t comp_val = calculate_comp_value(g->real_pk, real_pk);\n+    uint64_t comp_d = 0;\n \n-    for (i = 0; i < DESIRED_CLOSE_CONNECTIONS; ++i) {\n-        if (g->closest_peers[i].entry && public_key_cmp(real_pk, g->closest_peers[i].real_pk) == 0) {\n-            return 0;\n-        }\n-    }\n+    for (i = 0; i < (DESIRED_CLOSE_CONNECTIONS / 2); ++i) {\n \n-    for (i = 0; i < DESIRED_CLOSE_CONNECTIONS; ++i) {\n-        if (g->closest_peers[i].entry == 0) {\n+        uint64_t comp;\n+        comp = calculate_comp_value(g->real_pk, g->peers[g->closest_peers[i]].real_pk);\n+\n+        if (comp > comp_val && comp > comp_d) {\n             index = i;\n-            break;\n+            comp_d = comp;\n         }\n     }\n \n-    if (index == DESIRED_CLOSE_CONNECTIONS) {\n-        uint64_t comp_val = calculate_comp_value(g->real_pk, real_pk);\n-        uint64_t comp_d = 0;\n-\n-        for (i = 0; i < (DESIRED_CLOSE_CONNECTIONS / 2); ++i) {\n-            uint64_t comp;\n-            comp = calculate_comp_value(g->real_pk, g->closest_peers[i].real_pk);\n+    comp_val = calculate_comp_value(real_pk, g->real_pk);\n \n-            if (comp > comp_val && comp > comp_d) {\n-                index = i;\n-                comp_d = comp;\n-            }\n-        }\n+    for (i = (DESIRED_CLOSE_CONNECTIONS / 2); i < DESIRED_CLOSE_CONNECTIONS; ++i) {\n \n-        comp_val = calculate_comp_value(real_pk, g->real_pk);\n+        uint64_t comp = calculate_comp_value(g->peers[g->closest_peers[i]].real_pk, g->real_pk);\n \n-        for (i = (DESIRED_CLOSE_CONNECTIONS / 2); i < DESIRED_CLOSE_CONNECTIONS; ++i) {\n-            uint64_t comp = calculate_comp_value(g->closest_peers[i].real_pk, g->real_pk);\n-\n-            if (comp > comp_val && comp > comp_d) {\n-                index = i;\n-                comp_d = comp;\n-            }\n+        if (comp > comp_val && comp > comp_d) {\n+            index = i;\n+            comp_d = comp;\n         }\n     }\n \n-    if (index == DESIRED_CLOSE_CONNECTIONS) {\n-        return -1;\n-    }\n-\n-    uint8_t old_real_pk[crypto_box_PUBLICKEYBYTES];\n-    uint8_t old_temp_pk[crypto_box_PUBLICKEYBYTES];\n-    uint8_t old = 0;\n+    if (index < DESIRED_CLOSE_CONNECTIONS) {\n+        aint rmpeer = g->closest_peers[index];\n+        g->closest_peers[index] = (uint16_t)peerindex;\n+        g->closest_peers_entry |= 1 << index;\n \n-    if (g->closest_peers[index].entry) {\n-        memcpy(old_real_pk, g->closest_peers[index].real_pk, crypto_box_PUBLICKEYBYTES);\n-        memcpy(old_temp_pk, g->closest_peers[index].temp_pk, crypto_box_PUBLICKEYBYTES);\n-        old = 1;\n+        add_closest(g, rmpeer);\n     }\n+}\n \n-    g->closest_peers[index].entry = 1;\n-    memcpy(g->closest_peers[index].real_pk, real_pk, crypto_box_PUBLICKEYBYTES);\n-    memcpy(g->closest_peers[index].temp_pk, temp_pk, crypto_box_PUBLICKEYBYTES);\n-\n-    if (old) {\n-        add_to_closest(g_c, groupnumber, old_real_pk, old_temp_pk);\n+static int handle_status(void *object, int friendcon_id, uint8_t status, void *userdata)\n+{\n+    if (status) {\n+        return 0;\n     }\n \n-    if (!g->changed) {\n-        g->changed = GROUPCHAT_CLOSEST_ADDED;\n-    }\n+    size_t ig, i;\n+    Group_Chats *g_c = (Group_Chats *)object;\n \n-    return 0;\n-}\n+    for (ig = 0; ig < g_c->num_chats; ++ig) {\n \n-static unsigned int pk_in_closest_peers(Group_c *g, uint8_t *real_pk)\n-{\n-    unsigned int i;\n+        Group_c *g = get_group_c(g_c, ig);\n \n-    for (i = 0; i < DESIRED_CLOSE_CONNECTIONS; ++i) {\n-        if (!g->closest_peers[i].entry) {\n+        if (!g) {\n             continue;\n         }\n \n-        if (public_key_cmp(g->closest_peers[i].real_pk, real_pk) == 0) {\n-            return 1;\n+        for (i = 0; i < g->numpeers; ++i) {\n+\n+            if (g->peers[i].friendcon_id == friendcon_id) {\n+                g->peers[i].friendcon_id = -1;\n+                g->peers[i].group_number = 0xffff;\n+                g->peers[i].connected = false;\n+            }\n         }\n     }\n \n     return 0;\n }\n \n-static int send_packet_online(Friend_Connections *fr_c, int friendcon_id, uint16_t group_num, uint8_t *identifier);\n-\n-static int connect_to_closest(Group_Chats *g_c, int groupnumber, void *userdata)\n+static void apply_changes_in_peers(Group_Chats *g_c, aint groupnumber, void *userdata)\n {\n     Group_c *g = get_group_c(g_c, groupnumber);\n \n     if (!g) {\n-        return -1;\n+        return;\n     }\n \n-    if (!g->changed) {\n-        return 0;\n-    }\n+    bool some_changes = false;\n \n-    unsigned int i;\n+    if (g->dirty_list) {\n \n-    if (g->changed == GROUPCHAT_CLOSEST_REMOVED) {\n-        for (i = 0; i < g->numpeers; ++i) {\n-            add_to_closest(g_c, groupnumber, g->group[i].real_pk, g->group[i].temp_pk);\n-        }\n-    }\n+        size_t i, j, empty_slots_in_list = 0;\n \n-    for (i = 0; i < MAX_GROUP_CONNECTIONS; ++i) {\n-        if (g->close[i].type == GROUPCHAT_CLOSE_NONE) {\n-            continue;\n-        }\n+        /* detect deleted peers and notify client */\n+        for (i = 0; i < g->numpeers_in_list; ++i) {\n \n-        if (!g->close[i].closest) {\n-            continue;\n-        }\n+            aint peer_index = g->peers_list[i];\n \n-        uint8_t real_pk[crypto_box_PUBLICKEYBYTES];\n-        uint8_t dht_temp_pk[crypto_box_PUBLICKEYBYTES];\n-        get_friendcon_public_keys(real_pk, dht_temp_pk, g_c->fr_c, g->close[i].number);\n+            if (g->peers[peer_index].friendcon_id == -2 || g->peers[peer_index].gid < 0) {\n \n-        if (!pk_in_closest_peers(g, real_pk)) {\n-            g->close[i].type = GROUPCHAT_CLOSE_NONE;\n-            kill_friend_connection(g_c->fr_c, g->close[i].number);\n+                some_changes = true;\n+                g->peers_list[i] = 0xffff;\n+                ++empty_slots_in_list;\n+            }\n         }\n-    }\n \n-    for (i = 0; i < DESIRED_CLOSE_CONNECTIONS; ++i) {\n-        if (!g->closest_peers[i].entry) {\n-            continue;\n-        }\n+        aint new_size_of_list = 0;\n \n-        int friendcon_id = getfriend_conn_id_pk(g_c->fr_c, g->closest_peers[i].real_pk);\n+        for (i = 0; i < g->numpeers; ++i) {\n \n-        uint8_t lock = 1;\n+            const Group_Peer *peer = g->peers + i;\n \n-        if (friendcon_id == -1) {\n-            friendcon_id = new_friend_connection(g_c->fr_c, g->closest_peers[i].real_pk);\n-            lock = 0;\n+            if (peer->friendcon_id != -2 && peer->gid >= 0) {\n+                ++new_size_of_list;\n \n-            if (friendcon_id == -1) {\n-                continue;\n-            }\n+                if (empty_slots_in_list > 0) {\n \n-            set_dht_temp_pk(g_c->fr_c, friendcon_id, g->closest_peers[i].temp_pk, userdata);\n-        }\n+                    aint empty_slot = -1;\n+                    bool present = false;\n \n-        add_conn_to_groupchat(g_c, friendcon_id, groupnumber, 1, lock);\n+                    for (j = 0; j < g->numpeers_in_list; ++j) {\n+                        if (empty_slot < 0 && g->peers_list[j] == 0xffff) {\n+                            empty_slot = j;\n+                        }\n \n-        if (friend_con_connected(g_c->fr_c, friendcon_id) == FRIENDCONN_STATUS_CONNECTED) {\n-            send_packet_online(g_c->fr_c, friendcon_id, groupnumber, g->identifier);\n-        }\n-    }\n+                        if (g->peers_list[j] == i) {\n+                            present = true;\n+                        }\n \n-    g->changed = GROUPCHAT_CLOSEST_NONE;\n+                        if (empty_slot >= 0 && present) {\n+                            break;\n+                        }\n+                    }\n \n-    return 0;\n-}\n+                    if (!present) {\n+                        g->peers_list[empty_slot] = (uint16_t)i;\n+                        --empty_slots_in_list;\n+                        some_changes = true;\n+                    }\n+                }\n+            }\n+        }\n \n-/* Add a peer to the group chat.\n- *\n- * do_gc_callback indicates whether we want to trigger callbacks set by the client\n- * via the public API. This should be set to false if this function is called\n- * from outside of the tox_iterate() loop.\n- *\n- * return peer_index if success or peer already in chat.\n- * return -1 if error.\n- */\n-static int addpeer(Group_Chats *g_c, int groupnumber, const uint8_t *real_pk, const uint8_t *temp_pk,\n-                   uint16_t peer_number, void *userdata, bool do_gc_callback)\n-{\n-    Group_c *g = get_group_c(g_c, groupnumber);\n+        if (empty_slots_in_list > 0) {\n \n-    if (!g) {\n-        return -1;\n-    }\n+            /* all new peers were put into empty slots, so there are no new peers */\n+            /* just remove empty slots both in peers_list and peers*/\n \n-    // TODO(irungentoo):\n-    int peer_index = peer_in_chat(g, real_pk);\n+            for (j = 0; j < g->numpeers_in_list;) {\n \n-    if (peer_index != -1) {\n-        id_copy(g->group[peer_index].temp_pk, temp_pk);\n+                if (g->peers_list[j] == 0xffff) {\n+                    --g->numpeers_in_list;\n+                    /* g->peers_list[j] = g->peers_list[g->numpeers_in_list]; */ /* faster */\n+                    memcpy(g->peers_list + j, g->peers_list + j + 1,\n+                           sizeof(uint16_t) * (g->numpeers_in_list - j)); /* slower, but accurate */\n+                    some_changes = true;\n+                    continue;\n+                }\n \n-        if (g->group[peer_index].peer_number != peer_number) {\n-            return -1;\n-        }\n+                ++j;\n+            }\n \n-        return peer_index;\n-    }\n+            for (i = 0; i < g->numpeers;) {\n \n-    peer_index = get_peer_index(g, peer_number);\n+                Group_Peer *peer = g->peers + i;\n \n-    if (peer_index != -1) {\n-        return -1;\n-    }\n+                if (peer->friendcon_id == -2) {\n+                    --g->numpeers;\n+                    memcpy(peer, g->peers + g->numpeers, sizeof(Group_Peer));\n \n-    Group_Peer *temp = (Group_Peer *)realloc(g->group, sizeof(Group_Peer) * (g->numpeers + 1));\n+                    for (j = 0; j < g->numpeers_in_list; ++j) {\n+                        if (g->peers_list[j] == g->numpeers) {\n+                            g->peers_list[j] = (uint16_t)i;\n+                            break;\n+                        }\n+                    }\n \n-    if (temp == NULL) {\n-        return -1;\n-    }\n+                    continue;\n+                }\n \n-    memset(&(temp[g->numpeers]), 0, sizeof(Group_Peer));\n-    g->group = temp;\n+                ++i;\n+            }\n \n-    id_copy(g->group[g->numpeers].real_pk, real_pk);\n-    id_copy(g->group[g->numpeers].temp_pk, temp_pk);\n-    g->group[g->numpeers].peer_number = peer_number;\n+        } else if (new_size_of_list > g->numpeers_in_list) {\n \n-    g->group[g->numpeers].last_recv = unix_time();\n-    ++g->numpeers;\n+            uint16_t *temp = (uint16_t *)realloc(g->peers_list, sizeof(uint16_t) * new_size_of_list);\n \n-    add_to_closest(g_c, groupnumber, real_pk, temp_pk);\n+            if (temp) {\n \n-    if (do_gc_callback && g_c->group_namelistchange) {\n-        g_c->group_namelistchange(g_c->m, groupnumber, g->numpeers - 1, CHAT_CHANGE_PEER_ADD, userdata);\n-    }\n+                g->peers_list = temp;\n \n-    if (g->peer_on_join) {\n-        g->peer_on_join(g->object, groupnumber, g->numpeers - 1);\n-    }\n+                for (i = 0; i < g->numpeers; ++i) {\n \n-    return (g->numpeers - 1);\n-}\n+                    const Group_Peer *peer = g->peers + i;\n \n-static int remove_close_conn(Group_Chats *g_c, int groupnumber, int friendcon_id)\n-{\n-    Group_c *g = get_group_c(g_c, groupnumber);\n+                    if (peer->friendcon_id != -2 && peer->gid >= 0) {\n \n-    if (!g) {\n-        return -1;\n-    }\n+                        bool present = false;\n \n-    uint32_t i;\n+                        for (j = 0; j < g->numpeers_in_list; ++j) {\n+                            if (g->peers_list[j] == i) {\n+                                present = true;\n+                                break;\n+                            }\n+                        }\n \n-    for (i = 0; i < MAX_GROUP_CONNECTIONS; ++i) {\n-        if (g->close[i].type == GROUPCHAT_CLOSE_NONE) {\n-            continue;\n-        }\n+                        if (!present) {\n \n-        if (g->close[i].number == (unsigned int)friendcon_id) {\n-            g->close[i].type = GROUPCHAT_CLOSE_NONE;\n-            kill_friend_connection(g_c->fr_c, friendcon_id);\n-            return 0;\n+                            g->peers_list[g->numpeers_in_list] = (uint16_t)i;\n+                            ++g->numpeers_in_list;\n+                            some_changes = true;\n+                        }\n+                    }\n+                }\n+            }\n         }\n-    }\n \n-    return -1;\n-}\n+        if (g_c->group_namelistchange) {\n+            if (some_changes) {\n \n+                if (!g->invite_called && !g->join_mode) {\n+                    if (g_c->invite_callback) {\n \n-/*\n- * Delete a peer from the group chat.\n- *\n- * return 0 if success\n- * return -1 if error.\n- */\n-static int delpeer(Group_Chats *g_c, int groupnumber, int peer_index, void *userdata)\n-{\n-    Group_c *g = get_group_c(g_c, groupnumber);\n+                        g->fake_join = true;\n+                        g_c->invite_callback(g_c->m, UINT32_MAX, g->identifier[0], g->identifier + 1, GROUP_IDENTIFIER_LENGTH - 1, userdata);\n+                        g->fake_join = false;\n \n-    if (!g) {\n-        return -1;\n-    }\n+                        if (!g->invite_called) {\n+                            del_groupchat(g_c, (int)groupnumber);\n+                            return;\n+                        }\n+                    }\n+                }\n \n-    uint32_t i;\n+                g_c->group_namelistchange(g_c->m, (int)groupnumber, 0, CHAT_CHANGE_OCCURRED, userdata);\n+                g->nick_changed = false;\n+            }\n+        }\n \n-    for (i = 0; i < DESIRED_CLOSE_CONNECTIONS; ++i) { /* If peer is in closest_peers list, remove it. */\n-        if (g->closest_peers[i].entry && id_equal(g->closest_peers[i].real_pk, g->group[peer_index].real_pk)) {\n-            g->closest_peers[i].entry = 0;\n-            g->changed = GROUPCHAT_CLOSEST_REMOVED;\n-            break;\n+        /* and now rebuild closest */\n+\n+        uint16_t old_closest_peers[DESIRED_CLOSE_CONNECTIONS];\n+        size_t inclose = 0;\n+\n+        for (i = 0; i < DESIRED_CLOSE_CONNECTIONS; ++i) {\n+            if (CLOSEST(i)) {\n+                old_closest_peers[inclose++] = g->closest_peers[i];\n+            }\n         }\n-    }\n \n-    int friendcon_id = getfriend_conn_id_pk(g_c->fr_c, g->group[peer_index].real_pk);\n+        g->closest_peers_entry = 0;\n \n-    if (friendcon_id != -1) {\n-        remove_close_conn(g_c, groupnumber, friendcon_id);\n-    }\n+        size_t np = g->numpeers;\n \n-    --g->numpeers;\n+        for (i = 0; i < np; ++i) {\n \n-    void *peer_object = g->group[peer_index].object;\n+            Group_Peer *peer = g->peers + i;\n \n-    if (g->numpeers == 0) {\n-        free(g->group);\n-        g->group = NULL;\n-    } else {\n-        if (g->numpeers != (uint32_t)peer_index) {\n-            memcpy(&g->group[peer_index], &g->group[g->numpeers], sizeof(Group_Peer));\n+            if (peer->friendcon_id == -2 || peer->auto_join || id_equal(g->real_pk, peer->real_pk)) {",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90325839",
            "id": 90325839,
            "line": 568,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkwMzI1ODM5",
            "original_commit_id": "7e753461ac4422053f2563475102ad0f0bade07c",
            "original_line": null,
            "original_position": 785,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": 794,
            "pull_request_review_id": 10843199,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 1,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90325839/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2016-12-01T12:09:17Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90325839",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90325991"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90325991"
                }
            },
            "author_association": "MEMBER",
            "body": "Don't put extern declarations into .c files. These belong in a .h file.",
            "commit_id": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "created_at": "2016-11-30T20:56:45Z",
            "diff_hunk": "@@ -2731,6 +2732,11 @@ static int friends_list_load(Messenger *m, const uint8_t *data, uint32_t length)\n     return num;\n }\n \n+uint32_t saved_conferences_size(const Messenger *m);",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90325991",
            "id": 90325991,
            "line": 2735,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkwMzI1OTkx",
            "original_commit_id": "7e753461ac4422053f2563475102ad0f0bade07c",
            "original_line": null,
            "original_position": 12,
            "original_start_line": null,
            "path": "toxcore/Messenger.c",
            "position": 12,
            "pull_request_review_id": 10843199,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90325991/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2016-12-01T12:09:17Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90325991",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90415413"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90415413"
                }
            },
            "author_association": "MEMBER",
            "body": "Because toxcore can be compiled as 32 and 64 bits. aint (auto int) - just best-for-current-architecture integer. This is just optimization trick. I know, toxcore is not performance-related lib, but this trick can save some bytes of code size.",
            "commit_id": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "created_at": "2016-12-01T10:04:38Z",
            "diff_hunk": "@@ -29,24 +29,80 @@\n \n #include \"util.h\"\n \n-/* return 1 if the groupnumber is not valid.\n- * return 0 if the groupnumber is valid.\n- */\n-static uint8_t groupnumber_not_valid(const Group_Chats *g_c, int groupnumber)\n+typedef ptrdiff_t aint;",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90415413",
            "id": 90415413,
            "in_reply_to_id": 90322124,
            "line": 32,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkwNDE1NDEz",
            "original_commit_id": "7e753461ac4422053f2563475102ad0f0bade07c",
            "original_line": null,
            "original_position": 8,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": 8,
            "pull_request_review_id": 10932537,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90415413/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2016-12-01T12:09:17Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90415413",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
                "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
                "followers_url": "https://api.github.com/users/isotoxin/followers",
                "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
                "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/isotoxin",
                "id": 10449632,
                "login": "isotoxin",
                "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
                "organizations_url": "https://api.github.com/users/isotoxin/orgs",
                "received_events_url": "https://api.github.com/users/isotoxin/received_events",
                "repos_url": "https://api.github.com/users/isotoxin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/isotoxin",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90416170"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90416170"
                }
            },
            "author_association": "MEMBER",
            "body": "Technically, you're right. However, in this case not need to be independent of current lexical environment, because it is not common macros. Well, if it's so important, I will add \"g\" letter to the macro parameters",
            "commit_id": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "created_at": "2016-12-01T10:09:02Z",
            "diff_hunk": "@@ -29,24 +29,80 @@\n \n #include \"util.h\"\n \n-/* return 1 if the groupnumber is not valid.\n- * return 0 if the groupnumber is valid.\n- */\n-static uint8_t groupnumber_not_valid(const Group_Chats *g_c, int groupnumber)\n+typedef ptrdiff_t aint;\n+\n+#define CLOSEST( i ) ((g->closest_peers_entry & (1ull << i)) != 0)",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90416170",
            "id": 90416170,
            "in_reply_to_id": 90325137,
            "line": null,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkwNDE2MTcw",
            "original_commit_id": "7e753461ac4422053f2563475102ad0f0bade07c",
            "original_line": null,
            "original_position": 10,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": null,
            "pull_request_review_id": 10933294,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90416170/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2016-12-01T12:09:17Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90416170",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
                "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
                "followers_url": "https://api.github.com/users/isotoxin/followers",
                "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
                "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/isotoxin",
                "id": 10449632,
                "login": "isotoxin",
                "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
                "organizations_url": "https://api.github.com/users/isotoxin/orgs",
                "received_events_url": "https://api.github.com/users/isotoxin/received_events",
                "repos_url": "https://api.github.com/users/isotoxin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/isotoxin",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90416272"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90416272"
                }
            },
            "author_association": "MEMBER",
            "body": "ok",
            "commit_id": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "created_at": "2016-12-01T10:09:39Z",
            "diff_hunk": "@@ -29,24 +29,80 @@\n \n #include \"util.h\"\n \n-/* return 1 if the groupnumber is not valid.\n- * return 0 if the groupnumber is valid.\n- */\n-static uint8_t groupnumber_not_valid(const Group_Chats *g_c, int groupnumber)\n+typedef ptrdiff_t aint;\n+\n+#define CLOSEST( i ) ((g->closest_peers_entry & (1ull << i)) != 0)\n+#define CLOSESTSET( i ) { g->closest_peers_entry |= (1ull << i); }",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90416272",
            "id": 90416272,
            "in_reply_to_id": 90325223,
            "line": null,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkwNDE2Mjcy",
            "original_commit_id": "7e753461ac4422053f2563475102ad0f0bade07c",
            "original_line": null,
            "original_position": 11,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": null,
            "pull_request_review_id": 10933391,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90416272/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2016-12-01T12:09:17Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90416272",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
                "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
                "followers_url": "https://api.github.com/users/isotoxin/followers",
                "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
                "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/isotoxin",
                "id": 10449632,
                "login": "isotoxin",
                "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
                "organizations_url": "https://api.github.com/users/isotoxin/orgs",
                "received_events_url": "https://api.github.com/users/isotoxin/received_events",
                "repos_url": "https://api.github.com/users/isotoxin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/isotoxin",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90416307"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90416307"
                }
            },
            "author_association": "MEMBER",
            "body": "ok",
            "commit_id": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "created_at": "2016-12-01T10:09:50Z",
            "diff_hunk": "@@ -29,24 +29,80 @@\n \n #include \"util.h\"\n \n-/* return 1 if the groupnumber is not valid.\n- * return 0 if the groupnumber is valid.\n- */\n-static uint8_t groupnumber_not_valid(const Group_Chats *g_c, int groupnumber)\n+typedef ptrdiff_t aint;\n+\n+#define CLOSEST( i ) ((g->closest_peers_entry & (1ull << i)) != 0)\n+#define CLOSESTSET( i ) { g->closest_peers_entry |= (1ull << i); }\n+\n+typedef enum {\n+    UNS_NONE,\n+    UNS_TEMP,\n+    UNS_FOREVER,\n+\n+} Unsubscribe;",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90416307",
            "id": 90416307,
            "in_reply_to_id": 90322158,
            "line": null,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkwNDE2MzA3",
            "original_commit_id": "7e753461ac4422053f2563475102ad0f0bade07c",
            "original_line": null,
            "original_position": 18,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": null,
            "pull_request_review_id": 10933425,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90416307/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2016-12-01T12:09:17Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90416307",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
                "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
                "followers_url": "https://api.github.com/users/isotoxin/followers",
                "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
                "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/isotoxin",
                "id": 10449632,
                "login": "isotoxin",
                "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
                "organizations_url": "https://api.github.com/users/isotoxin/orgs",
                "received_events_url": "https://api.github.com/users/isotoxin/received_events",
                "repos_url": "https://api.github.com/users/isotoxin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/isotoxin",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90416683"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90416683"
                }
            },
            "author_association": "MEMBER",
            "body": "Look to original code. I just moved these macros to one place. Ok, next level is to convert them to enum values.",
            "commit_id": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "created_at": "2016-12-01T10:12:16Z",
            "diff_hunk": "@@ -29,24 +29,80 @@\n \n #include \"util.h\"\n \n-/* return 1 if the groupnumber is not valid.\n- * return 0 if the groupnumber is valid.\n- */\n-static uint8_t groupnumber_not_valid(const Group_Chats *g_c, int groupnumber)\n+typedef ptrdiff_t aint;\n+\n+#define CLOSEST( i ) ((g->closest_peers_entry & (1ull << i)) != 0)\n+#define CLOSESTSET( i ) { g->closest_peers_entry |= (1ull << i); }\n+\n+typedef enum {\n+    UNS_NONE,\n+    UNS_TEMP,\n+    UNS_FOREVER,\n+\n+} Unsubscribe;\n+\n+/* Interval in seconds to send ping messages */\n+#define GROUP_PING_INTERVAL 20\n+\n+#define GROUP_MESSAGE_PING_ID 0\n+#define GROUP_MESSAGE_UNSUBSCRIBE_ID 1\n+#define GROUP_MESSAGE_NICKNAME_ID 2\n+#define GROUP_MESSAGE_NEW_PEER_ID 16\n+#define GROUP_MESSAGE_KILL_PEER_ID 17\n+#define GROUP_MESSAGE_NAME_ID 48\n+#define GROUP_MESSAGE_TITLE_ID 49",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90416683",
            "id": 90416683,
            "in_reply_to_id": 90322291,
            "line": null,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkwNDE2Njgz",
            "original_commit_id": "7e753461ac4422053f2563475102ad0f0bade07c",
            "original_line": null,
            "original_position": 29,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": null,
            "pull_request_review_id": 10933796,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90416683/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2016-12-01T12:09:17Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90416683",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
                "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
                "followers_url": "https://api.github.com/users/isotoxin/followers",
                "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
                "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/isotoxin",
                "id": 10449632,
                "login": "isotoxin",
                "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
                "organizations_url": "https://api.github.com/users/isotoxin/orgs",
                "received_events_url": "https://api.github.com/users/isotoxin/received_events",
                "repos_url": "https://api.github.com/users/isotoxin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/isotoxin",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90419106"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90419106"
                }
            },
            "author_association": "MEMBER",
            "body": "It is save to compare 32/64-bit signed index variable with something 16-bit unsigned, because second op automatically cast to type of first op and full range of 16 bit unsigned can be placed into 32 bit signed without loss of bits. Even \"i\" will be negative, this comparison works correctly and without compiler warnings. Also, no need to force compiler use 16-bit variable for index. Compiler should use whole 32/64 bit register.",
            "commit_id": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "created_at": "2016-12-01T10:26:31Z",
            "diff_hunk": "@@ -73,69 +129,47 @@ static int realloc_groupchats(Group_Chats *g_c, uint32_t num)\n     return 0;\n }\n \n+static void setup_conference(Group_c *g)\n+{\n+    memset(g, 0, sizeof(Group_c));\n+    g->keep_join_index = -1;\n+    g->live = true;\n+}\n \n /* Create a new empty groupchat connection.\n  *\n  * return -1 on failure.\n  * return groupnumber on success.\n  */\n-static int create_group_chat(Group_Chats *g_c)\n+static aint create_group_chat(Group_Chats *g_c)\n {\n-    uint32_t i;\n+    aint i;",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90419106",
            "id": 90419106,
            "in_reply_to_id": 90322967,
            "line": 150,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkwNDE5MTA2",
            "original_commit_id": "7e753461ac4422053f2563475102ad0f0bade07c",
            "original_line": null,
            "original_position": 122,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": 126,
            "pull_request_review_id": 10936325,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90419106/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2016-12-01T12:09:17Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90419106",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
                "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
                "followers_url": "https://api.github.com/users/isotoxin/followers",
                "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
                "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/isotoxin",
                "id": 10449632,
                "login": "isotoxin",
                "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
                "organizations_url": "https://api.github.com/users/isotoxin/orgs",
                "received_events_url": "https://api.github.com/users/isotoxin/received_events",
                "repos_url": "https://api.github.com/users/isotoxin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/isotoxin",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90419334"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90419334"
                }
            },
            "author_association": "MEMBER",
            "body": "Because I do not like addition symbols like &, [, ]",
            "commit_id": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "created_at": "2016-12-01T10:27:49Z",
            "diff_hunk": "@@ -73,69 +129,47 @@ static int realloc_groupchats(Group_Chats *g_c, uint32_t num)\n     return 0;\n }\n \n+static void setup_conference(Group_c *g)\n+{\n+    memset(g, 0, sizeof(Group_c));\n+    g->keep_join_index = -1;\n+    g->live = true;\n+}\n \n /* Create a new empty groupchat connection.\n  *\n  * return -1 on failure.\n  * return groupnumber on success.\n  */\n-static int create_group_chat(Group_Chats *g_c)\n+static aint create_group_chat(Group_Chats *g_c)\n {\n-    uint32_t i;\n+    aint i;\n \n     for (i = 0; i < g_c->num_chats; ++i) {\n-        if (g_c->chats[i].status == GROUPCHAT_STATUS_NONE) {\n+        if (!g_c->chats[i].live) {\n+            setup_conference(g_c->chats + i);\n             return i;\n         }\n     }\n \n-    int id = -1;\n+    aint id = -1;\n \n     if (realloc_groupchats(g_c, g_c->num_chats + 1) == 0) {\n         id = g_c->num_chats;\n         ++g_c->num_chats;\n-        memset(&(g_c->chats[id]), 0, sizeof(Group_c));\n+        setup_conference(g_c->chats + id);\n     }\n \n     return id;\n }\n \n-\n-/* Wipe a groupchat.\n- *\n- * return -1 on failure.\n- * return 0 on success.\n- */\n-static int wipe_group_chat(Group_Chats *g_c, int groupnumber)\n-{\n-    if (groupnumber_not_valid(g_c, groupnumber)) {\n-        return -1;\n-    }\n-\n-    uint32_t i;\n-    sodium_memzero(&(g_c->chats[groupnumber]), sizeof(Group_c));\n-\n-    for (i = g_c->num_chats; i != 0; --i) {\n-        if (g_c->chats[i - 1].status != GROUPCHAT_STATUS_NONE) {\n-            break;\n-        }\n-    }\n-\n-    if (g_c->num_chats != i) {\n-        g_c->num_chats = i;\n-        realloc_groupchats(g_c, g_c->num_chats);\n-    }\n-\n-    return 0;\n-}\n-\n-static Group_c *get_group_c(const Group_Chats *g_c, int groupnumber)\n+static Group_c *get_group_c(const Group_Chats *g_c, aint groupnumber)\n {\n-    if (groupnumber_not_valid(g_c, groupnumber)) {\n-        return 0;\n+    if (!is_groupnumber_valid(g_c, groupnumber)) {\n+        return NULL;\n     }\n \n-    return &g_c->chats[groupnumber];\n+    return g_c->chats + groupnumber;",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90419334",
            "id": 90419334,
            "in_reply_to_id": 90323292,
            "line": 176,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkwNDE5MzM0",
            "original_commit_id": "7e753461ac4422053f2563475102ad0f0bade07c",
            "original_line": null,
            "original_position": 184,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": 188,
            "pull_request_review_id": 10936549,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90419334/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2016-12-01T12:09:17Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90419334",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
                "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
                "followers_url": "https://api.github.com/users/isotoxin/followers",
                "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
                "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/isotoxin",
                "id": 10449632,
                "login": "isotoxin",
                "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
                "organizations_url": "https://api.github.com/users/isotoxin/orgs",
                "received_events_url": "https://api.github.com/users/isotoxin/received_events",
                "repos_url": "https://api.github.com/users/isotoxin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/isotoxin",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90419564"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90419564"
                }
            },
            "author_association": "MEMBER",
            "body": "See first comment. size_t - is 32 or 64 bit. It is just optimization trick.",
            "commit_id": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "created_at": "2016-12-01T10:28:42Z",
            "diff_hunk": "@@ -147,12 +181,12 @@ static Group_c *get_group_c(const Group_Chats *g_c, int groupnumber)\n  * TODO(irungentoo): make this more efficient.\n  */\n \n-static int peer_in_chat(const Group_c *chat, const uint8_t *real_pk)\n+static aint peer_in_chat(const Group_c *chat, const uint8_t *real_pk)\n {\n-    uint32_t i;\n+    size_t i;",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90419564",
            "id": 90419564,
            "in_reply_to_id": 90323545,
            "line": 190,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkwNDE5NTY0",
            "original_commit_id": "7e753461ac4422053f2563475102ad0f0bade07c",
            "original_line": null,
            "original_position": 196,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": 200,
            "pull_request_review_id": 10936776,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90419564/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2016-12-01T12:09:17Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90419564",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
                "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
                "followers_url": "https://api.github.com/users/isotoxin/followers",
                "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
                "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/isotoxin",
                "id": 10449632,
                "login": "isotoxin",
                "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
                "organizations_url": "https://api.github.com/users/isotoxin/orgs",
                "received_events_url": "https://api.github.com/users/isotoxin/received_events",
                "repos_url": "https://api.github.com/users/isotoxin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/isotoxin",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90420689"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90420689"
                }
            },
            "author_association": "MEMBER",
            "body": "friendcon_id < 0 means peer not connected. Also -2 means this peer almost deleted. Did you see delpeer function?\r\nOk, I will make a constant. But I do not see the point, because it only one special value.",
            "commit_id": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "created_at": "2016-12-01T10:35:05Z",
            "diff_hunk": "@@ -147,12 +181,12 @@ static Group_c *get_group_c(const Group_Chats *g_c, int groupnumber)\n  * TODO(irungentoo): make this more efficient.\n  */\n \n-static int peer_in_chat(const Group_c *chat, const uint8_t *real_pk)\n+static aint peer_in_chat(const Group_c *chat, const uint8_t *real_pk)\n {\n-    uint32_t i;\n+    size_t i;\n \n     for (i = 0; i < chat->numpeers; ++i) {\n-        if (id_equal(chat->group[i].real_pk, real_pk)) {\n+        if (chat->peers[i].friendcon_id != -2 && id_equal(chat->peers[i].real_pk, real_pk)) {",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90420689",
            "id": 90420689,
            "in_reply_to_id": 90323419,
            "line": 193,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkwNDIwNjg5",
            "original_commit_id": "7e753461ac4422053f2563475102ad0f0bade07c",
            "original_line": null,
            "original_position": 200,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": 204,
            "pull_request_review_id": 10937867,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90420689/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2016-12-01T12:09:17Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90420689",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
                "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
                "followers_url": "https://api.github.com/users/isotoxin/followers",
                "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
                "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/isotoxin",
                "id": 10449632,
                "login": "isotoxin",
                "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
                "organizations_url": "https://api.github.com/users/isotoxin/orgs",
                "received_events_url": "https://api.github.com/users/isotoxin/received_events",
                "repos_url": "https://api.github.com/users/isotoxin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/isotoxin",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90420908"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90420908"
                }
            },
            "author_association": "MEMBER",
            "body": "Why astyle wasn't remove it?",
            "commit_id": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "created_at": "2016-12-01T10:36:35Z",
            "diff_hunk": "@@ -170,15 +204,34 @@ static int peer_in_chat(const Group_c *chat, const uint8_t *real_pk)\n  */\n static int get_group_num(const Group_Chats *g_c, const uint8_t *identifier)\n {\n-    uint32_t i;\n+    aint i;\n \n     for (i = 0; i < g_c->num_chats; ++i) {\n-        if (sodium_memcmp(g_c->chats[i].identifier, identifier, GROUP_IDENTIFIER_LENGTH) == 0) {\n-            return i;\n+        if (g_c->chats[i].live && sodium_memcmp(g_c->chats[i].identifier, identifier, GROUP_IDENTIFIER_LENGTH) == 0) {\n+            return (int)i;\n+        }\n+    }\n+\n+    return -1;\n+}\n+\n+int conference_by_uid(const Group_Chats *g_c, const uint8_t *uid)\n+{\n+    aint i;\n+\n+    for (i = 0; i < g_c->num_chats; ++i) {\n+",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90420908",
            "id": 90420908,
            "in_reply_to_id": 90323635,
            "line": null,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkwNDIwOTA4",
            "original_commit_id": "7e753461ac4422053f2563475102ad0f0bade07c",
            "original_line": null,
            "original_position": 227,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": null,
            "pull_request_review_id": 10938079,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90420908/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2016-12-01T12:09:17Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90420908",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
                "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
                "followers_url": "https://api.github.com/users/isotoxin/followers",
                "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
                "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/isotoxin",
                "id": 10449632,
                "login": "isotoxin",
                "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
                "organizations_url": "https://api.github.com/users/isotoxin/orgs",
                "received_events_url": "https://api.github.com/users/isotoxin/received_events",
                "repos_url": "https://api.github.com/users/isotoxin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/isotoxin",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90423016"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90423016"
                }
            },
            "author_association": "MEMBER",
            "body": "Do you understand, what this code do? Do you understand, how gid's are computed?\r\nOk, I'll try to explain. gid (or peer_num in old code) is just unique 16 bit identifier of peer in current groupchat. For compatibility reason, algorithm of gid generation wasn't changed. And it was just random value for every just joined peer. It was normal for old groupchats, because there is low probability of collision. But this groupchats allow to join one cloud of peers to another cloud of peers, so probability of gid collision is high. There some techniques to reslove collision.\r\nSo, what about 32 tries and linear search of free gid number. It is just improvement of old algorithm. Think, what happens when number of peers is about to maximum (64k)? Right, 32 tries to find free gid value can be not enough. And linear search is last chance remedy to find it. Now, do you understand your suggestion to search from current random numbers is wrong?",
            "commit_id": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "created_at": "2016-12-01T10:49:42Z",
            "diff_hunk": "@@ -187,27 +240,51 @@ static int get_group_num(const Group_Chats *g_c, const uint8_t *identifier)\n  * return peer number if peer is in chat.\n  * return -1 if peer is not in chat.\n  *\n- * TODO(irungentoo): make this more efficient.\n  */\n-static int get_peer_index(Group_c *g, uint16_t peer_number)\n+static aint get_peer_index(const Group_c *g, uint16_t peer_gid)\n {\n-    uint32_t i;\n+    aint i;\n \n     for (i = 0; i < g->numpeers; ++i) {\n-        if (g->group[i].peer_number == peer_number) {\n+        if (g->peers[i].gid == (int)peer_gid) {\n             return i;\n         }\n     }\n \n     return -1;\n }\n \n+static uint16_t find_new_peer_gid(const Group_c *g)\n+{\n+    uint16_t peer_number;\n+    randombytes((uint8_t *)&peer_number, 2);\n+\n+    size_t tries = 0;\n+\n+    while (get_peer_index(g, peer_number) != -1) {\n+        randombytes((uint8_t *)&peer_number, 2);\n+        ++tries;\n+\n+        if (tries > 32) {\n+            /* just find first unused peer number */\n+            peer_number = 0;",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90423016",
            "id": 90423016,
            "in_reply_to_id": 90324766,
            "line": 273,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkwNDIzMDE2",
            "original_commit_id": "7e753461ac4422053f2563475102ad0f0bade07c",
            "original_line": null,
            "original_position": 277,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": 280,
            "pull_request_review_id": 10940215,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90423016/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2016-12-01T12:09:17Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90423016",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
                "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
                "followers_url": "https://api.github.com/users/isotoxin/followers",
                "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
                "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/isotoxin",
                "id": 10449632,
                "login": "isotoxin",
                "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
                "organizations_url": "https://api.github.com/users/isotoxin/orgs",
                "received_events_url": "https://api.github.com/users/isotoxin/received_events",
                "repos_url": "https://api.github.com/users/isotoxin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/isotoxin",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90423760"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90423760"
                }
            },
            "author_association": "MEMBER",
            "body": "Logical pieces are separated by comments. I can add more comments for you",
            "commit_id": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "created_at": "2016-12-01T10:54:07Z",
            "diff_hunk": "@@ -217,661 +294,1009 @@ static uint64_t calculate_comp_value(const uint8_t *pk1, const uint8_t *pk2)\n     return (cmp1 - cmp2);\n }\n \n-enum {\n-    GROUPCHAT_CLOSEST_NONE,\n-    GROUPCHAT_CLOSEST_ADDED,\n-    GROUPCHAT_CLOSEST_REMOVED\n-};\n+static void add_closest(Group_c *g, size_t peerindex)\n+{\n+    size_t i;\n \n-static int friend_in_close(Group_c *g, int friendcon_id);\n-static int add_conn_to_groupchat(Group_Chats *g_c, int friendcon_id, int groupnumber, uint8_t closest, uint8_t lock);\n+    for (i = 0; i < DESIRED_CLOSE_CONNECTIONS; ++i) {\n \n-static int add_to_closest(Group_Chats *g_c, int groupnumber, const uint8_t *real_pk, const uint8_t *temp_pk)\n-{\n-    Group_c *g = get_group_c(g_c, groupnumber);\n+        if (!CLOSEST(i)) {\n \n-    if (!g) {\n-        return -1;\n+            g->closest_peers[i] = (uint16_t)peerindex;\n+            CLOSESTSET(i);\n+            return;\n+        }\n     }\n \n-    if (public_key_cmp(g->real_pk, real_pk) == 0) {\n-        return -1;\n-    }\n+    size_t index = DESIRED_CLOSE_CONNECTIONS;\n \n-    unsigned int i;\n-    unsigned int index = DESIRED_CLOSE_CONNECTIONS;\n+    const uint8_t *real_pk = g->peers[peerindex].real_pk;\n+    uint64_t comp_val = calculate_comp_value(g->real_pk, real_pk);\n+    uint64_t comp_d = 0;\n \n-    for (i = 0; i < DESIRED_CLOSE_CONNECTIONS; ++i) {\n-        if (g->closest_peers[i].entry && public_key_cmp(real_pk, g->closest_peers[i].real_pk) == 0) {\n-            return 0;\n-        }\n-    }\n+    for (i = 0; i < (DESIRED_CLOSE_CONNECTIONS / 2); ++i) {\n \n-    for (i = 0; i < DESIRED_CLOSE_CONNECTIONS; ++i) {\n-        if (g->closest_peers[i].entry == 0) {\n+        uint64_t comp;\n+        comp = calculate_comp_value(g->real_pk, g->peers[g->closest_peers[i]].real_pk);\n+\n+        if (comp > comp_val && comp > comp_d) {\n             index = i;\n-            break;\n+            comp_d = comp;\n         }\n     }\n \n-    if (index == DESIRED_CLOSE_CONNECTIONS) {\n-        uint64_t comp_val = calculate_comp_value(g->real_pk, real_pk);\n-        uint64_t comp_d = 0;\n-\n-        for (i = 0; i < (DESIRED_CLOSE_CONNECTIONS / 2); ++i) {\n-            uint64_t comp;\n-            comp = calculate_comp_value(g->real_pk, g->closest_peers[i].real_pk);\n+    comp_val = calculate_comp_value(real_pk, g->real_pk);\n \n-            if (comp > comp_val && comp > comp_d) {\n-                index = i;\n-                comp_d = comp;\n-            }\n-        }\n+    for (i = (DESIRED_CLOSE_CONNECTIONS / 2); i < DESIRED_CLOSE_CONNECTIONS; ++i) {\n \n-        comp_val = calculate_comp_value(real_pk, g->real_pk);\n+        uint64_t comp = calculate_comp_value(g->peers[g->closest_peers[i]].real_pk, g->real_pk);\n \n-        for (i = (DESIRED_CLOSE_CONNECTIONS / 2); i < DESIRED_CLOSE_CONNECTIONS; ++i) {\n-            uint64_t comp = calculate_comp_value(g->closest_peers[i].real_pk, g->real_pk);\n-\n-            if (comp > comp_val && comp > comp_d) {\n-                index = i;\n-                comp_d = comp;\n-            }\n+        if (comp > comp_val && comp > comp_d) {\n+            index = i;\n+            comp_d = comp;\n         }\n     }\n \n-    if (index == DESIRED_CLOSE_CONNECTIONS) {\n-        return -1;\n-    }\n-\n-    uint8_t old_real_pk[crypto_box_PUBLICKEYBYTES];\n-    uint8_t old_temp_pk[crypto_box_PUBLICKEYBYTES];\n-    uint8_t old = 0;\n+    if (index < DESIRED_CLOSE_CONNECTIONS) {\n+        aint rmpeer = g->closest_peers[index];\n+        g->closest_peers[index] = (uint16_t)peerindex;\n+        g->closest_peers_entry |= 1 << index;\n \n-    if (g->closest_peers[index].entry) {\n-        memcpy(old_real_pk, g->closest_peers[index].real_pk, crypto_box_PUBLICKEYBYTES);\n-        memcpy(old_temp_pk, g->closest_peers[index].temp_pk, crypto_box_PUBLICKEYBYTES);\n-        old = 1;\n+        add_closest(g, rmpeer);\n     }\n+}\n \n-    g->closest_peers[index].entry = 1;\n-    memcpy(g->closest_peers[index].real_pk, real_pk, crypto_box_PUBLICKEYBYTES);\n-    memcpy(g->closest_peers[index].temp_pk, temp_pk, crypto_box_PUBLICKEYBYTES);\n-\n-    if (old) {\n-        add_to_closest(g_c, groupnumber, old_real_pk, old_temp_pk);\n+static int handle_status(void *object, int friendcon_id, uint8_t status, void *userdata)\n+{\n+    if (status) {\n+        return 0;\n     }\n \n-    if (!g->changed) {\n-        g->changed = GROUPCHAT_CLOSEST_ADDED;\n-    }\n+    size_t ig, i;\n+    Group_Chats *g_c = (Group_Chats *)object;\n \n-    return 0;\n-}\n+    for (ig = 0; ig < g_c->num_chats; ++ig) {\n \n-static unsigned int pk_in_closest_peers(Group_c *g, uint8_t *real_pk)\n-{\n-    unsigned int i;\n+        Group_c *g = get_group_c(g_c, ig);\n \n-    for (i = 0; i < DESIRED_CLOSE_CONNECTIONS; ++i) {\n-        if (!g->closest_peers[i].entry) {\n+        if (!g) {\n             continue;\n         }\n \n-        if (public_key_cmp(g->closest_peers[i].real_pk, real_pk) == 0) {\n-            return 1;\n+        for (i = 0; i < g->numpeers; ++i) {\n+\n+            if (g->peers[i].friendcon_id == friendcon_id) {\n+                g->peers[i].friendcon_id = -1;\n+                g->peers[i].group_number = 0xffff;\n+                g->peers[i].connected = false;\n+            }\n         }\n     }\n \n     return 0;\n }\n \n-static int send_packet_online(Friend_Connections *fr_c, int friendcon_id, uint16_t group_num, uint8_t *identifier);\n-\n-static int connect_to_closest(Group_Chats *g_c, int groupnumber, void *userdata)\n+static void apply_changes_in_peers(Group_Chats *g_c, aint groupnumber, void *userdata)",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90423760",
            "id": 90423760,
            "in_reply_to_id": 90325686,
            "line": 382,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkwNDIzNzYw",
            "original_commit_id": "7e753461ac4422053f2563475102ad0f0bade07c",
            "original_line": null,
            "original_position": 462,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": 465,
            "pull_request_review_id": 10940926,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90423760/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2016-12-01T12:09:17Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90423760",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
                "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
                "followers_url": "https://api.github.com/users/isotoxin/followers",
                "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
                "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/isotoxin",
                "id": 10449632,
                "login": "isotoxin",
                "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
                "organizations_url": "https://api.github.com/users/isotoxin/orgs",
                "received_events_url": "https://api.github.com/users/isotoxin/received_events",
                "repos_url": "https://api.github.com/users/isotoxin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/isotoxin",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90424074"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90424074"
                }
            },
            "author_association": "MEMBER",
            "body": "Just see to code that uses this array and you will understand, that your suggestion is inapplicable",
            "commit_id": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "created_at": "2016-12-01T10:55:50Z",
            "diff_hunk": "@@ -28,104 +28,134 @@\n #include \"Messenger.h\"\n \n enum {\n-    GROUPCHAT_STATUS_NONE,\n-    GROUPCHAT_STATUS_VALID,\n-    GROUPCHAT_STATUS_CONNECTED\n-};\n-\n-enum {\n     GROUPCHAT_TYPE_TEXT,\n     GROUPCHAT_TYPE_AV\n };\n \n #define MAX_LOSSY_COUNT 256\n \n typedef struct {\n+\n+    uint8_t     recv_lossy[MAX_LOSSY_COUNT];\n+    uint16_t    bottom_lossy_number, top_lossy_number;\n+\n+} Group_Peer_Lossy;\n+\n+typedef struct {\n     uint8_t     real_pk[crypto_box_PUBLICKEYBYTES];\n     uint8_t     temp_pk[crypto_box_PUBLICKEYBYTES];\n \n+    Group_Peer_Lossy *lossy; /* rare use */\n+    void *object;\n+\n     uint64_t    last_recv;\n-    uint32_t    last_message_number;\n \n-    uint8_t     nick[MAX_NAME_LENGTH];\n-    uint8_t     nick_len;\n+    uint8_t     *nick;\n \n-    uint16_t peer_number;\n+    uint32_t    last_message_number[9]; /* 9 - number of group messages */",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90424074",
            "id": 90424074,
            "in_reply_to_id": 90323965,
            "line": 55,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkwNDI0MDc0",
            "original_commit_id": "7e753461ac4422053f2563475102ad0f0bade07c",
            "original_line": null,
            "original_position": 38,
            "original_start_line": null,
            "path": "toxcore/group.h",
            "position": 38,
            "pull_request_review_id": 10941226,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90424074/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2016-12-01T12:09:17Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90424074",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
                "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
                "followers_url": "https://api.github.com/users/isotoxin/followers",
                "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
                "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/isotoxin",
                "id": 10449632,
                "login": "isotoxin",
                "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
                "organizations_url": "https://api.github.com/users/isotoxin/orgs",
                "received_events_url": "https://api.github.com/users/isotoxin/received_events",
                "repos_url": "https://api.github.com/users/isotoxin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/isotoxin",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90424697"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90424697"
                }
            },
            "author_association": "MEMBER",
            "body": "gid is 16 bit unsigned, it is right. There are meaningful values [0..65535]. But I need addition one, -1, to indicate gid is not set. So 17 bits will be enough, but do not forget about bit alignments. You can believe: 24 bits - better.",
            "commit_id": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "created_at": "2016-12-01T10:59:33Z",
            "diff_hunk": "@@ -28,104 +28,134 @@\n #include \"Messenger.h\"\n \n enum {\n-    GROUPCHAT_STATUS_NONE,\n-    GROUPCHAT_STATUS_VALID,\n-    GROUPCHAT_STATUS_CONNECTED\n-};\n-\n-enum {\n     GROUPCHAT_TYPE_TEXT,\n     GROUPCHAT_TYPE_AV\n };\n \n #define MAX_LOSSY_COUNT 256\n \n typedef struct {\n+\n+    uint8_t     recv_lossy[MAX_LOSSY_COUNT];\n+    uint16_t    bottom_lossy_number, top_lossy_number;\n+\n+} Group_Peer_Lossy;\n+\n+typedef struct {\n     uint8_t     real_pk[crypto_box_PUBLICKEYBYTES];\n     uint8_t     temp_pk[crypto_box_PUBLICKEYBYTES];\n \n+    Group_Peer_Lossy *lossy; /* rare use */\n+    void *object;\n+\n     uint64_t    last_recv;\n-    uint32_t    last_message_number;\n \n-    uint8_t     nick[MAX_NAME_LENGTH];\n-    uint8_t     nick_len;\n+    uint8_t     *nick;\n \n-    uint16_t peer_number;\n+    uint32_t    last_message_number[9]; /* 9 - number of group messages */\n+    int         friendcon_id;\n \n-    uint8_t  recv_lossy[MAX_LOSSY_COUNT];\n-    uint16_t bottom_lossy_number, top_lossy_number;\n+    signed      gid : 24; /* unique per-conference peer id */",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90424697",
            "id": 90424697,
            "in_reply_to_id": 90323881,
            "line": 58,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkwNDI0Njk3",
            "original_commit_id": "7e753461ac4422053f2563475102ad0f0bade07c",
            "original_line": null,
            "original_position": 43,
            "original_start_line": null,
            "path": "toxcore/group.h",
            "position": 43,
            "pull_request_review_id": 10941884,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90424697/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2016-12-01T12:09:17Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90424697",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
                "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
                "followers_url": "https://api.github.com/users/isotoxin/followers",
                "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
                "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/isotoxin",
                "id": 10449632,
                "login": "isotoxin",
                "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
                "organizations_url": "https://api.github.com/users/isotoxin/orgs",
                "received_events_url": "https://api.github.com/users/isotoxin/received_events",
                "repos_url": "https://api.github.com/users/isotoxin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/isotoxin",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90425604"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90425604"
                }
            },
            "author_association": "MEMBER",
            "body": "Tell me, what .h file? group.h? Nope. Messenger.c do not include group.h. Messenger.h? Nope. These functions defined in group.c and you will be first who will told me about my mistake. So, what .h file?\r\n",
            "commit_id": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "created_at": "2016-12-01T11:06:06Z",
            "diff_hunk": "@@ -2731,6 +2732,11 @@ static int friends_list_load(Messenger *m, const uint8_t *data, uint32_t length)\n     return num;\n }\n \n+uint32_t saved_conferences_size(const Messenger *m);",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90425604",
            "id": 90425604,
            "in_reply_to_id": 90325991,
            "line": 2735,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkwNDI1NjA0",
            "original_commit_id": "7e753461ac4422053f2563475102ad0f0bade07c",
            "original_line": null,
            "original_position": 12,
            "original_start_line": null,
            "path": "toxcore/Messenger.c",
            "position": 12,
            "pull_request_review_id": 10942856,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90425604/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2016-12-01T12:09:17Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90425604",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
                "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
                "followers_url": "https://api.github.com/users/isotoxin/followers",
                "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
                "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/isotoxin",
                "id": 10449632,
                "login": "isotoxin",
                "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
                "organizations_url": "https://api.github.com/users/isotoxin/orgs",
                "received_events_url": "https://api.github.com/users/isotoxin/received_events",
                "repos_url": "https://api.github.com/users/isotoxin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/isotoxin",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90435906"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90435906"
                }
            },
            "author_association": "MEMBER",
            "body": "If you think this optimization is absolutely necessary, I'd prefer if you used the C99 type  `int_fast32_t` intended to make this optimization, else just use `int32_t`.",
            "commit_id": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "created_at": "2016-12-01T12:19:20Z",
            "diff_hunk": "@@ -29,24 +29,80 @@\n \n #include \"util.h\"\n \n-/* return 1 if the groupnumber is not valid.\n- * return 0 if the groupnumber is valid.\n- */\n-static uint8_t groupnumber_not_valid(const Group_Chats *g_c, int groupnumber)\n+typedef ptrdiff_t aint;",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90435906",
            "id": 90435906,
            "in_reply_to_id": 90322124,
            "line": 32,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkwNDM1OTA2",
            "original_commit_id": "7e753461ac4422053f2563475102ad0f0bade07c",
            "original_line": null,
            "original_position": 8,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": 8,
            "pull_request_review_id": 10953561,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90435906/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2016-12-01T12:19:20Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90435906",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5585762?v=4",
                "events_url": "https://api.github.com/users/sudden6/events{/privacy}",
                "followers_url": "https://api.github.com/users/sudden6/followers",
                "following_url": "https://api.github.com/users/sudden6/following{/other_user}",
                "gists_url": "https://api.github.com/users/sudden6/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/sudden6",
                "id": 5585762,
                "login": "sudden6",
                "node_id": "MDQ6VXNlcjU1ODU3NjI=",
                "organizations_url": "https://api.github.com/users/sudden6/orgs",
                "received_events_url": "https://api.github.com/users/sudden6/received_events",
                "repos_url": "https://api.github.com/users/sudden6/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/sudden6/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/sudden6/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/sudden6",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90435936"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90435936"
                }
            },
            "author_association": "MEMBER",
            "body": "again, for optimization it's better to use the C99 types intended for this.",
            "commit_id": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "created_at": "2016-12-01T12:19:31Z",
            "diff_hunk": "@@ -147,12 +181,12 @@ static Group_c *get_group_c(const Group_Chats *g_c, int groupnumber)\n  * TODO(irungentoo): make this more efficient.\n  */\n \n-static int peer_in_chat(const Group_c *chat, const uint8_t *real_pk)\n+static aint peer_in_chat(const Group_c *chat, const uint8_t *real_pk)\n {\n-    uint32_t i;\n+    size_t i;",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#discussion_r90435936",
            "id": 90435936,
            "in_reply_to_id": 90323545,
            "line": 190,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkwNDM1OTM2",
            "original_commit_id": "7e753461ac4422053f2563475102ad0f0bade07c",
            "original_line": null,
            "original_position": 196,
            "original_start_line": null,
            "path": "toxcore/group.c",
            "position": 200,
            "pull_request_review_id": 10953592,
            "pull_request_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90435936/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2016-12-01T12:19:31Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments/90435936",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5585762?v=4",
                "events_url": "https://api.github.com/users/sudden6/events{/privacy}",
                "followers_url": "https://api.github.com/users/sudden6/followers",
                "following_url": "https://api.github.com/users/sudden6/following{/other_user}",
                "gists_url": "https://api.github.com/users/sudden6/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/sudden6",
                "id": 5585762,
                "login": "sudden6",
                "node_id": "MDQ6VXNlcjU1ODU3NjI=",
                "organizations_url": "https://api.github.com/users/sudden6/orgs",
                "received_events_url": "https://api.github.com/users/sudden6/received_events",
                "repos_url": "https://api.github.com/users/sudden6/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/sudden6/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/sudden6/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/sudden6",
                "user_view_type": "public"
            }
        }
    ],
    "comment_regular_data": [
        {
            "author_association": "MEMBER",
            "body": "@isotoxin As pointed out by @iphydf on the #toktok chan, reviewing a 3000 lines diff will be hard and long. Maybe you'd be better opening 1 pull-request per bullet-point, would make it easier to review and merge rapidly ;)\n",
            "created_at": "2016-11-11T14:36:48Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#issuecomment-259969983",
            "id": 259969983,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/263",
            "node_id": "MDEyOklzc3VlQ29tbWVudDI1OTk2OTk4Mw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/259969983/reactions"
            },
            "updated_at": "2016-11-11T14:37:05Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/259969983",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8523159?v=4",
                "events_url": "https://api.github.com/users/SkyzohKey/events{/privacy}",
                "followers_url": "https://api.github.com/users/SkyzohKey/followers",
                "following_url": "https://api.github.com/users/SkyzohKey/following{/other_user}",
                "gists_url": "https://api.github.com/users/SkyzohKey/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/SkyzohKey",
                "id": 8523159,
                "login": "SkyzohKey",
                "node_id": "MDQ6VXNlcjg1MjMxNTk=",
                "organizations_url": "https://api.github.com/users/SkyzohKey/orgs",
                "received_events_url": "https://api.github.com/users/SkyzohKey/received_events",
                "repos_url": "https://api.github.com/users/SkyzohKey/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/SkyzohKey/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/SkyzohKey/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/SkyzohKey",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "From Travis Builds:\n\n```\nc-toxcore/toxcore/group.c:551:18: error: unused variable 'comp_d' [-Werror,-Wunused-variable]\nuint64_t comp_d = 0;\n\nc-toxcore/toxcore/group.c:909:10: error: unused variable 'index' [-Werror,-Wunused-variable]\naint index = -1;\n\nc-toxcore/toxcore/group.c:551:18: error: unused variable 'comp_d' [-Werror,-Wunused-variable]\nuint64_t comp_d = 0;\n\nc-toxcore/toxcore/group.c:909:10: error: unused variable 'index' [-Werror,-Wunused-variable]\naint index = -1;\n\nc-toxcore/toxcore/group.c:2940:18: error: unused variable 'peer_index' [-Werror,-Wunused-variable]\naint peer_index = addpeer(g, groupnumber, real_pk, temp_pk, new_peer_gid);\n```\n\n@isotoxin If they are unused, shouldn't them only be deleted ? Anyway this is required for the travis check to pass.\n",
            "created_at": "2016-11-11T14:55:10Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#issuecomment-259973930",
            "id": 259973930,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/263",
            "node_id": "MDEyOklzc3VlQ29tbWVudDI1OTk3MzkzMA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/259973930/reactions"
            },
            "updated_at": "2016-11-11T14:55:10Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/259973930",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8523159?v=4",
                "events_url": "https://api.github.com/users/SkyzohKey/events{/privacy}",
                "followers_url": "https://api.github.com/users/SkyzohKey/followers",
                "following_url": "https://api.github.com/users/SkyzohKey/following{/other_user}",
                "gists_url": "https://api.github.com/users/SkyzohKey/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/SkyzohKey",
                "id": 8523159,
                "login": "SkyzohKey",
                "node_id": "MDQ6VXNlcjg1MjMxNTk=",
                "organizations_url": "https://api.github.com/users/SkyzohKey/orgs",
                "received_events_url": "https://api.github.com/users/SkyzohKey/received_events",
                "repos_url": "https://api.github.com/users/SkyzohKey/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/SkyzohKey/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/SkyzohKey/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/SkyzohKey",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "So, I just rewrite whole group chats code. I cant split it to small pieces because it works only as organic whole. Of cource, you should understand how old groupchats works, to fully and adequately review this code. As I understand I am currently the only person who understands how old groupchats works (Irg can no longer be taken into account). So, it mean this PR will never be approved. Ok, I created PR and my conscience is clear.\nNew Isotoxin just released. You can test how upgraded groupchats work.\n",
            "created_at": "2016-11-11T15:29:58Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#issuecomment-259982038",
            "id": 259982038,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/263",
            "node_id": "MDEyOklzc3VlQ29tbWVudDI1OTk4MjAzOA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/259982038/reactions"
            },
            "updated_at": "2016-11-11T15:29:58Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/259982038",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
                "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
                "followers_url": "https://api.github.com/users/isotoxin/followers",
                "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
                "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/isotoxin",
                "id": 10449632,
                "login": "isotoxin",
                "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
                "organizations_url": "https://api.github.com/users/isotoxin/orgs",
                "received_events_url": "https://api.github.com/users/isotoxin/received_events",
                "repos_url": "https://api.github.com/users/isotoxin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/isotoxin",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "_I'm sorry for off topic_\n\n> So, it mean this PR will never be approved. Ok, I created PR and my conscience is clear.\n\nThere is no need to be that angry and pessimistic. People won't treat you nice when you tell them \"I'm clever, you all are stupid, my work is done here\".\n",
            "created_at": "2016-11-11T15:35:34Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#issuecomment-259983354",
            "id": 259983354,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/263",
            "node_id": "MDEyOklzc3VlQ29tbWVudDI1OTk4MzM1NA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/259983354/reactions"
            },
            "updated_at": "2016-11-11T15:35:34Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/259983354",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1132979?v=4",
                "events_url": "https://api.github.com/users/dvor/events{/privacy}",
                "followers_url": "https://api.github.com/users/dvor/followers",
                "following_url": "https://api.github.com/users/dvor/following{/other_user}",
                "gists_url": "https://api.github.com/users/dvor/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dvor",
                "id": 1132979,
                "login": "dvor",
                "node_id": "MDQ6VXNlcjExMzI5Nzk=",
                "organizations_url": "https://api.github.com/users/dvor/orgs",
                "received_events_url": "https://api.github.com/users/dvor/received_events",
                "repos_url": "https://api.github.com/users/dvor/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dvor/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dvor/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dvor",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "@isotoxin I was just pointing that reviewing a 3000 lines diff is hard/long, I'm sorry if you were offended, that wasn't my goal.\n\nAnyway I'm sure this will end merged once review is done, but you know developing FOSS is a community work and if you are working without accepting criticism and advice I'm sure people won't be willing to help.\n- Flame war isn't really needed if we want Toxcore to dominate the world a time, let's works together instead of shooting ourselves the legs.\n",
            "created_at": "2016-11-11T15:41:45Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#issuecomment-259984789",
            "id": 259984789,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/263",
            "node_id": "MDEyOklzc3VlQ29tbWVudDI1OTk4NDc4OQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/259984789/reactions"
            },
            "updated_at": "2016-11-11T15:41:45Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/259984789",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8523159?v=4",
                "events_url": "https://api.github.com/users/SkyzohKey/events{/privacy}",
                "followers_url": "https://api.github.com/users/SkyzohKey/followers",
                "following_url": "https://api.github.com/users/SkyzohKey/following{/other_user}",
                "gists_url": "https://api.github.com/users/SkyzohKey/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/SkyzohKey",
                "id": 8523159,
                "login": "SkyzohKey",
                "node_id": "MDQ6VXNlcjg1MjMxNTk=",
                "organizations_url": "https://api.github.com/users/SkyzohKey/orgs",
                "received_events_url": "https://api.github.com/users/SkyzohKey/received_events",
                "repos_url": "https://api.github.com/users/SkyzohKey/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/SkyzohKey/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/SkyzohKey/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/SkyzohKey",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I apologize if my answer seemed rude. And I'm open for criticism and advice. I received lot of criticism and advice about Isotoxin and I accept everything. I just don't want to do something that I can't understand why I should it do. Anyway, if you have questions about my code (why I done it that way or something like), you can always ask me, and I will answer. Also I ready to fix this code, if you found bugs or you think how to make it better. But don't tell me about tests. I will not write or modify any tests. Sorry.\n",
            "created_at": "2016-11-11T16:29:06Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#issuecomment-259995884",
            "id": 259995884,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/263",
            "node_id": "MDEyOklzc3VlQ29tbWVudDI1OTk5NTg4NA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 4,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 4,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/259995884/reactions"
            },
            "updated_at": "2016-11-11T16:29:06Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/259995884",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
                "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
                "followers_url": "https://api.github.com/users/isotoxin/followers",
                "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
                "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/isotoxin",
                "id": 10449632,
                "login": "isotoxin",
                "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
                "organizations_url": "https://api.github.com/users/isotoxin/orgs",
                "received_events_url": "https://api.github.com/users/isotoxin/received_events",
                "repos_url": "https://api.github.com/users/isotoxin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/isotoxin",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Reviewed 9 of 10 files at r1.\nReview status: 9 of 10 files reviewed at latest revision, 14 unresolved discussions, some commit checks failed.\n\n---\n\n_[toxav/groupav.c, line 494 at r2](https://reviewable.io:443/reviews/toktok/c-toxcore/263#-KWKJ2puYlZrHDkiTDue:-KWKJ2puYlZrHDkiTDuf:b-u1m7vy) ([raw file](https://github.com/toktok/c-toxcore/blob/3990406fc7f2f0a45432903c29ddcd9ea6f16f05/toxav/groupav.c#L494)):_\n\n> ``` C\n>     if (groupchat_enable_av(log, g_c, groupnumber, audio_callback, userdata) == -1) {\n>         del_groupchat(g_c, groupnumber);\n>         return -10;\n> ```\n\nThe documentation said -1 .. -6. Perhaps make this -7 and document what it means.\n\n---\n\n_[toxav/groupav.c, line 514 at r2](https://reviewable.io:443/reviews/toktok/c-toxcore/263#-KWKJJJ6je2Tz6PjgO8N:-KWKJJJ6je2Tz6PjgO8O:b-qdnulg) ([raw file](https://github.com/toktok/c-toxcore/blob/3990406fc7f2f0a45432903c29ddcd9ea6f16f05/toxav/groupav.c#L514)):_\n\n> ``` C\n>     uint8_t data[MAX_CRYPTO_DATA_SIZE]; // according to caller, length is maximum 1024 bytes (see group_send_audio)\n>     data[0] = GROUP_AUDIO_PACKET_ID;\n>     size_t plen = 1 + sizeof(uint16_t) + length;\n> ```\n\nAdd an `assert` to check that this length doesn't exceed the data buffer size. Even if you can statically argue that it can't happen, future code changes could make it happen and then an assertion failure is better than undefined behaviour.\n\n---\n\n_[toxav/groupav.c, line 520 at r2](https://reviewable.io:443/reviews/toktok/c-toxcore/263#-KWKJcEocyqqGsSaaMcc:-KWKJcEocyqqGsSaaMcd:b3i5vsw) ([raw file](https://github.com/toktok/c-toxcore/blob/3990406fc7f2f0a45432903c29ddcd9ea6f16f05/toxav/groupav.c#L520)):_\n\n> ``` C\n>     memcpy(data + 1 + sizeof(sequnum), packet, length);\n> \n>     if (send_group_lossy_packet(g_c, groupnumber, data, (uint16_t)plen) == -1) {\n> ```\n\nWhy the explicit cast?\n\n---\n\n_[toxcore/group.h, line 191 at r2](https://reviewable.io:443/reviews/toktok/c-toxcore/263#-KWKLIUSlE8MrlhMPr36:-KWKLIUTxDVmn936XgjO:b-kqz4uk) ([raw file](https://github.com/toktok/c-toxcore/blob/3990406fc7f2f0a45432903c29ddcd9ea6f16f05/toxcore/group.h#L191)):_\n\n> ``` objc\n> enum {\n>     CHAT_CHANGE_OCCURRED,\n>     __UNUSED__CHAT_CHANGE_PEER_DEL,\n> ```\n\nThis identifier is reserved in ISO C (7.1.3p1).\n\n---\n\n_[toxcore/Messenger.c, line 2628 at r2](https://reviewable.io:443/reviews/toktok/c-toxcore/263#-KWKLvjaIUkZcnVc8BTw:-KWKLvjaIUkZcnVc8BTx:b-ww7jm4) ([raw file](https://github.com/toktok/c-toxcore/blob/3990406fc7f2f0a45432903c29ddcd9ea6f16f05/toxcore/Messenger.c#L2628)):_\n\n> ``` C\n> #define MESSENGER_STATE_TYPE_TCP_RELAY     10\n> #define MESSENGER_STATE_TYPE_PATH_NODE     11\n> #define MESSENGER_STATE_TYPE_OLDGROUPCHATS 100\n> ```\n\nOld group chats are now called conference. I suggest using `CONFERENCE` here and in other places where you use \"old groups\" names.\n\n---\n\n_[toxcore/Messenger.c, line 2932 at r2](https://reviewable.io:443/reviews/toktok/c-toxcore/263#-KWKMIxUzMPT_nUl-XsA:-KWKMIxUzMPT_nUl-XsB:bxw9cdp) ([raw file](https://github.com/toktok/c-toxcore/blob/3990406fc7f2f0a45432903c29ddcd9ea6f16f05/toxcore/Messenger.c#L2932)):_\n\n> ``` C\n> \n>         case MESSENGER_STATE_TYPE_OLDGROUPCHATS: {\n>             oldgroups_load(m, data, length);\n> ```\n\nIs the error intentionally ignored here?\n\n---\n\n_[toxcore/tox.api.h, line 2051 at r2](https://reviewable.io:443/reviews/toktok/c-toxcore/263#-KWKMTYQwqpi-P9X4Yyo:-KWKMTYQwqpi-P9X4Yyp:b46q3te) ([raw file](https://github.com/toktok/c-toxcore/blob/3990406fc7f2f0a45432903c29ddcd9ea6f16f05/toxcore/tox.api.h#L2051)):_\n\n> ``` objc\n>      * @param friend_number The friend who invited us.\n>      *  if friend_number == UINT32_MAX then autojoin\n>      *  if client do not call tox_conference_join or toxav_join_av_groupchat immediately\n> ```\n- What does \"immediately\" mean? When exactly is the conference deleted? Is it the next time `tox_iterate` is called?\n- Use `$join` for the first function. The second one needs to stay as is, because we can't (yet) refer to things in other files.\n\n---\n\n_[toxcore/tox.api.h, line 2157 at r2](https://reviewable.io:443/reviews/toktok/c-toxcore/263#-KWKPWQ2DECXaDUJoRjU:-KWKPWQ2DECXaDUJoRjV:bsp9jut) ([raw file](https://github.com/toktok/c-toxcore/blob/3990406fc7f2f0a45432903c29ddcd9ea6f16f05/toxcore/tox.api.h#L2157)):_\n\n> ``` objc\n>    *\n>    * @param conference_number The conference number of the conference to be entered.\n>    * conference_number can be obtained by tox_conference_by_uid\n> ```\n\nReplace `tox_conference_by_uid` with `$by_uid`. That way, the documentation stays correct for other apidsl backends, and you can be sure that if `by_uid` changes, you'll know which places in the documentation to update.\n\n---\n\n_[toxcore/tox.api.h, line 2158 at r2](https://reviewable.io:443/reviews/toktok/c-toxcore/263#-KWKPqA6io1fOKvKcMYT:-KWKPqA6io1fOKvKcMYU:bf8b5y0) ([raw file](https://github.com/toktok/c-toxcore/blob/3990406fc7f2f0a45432903c29ddcd9ea6f16f05/toxcore/tox.api.h#L2158)):_\n\n> ``` objc\n>    * @param conference_number The conference number of the conference to be entered.\n>    * conference_number can be obtained by tox_conference_by_uid\n>    * Call this function only if you leave conference using tox_conference_leave.\n> ```\n\n`$leave`\n\nAlso, move this section (starting with \"Call\") up to before the parameter list. Have an empty line between the one-line description and this additional information section.\n\n---\n\n_[toxcore/tox.api.h, line 2180 at r2](https://reviewable.io:443/reviews/toktok/c-toxcore/263#-KWKQGimuhdQTOLUQKn3:-KWKQGimuhdQTOLUQKn4:b5uqy4v) ([raw file](https://github.com/toktok/c-toxcore/blob/3990406fc7f2f0a45432903c29ddcd9ea6f16f05/toxcore/tox.api.h#L2180)):_\n\n> ``` objc\n>    *\n>    * @param conference_number The conference number of the conference to be disconnected.\n>    * conference_number can be obtained by tox_conference_by_uid.\n> ```\n\n`$by_uid`\n\n---\n\n_[toxcore/tox.api.h, line 2185 at r2](https://reviewable.io:443/reviews/toktok/c-toxcore/263#-KWKQK3cGjmOgnzgN8cP:-KWKQK3dstCjPKpS6joO:b-sc373j) ([raw file](https://github.com/toktok/c-toxcore/blob/3990406fc7f2f0a45432903c29ddcd9ea6f16f05/toxcore/tox.api.h#L2185)):_\n\n> ``` objc\n>    * No one can invite you to this conference after you leave it with keep_leave is true.\n>    * Also keep_leave == true means conference will not try to connect to other peers after restart.\n>    * Call tox_conference_enter to enable auto connect and invite.\n> ```\n\n`$enter`\n\n---\n\n_[toxcore/tox.api.h, line 2450 at r2](https://reviewable.io:443/reviews/toktok/c-toxcore/263#-KWKQeyErbV1UMhMcDTq:-KWKQeyErbV1UMhMcDTr:b2m95v8) ([raw file](https://github.com/toktok/c-toxcore/blob/3990406fc7f2f0a45432903c29ddcd9ea6f16f05/toxcore/tox.api.h#L2450)):_\n\n> ``` objc\n>    * @return true on success.\n>    */\n>   bool get_uid(uint32_t conference_number, uint8_t[CONFERENCE_UID_SIZE] uid);\n> ```\n- This function has the same errors as `by_uid`: `uid` can be NULL and `conference_number` can be invalid.\n- This function can be `const`, because it doesn't mutate the Tox instance.\n\n---\n\n_[toxcore/tox.api.h, line 2456 at r2](https://reviewable.io:443/reviews/toktok/c-toxcore/263#-KWKQV3qxra__Gmkew-b:-KWKQV3qxra__Gmkew-c:bi7fvpy) ([raw file](https://github.com/toktok/c-toxcore/blob/3990406fc7f2f0a45432903c29ddcd9ea6f16f05/toxcore/tox.api.h#L2456)):_\n\n> ``` objc\n>    *\n>    * @return the conference number on success, UINT32_MAX on failure.\n>    * @param uid A byte array containing the conference id (TOX_CONFERENCE_UID_SIZE).\n> ```\n\n`$CONFERENCE_UID_SIZE`\n\n---\n\n_[toxcore/tox.h, line 249 at r2](https://reviewable.io:443/reviews/toktok/c-toxcore/263#-KWKRJpSitK6aUv8BrpY:-KWKRJpSitK6aUv8BrpZ:b-u09s7g) ([raw file](https://github.com/toktok/c-toxcore/blob/3990406fc7f2f0a45432903c29ddcd9ea6f16f05/toxcore/tox.h#L249)):_\n\n> ``` objc\n> #define TOX_CONFERENCE_UID_SIZE        32\n> \n> uint32_t tox_conference_uid_size(void);\n> ```\n\nAt the top of tox.c, there is a list of constant-functions. Add this one to the list.\n\n---\n\n_Comments from [Reviewable](https://reviewable.io:443/reviews/toktok/c-toxcore/263)_\n\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2016-11-11T22:13:48Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#issuecomment-260068026",
            "id": 260068026,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/263",
            "node_id": "MDEyOklzc3VlQ29tbWVudDI2MDA2ODAyNg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/260068026/reactions"
            },
            "updated_at": "2016-11-11T22:13:48Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/260068026",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I fixed some @iphydf issues and connection issues (according to the results of Isotoxin usage)\n\n> Why the explicit cast?\n\nBecause Visual Studio warning. Visual Studio shows lot of warning for almost every toxcore source file. I suppress all warnings of **group.c** and **groupav.c**\n\n> This function has the same errors as `by_uid`: `uid` can be NULL and `conference_number` can be invalid.\n\nThere is no reason to complicate api in this case. Non-NULL uid - is requrement of `tox_conference_get_uid` call, same as requirement for size of buffer. So, the only one way this function can be failed - invalid `conference_number`. Return bool value is enough.\n",
            "created_at": "2016-11-12T13:21:34Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#issuecomment-260121861",
            "id": 260121861,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/263",
            "node_id": "MDEyOklzc3VlQ29tbWVudDI2MDEyMTg2MQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/260121861/reactions"
            },
            "updated_at": "2016-11-12T13:21:34Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/260121861",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
                "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
                "followers_url": "https://api.github.com/users/isotoxin/followers",
                "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
                "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/isotoxin",
                "id": 10449632,
                "login": "isotoxin",
                "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
                "organizations_url": "https://api.github.com/users/isotoxin/orgs",
                "received_events_url": "https://api.github.com/users/isotoxin/received_events",
                "repos_url": "https://api.github.com/users/isotoxin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/isotoxin",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Groupchats are now saved into tox_save\n\nIf state format is modified, add that change to the spec.\n",
            "created_at": "2016-11-12T14:20:35Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#issuecomment-260124632",
            "id": 260124632,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/263",
            "node_id": "MDEyOklzc3VlQ29tbWVudDI2MDEyNDYzMg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/260124632/reactions"
            },
            "updated_at": "2016-11-12T14:20:35Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/260124632",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/3148759?v=4",
                "events_url": "https://api.github.com/users/zetok/events{/privacy}",
                "followers_url": "https://api.github.com/users/zetok/followers",
                "following_url": "https://api.github.com/users/zetok/following{/other_user}",
                "gists_url": "https://api.github.com/users/zetok/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zetok",
                "id": 3148759,
                "login": "zetok",
                "node_id": "MDQ6VXNlcjMxNDg3NTk=",
                "organizations_url": "https://api.github.com/users/zetok/orgs",
                "received_events_url": "https://api.github.com/users/zetok/received_events",
                "repos_url": "https://api.github.com/users/zetok/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zetok/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zetok/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zetok",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "Anyone following this willing to write tests for this?\n\nOtherwise in can't be merged...\n",
            "created_at": "2016-11-18T21:36:42Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#issuecomment-261648205",
            "id": 261648205,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/263",
            "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTY0ODIwNQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 1,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/261648205/reactions"
            },
            "updated_at": "2016-11-18T21:36:42Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/261648205",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/243408?v=4",
                "events_url": "https://api.github.com/users/GrayHatter/events{/privacy}",
                "followers_url": "https://api.github.com/users/GrayHatter/followers",
                "following_url": "https://api.github.com/users/GrayHatter/following{/other_user}",
                "gists_url": "https://api.github.com/users/GrayHatter/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/GrayHatter",
                "id": 243408,
                "login": "GrayHatter",
                "node_id": "MDQ6VXNlcjI0MzQwOA==",
                "organizations_url": "https://api.github.com/users/GrayHatter/orgs",
                "received_events_url": "https://api.github.com/users/GrayHatter/received_events",
                "repos_url": "https://api.github.com/users/GrayHatter/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/GrayHatter/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/GrayHatter/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/GrayHatter",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I'm mainly concerned with the fact that it doesn't build and some testing/ code no longer compiles. Would be nice to at least get that fixed.\n",
            "created_at": "2016-11-18T21:52:28Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#issuecomment-261651559",
            "id": 261651559,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/263",
            "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTY1MTU1OQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/261651559/reactions"
            },
            "updated_at": "2016-11-18T21:52:28Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/261651559",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Just for the sake of my interest, what kind of tests are you expected? Isotoxin uses this code right now and it works fine. You can build m... qTox, for example, with this code and make sure that it works. So, what tests?\n",
            "created_at": "2016-11-19T08:25:16Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#issuecomment-261701040",
            "id": 261701040,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/263",
            "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTcwMTA0MA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/261701040/reactions"
            },
            "updated_at": "2016-11-19T08:25:16Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/261701040",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
                "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
                "followers_url": "https://api.github.com/users/isotoxin/followers",
                "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
                "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/isotoxin",
                "id": 10449632,
                "login": "isotoxin",
                "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
                "organizations_url": "https://api.github.com/users/isotoxin/orgs",
                "received_events_url": "https://api.github.com/users/isotoxin/received_events",
                "repos_url": "https://api.github.com/users/isotoxin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/isotoxin",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "@isotoxin just the group chat/conference tests that used to work, and the toxcore apps that are bundled.\n\nLike nTox https://travis-ci.org/TokTok/c-toxcore/jobs/176506450#L1227\n\nor the auto_tests https://github.com/TokTok/c-toxcore/blob/master/auto_tests/conference_test.c\n",
            "created_at": "2016-11-19T08:36:18Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#issuecomment-261701443",
            "id": 261701443,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/263",
            "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTcwMTQ0Mw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/261701443/reactions"
            },
            "updated_at": "2016-11-19T08:36:18Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/261701443",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/243408?v=4",
                "events_url": "https://api.github.com/users/GrayHatter/events{/privacy}",
                "followers_url": "https://api.github.com/users/GrayHatter/followers",
                "following_url": "https://api.github.com/users/GrayHatter/following{/other_user}",
                "gists_url": "https://api.github.com/users/GrayHatter/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/GrayHatter",
                "id": 243408,
                "login": "GrayHatter",
                "node_id": "MDQ6VXNlcjI0MzQwOA==",
                "organizations_url": "https://api.github.com/users/GrayHatter/orgs",
                "received_events_url": "https://api.github.com/users/GrayHatter/received_events",
                "repos_url": "https://api.github.com/users/GrayHatter/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/GrayHatter/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/GrayHatter/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/GrayHatter",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "> Anyone following this willing to write tests for this?\n> Otherwise in can't be merged...\n\nWriting tests is one of toktok goals, isn't it? So what are you waiting for?\n",
            "created_at": "2016-11-20T18:37:05Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#issuecomment-261795936",
            "id": 261795936,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/263",
            "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTc5NTkzNg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/261795936/reactions"
            },
            "updated_at": "2016-11-20T18:37:05Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/261795936",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/16562269?v=4",
                "events_url": "https://api.github.com/users/uToxingInTox/events{/privacy}",
                "followers_url": "https://api.github.com/users/uToxingInTox/followers",
                "following_url": "https://api.github.com/users/uToxingInTox/following{/other_user}",
                "gists_url": "https://api.github.com/users/uToxingInTox/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/uToxingInTox",
                "id": 16562269,
                "login": "uToxingInTox",
                "node_id": "MDQ6VXNlcjE2NTYyMjY5",
                "organizations_url": "https://api.github.com/users/uToxingInTox/orgs",
                "received_events_url": "https://api.github.com/users/uToxingInTox/received_events",
                "repos_url": "https://api.github.com/users/uToxingInTox/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/uToxingInTox/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/uToxingInTox/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/uToxingInTox",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "@uToxingInTox I would like to remind you that one of the toktok goals is to have a friendly, professional, and welcoming environment for people to collaborate on common or overlapping goals. Aggression and sneer can't be tolerated in such an environment. Please try to behave in a more appropriate way.\r\n\r\nRegarding your premise statement: writing tests is not a goal for toktok. Having a well-tested codebase is. Accepting code that actively counteracts our goals seems like a bad idea. I don't expect new tests, mainly because I think the current auto tests are not a good way to do reliable hermetic testing. They are a good way to do integration tests, but for those, they are insufficient. Breaking the tests and/or breaking the build when adding a feature or cleaning up code doesn't make sense.\r\n\r\nAnd regarding your question: what we are waiting for regarding tests is mainly for us to have time and for that to be prioritised. We have several priorities, and getting a 0.1 release ready in time for the next qTox release (end of December) is currently the highest one. We can have all the tests we want, but if nobody is using the code, there is only so much confidence we can have in that it actually works.",
            "created_at": "2016-11-28T23:01:30Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#issuecomment-263422722",
            "id": 263422722,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/263",
            "node_id": "MDEyOklzc3VlQ29tbWVudDI2MzQyMjcyMg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/263422722/reactions"
            },
            "updated_at": "2016-11-28T23:01:30Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/263422722",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "Against the better judgement of the others on my team. I have taken the liberety to delete posts than are off topic, with the sole goal of making this pull very easy for developers to read parse and communicate. I'd very much like to keep this pull request free of off topip comments or complaints. Because that the only way the outstanding issues can be fixed n a reasonable time so we can merge this.\r\n\r\nIf it becomes a problem again I can lock this pull to collaborators only.",
            "created_at": "2016-11-30T21:18:14Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#issuecomment-263998325",
            "id": 263998325,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/263",
            "node_id": "MDEyOklzc3VlQ29tbWVudDI2Mzk5ODMyNQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 2,
                "rocket": 0,
                "total_count": 3,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/263998325/reactions"
            },
            "updated_at": "2016-11-30T21:18:14Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/263998325",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/243408?v=4",
                "events_url": "https://api.github.com/users/GrayHatter/events{/privacy}",
                "followers_url": "https://api.github.com/users/GrayHatter/followers",
                "following_url": "https://api.github.com/users/GrayHatter/following{/other_user}",
                "gists_url": "https://api.github.com/users/GrayHatter/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/GrayHatter",
                "id": 243408,
                "login": "GrayHatter",
                "node_id": "MDQ6VXNlcjI0MzQwOA==",
                "organizations_url": "https://api.github.com/users/GrayHatter/orgs",
                "received_events_url": "https://api.github.com/users/GrayHatter/received_events",
                "repos_url": "https://api.github.com/users/GrayHatter/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/GrayHatter/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/GrayHatter/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/GrayHatter",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Btw, why do you carp to code style? This groupchat upgade is temporary. Yes, temporary. Current groupchat protocol has ugly architecture and hard to improve. It should be totally rewritten. Oh, wait... New groupchats are almost done (sarcasm).\r\nSeriously, I planned to write new groupchats (really new), or make new groupchats of jfr working (unlikely). Anyway, this code is just temporary improvement. It was done only to make Isotoxin better. Better then other lazy-slow-update clients.",
            "created_at": "2016-12-01T12:22:02Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#issuecomment-264160422",
            "id": 264160422,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/263",
            "node_id": "MDEyOklzc3VlQ29tbWVudDI2NDE2MDQyMg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/264160422/reactions"
            },
            "updated_at": "2016-12-01T12:23:43Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/264160422",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
                "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
                "followers_url": "https://api.github.com/users/isotoxin/followers",
                "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
                "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/isotoxin",
                "id": 10449632,
                "login": "isotoxin",
                "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
                "organizations_url": "https://api.github.com/users/isotoxin/orgs",
                "received_events_url": "https://api.github.com/users/isotoxin/received_events",
                "repos_url": "https://api.github.com/users/isotoxin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/isotoxin",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "You know the saying \"Nothing last longer than a temporary fix.\" ? ;)\r\n\r\nIf some code has a completely different style than the rest and is not easy to understand nobody will ever dare to touch it to fix bugs or improve something. It will just rot away. IMO it's the right decision for toxcore to keep the coding standards high, even if this works slightly against fast integration of new features. In the long run it'll probably pay off and will help to keep the security high.",
            "created_at": "2016-12-01T12:30:34Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#issuecomment-264161985",
            "id": 264161985,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/263",
            "node_id": "MDEyOklzc3VlQ29tbWVudDI2NDE2MTk4NQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 1,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/264161985/reactions"
            },
            "updated_at": "2016-12-01T12:30:34Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/264161985",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5585762?v=4",
                "events_url": "https://api.github.com/users/sudden6/events{/privacy}",
                "followers_url": "https://api.github.com/users/sudden6/followers",
                "following_url": "https://api.github.com/users/sudden6/following{/other_user}",
                "gists_url": "https://api.github.com/users/sudden6/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/sudden6",
                "id": 5585762,
                "login": "sudden6",
                "node_id": "MDQ6VXNlcjU1ODU3NjI=",
                "organizations_url": "https://api.github.com/users/sudden6/orgs",
                "received_events_url": "https://api.github.com/users/sudden6/received_events",
                "repos_url": "https://api.github.com/users/sudden6/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/sudden6/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/sudden6/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/sudden6",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> You know the saying \"Nothing last longer than a temporary fix.\" ? ;)\r\n\r\nIt's true, especially when you consider your approach to development. You will never do anything new in the code of the toxcore, because you will always be dissatisfied with the code style or lack of understanding of what the code is doing or absence of test or something else.\r\nI'm tired. Let's divide the responsibilities. You will fix the code style as you like, write tests as you like, but I'm going to write code that does something useful.\r\nSorry for this rude post. Ah. Simple question: does qTox use toktok? No? Why is all this fuss?\r\n",
            "created_at": "2016-12-01T12:48:31Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#issuecomment-264165465",
            "id": 264165465,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/263",
            "node_id": "MDEyOklzc3VlQ29tbWVudDI2NDE2NTQ2NQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/264165465/reactions"
            },
            "updated_at": "2016-12-01T12:48:31Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/264165465",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
                "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
                "followers_url": "https://api.github.com/users/isotoxin/followers",
                "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
                "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/isotoxin",
                "id": 10449632,
                "login": "isotoxin",
                "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
                "organizations_url": "https://api.github.com/users/isotoxin/orgs",
                "received_events_url": "https://api.github.com/users/isotoxin/received_events",
                "repos_url": "https://api.github.com/users/isotoxin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/isotoxin",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Simple question: does qTox use toktok?\r\nNo qTox doesn't yet use toktok, but the plan is to switch on the next release. Btw I wasn't speaking for qTox, just for myself.\r\n\r\n> Why is all this fuss?\r\nBecause toxcore is about a stable and compatible basis between all clients. Again speaking only for myself.",
            "created_at": "2016-12-01T13:26:34Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#issuecomment-264172621",
            "id": 264172621,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/263",
            "node_id": "MDEyOklzc3VlQ29tbWVudDI2NDE3MjYyMQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/264172621/reactions"
            },
            "updated_at": "2016-12-01T13:26:34Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/264172621",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5585762?v=4",
                "events_url": "https://api.github.com/users/sudden6/events{/privacy}",
                "followers_url": "https://api.github.com/users/sudden6/followers",
                "following_url": "https://api.github.com/users/sudden6/following{/other_user}",
                "gists_url": "https://api.github.com/users/sudden6/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/sudden6",
                "id": 5585762,
                "login": "sudden6",
                "node_id": "MDQ6VXNlcjU1ODU3NjI=",
                "organizations_url": "https://api.github.com/users/sudden6/orgs",
                "received_events_url": "https://api.github.com/users/sudden6/received_events",
                "repos_url": "https://api.github.com/users/sudden6/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/sudden6/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/sudden6/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/sudden6",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "@isotoxin ok, dividing responsibilities this way sounds reasonable. @robinlinden would you be willing to take this code, make a new PR, and go through the review process with it? We can fall back on @isotoxin when in doubt about a particular change.\r\n\r\nRegarding your question: no, qTox is waiting for the 0.1 release, which is why that is currently the highest priority. We can have all the tests we want, but without anybody actually using it, it's both useless and hard to gain confidence in the code actually doing what our users want.",
            "created_at": "2016-12-01T15:54:35Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#issuecomment-264210861",
            "id": 264210861,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/263",
            "node_id": "MDEyOklzc3VlQ29tbWVudDI2NDIxMDg2MQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/264210861/reactions"
            },
            "updated_at": "2016-12-01T15:54:35Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/264210861",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "@GrayHatter or you?",
            "created_at": "2016-12-01T16:04:20Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#issuecomment-264213695",
            "id": 264213695,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/263",
            "node_id": "MDEyOklzc3VlQ29tbWVudDI2NDIxMzY5NQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/264213695/reactions"
            },
            "updated_at": "2016-12-01T16:04:20Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/264213695",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "@iphydf no. At this point i'm not able to take on additional jobs I have too many out standing.\r\n\r\nThat said per our IRC conversation I dont want to sink any more time into old style group chats when we have a seemingly better implementation waiting for the net_crypto fix that's needed for more than just new group chats. \r\n\r\nIf @isotoxin Is unwilling or unable to put the time into HIS pull request. I dont think we should bother to spend our already limited time either.\r\n\r\nBecause I dont have the time to monitor this thread I'm going to lock it to collaborators only. @isotoxin if you'd like to make further comments/fixes on this pull find me on IRC and I or anyone can unlock it. But as you've said twice now, you dont want to put in the work to bring the code quality up I'd rather not let this sink into a flame war ntreod.\r\n\r\nAny toktok devs if you'd like to take over the work on this. I'd suggest you open a new pull ",
            "created_at": "2016-12-01T18:26:27Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#issuecomment-264252456",
            "id": 264252456,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/263",
            "node_id": "MDEyOklzc3VlQ29tbWVudDI2NDI1MjQ1Ng==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/264252456/reactions"
            },
            "updated_at": "2016-12-01T18:26:27Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/264252456",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/243408?v=4",
                "events_url": "https://api.github.com/users/GrayHatter/events{/privacy}",
                "followers_url": "https://api.github.com/users/GrayHatter/followers",
                "following_url": "https://api.github.com/users/GrayHatter/following{/other_user}",
                "gists_url": "https://api.github.com/users/GrayHatter/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/GrayHatter",
                "id": 243408,
                "login": "GrayHatter",
                "node_id": "MDQ6VXNlcjI0MzQwOA==",
                "organizations_url": "https://api.github.com/users/GrayHatter/orgs",
                "received_events_url": "https://api.github.com/users/GrayHatter/received_events",
                "repos_url": "https://api.github.com/users/GrayHatter/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/GrayHatter/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/GrayHatter/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/GrayHatter",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Thanks @isotoxin for contributing this change. We'll try to proceed without bothering you too much with questions. I've invited you to join as toktok collaborator so you can continue contributing to the discussion here if you wish to do so. We are proceeding this way following your recommendation to divide responsibilities. I hope we understood your intention correctly.\r\n\r\nThanks @robinlinden for taking on the review process on behalf of @isotoxin.\r\n\r\nI suggest @isotoxin closes this PR if nothing remains to be done here. I would also like to ask everybody involved in future discussions to stay on the topic of the contribution. We can discuss development processes and prioritisation elsewhere.",
            "created_at": "2016-12-01T19:50:07Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#issuecomment-264275205",
            "id": 264275205,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/263",
            "node_id": "MDEyOklzc3VlQ29tbWVudDI2NDI3NTIwNQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/264275205/reactions"
            },
            "updated_at": "2016-12-01T19:50:34Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/264275205",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "with over 10 days, and no updates I'm going to close this as replaced by #295 ",
            "created_at": "2016-12-12T09:55:50Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/263#issuecomment-266386542",
            "id": 266386542,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/263",
            "node_id": "MDEyOklzc3VlQ29tbWVudDI2NjM4NjU0Mg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/266386542/reactions"
            },
            "updated_at": "2016-12-12T09:55:50Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/266386542",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/243408?v=4",
                "events_url": "https://api.github.com/users/GrayHatter/events{/privacy}",
                "followers_url": "https://api.github.com/users/GrayHatter/followers",
                "following_url": "https://api.github.com/users/GrayHatter/following{/other_user}",
                "gists_url": "https://api.github.com/users/GrayHatter/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/GrayHatter",
                "id": 243408,
                "login": "GrayHatter",
                "node_id": "MDQ6VXNlcjI0MzQwOA==",
                "organizations_url": "https://api.github.com/users/GrayHatter/orgs",
                "received_events_url": "https://api.github.com/users/GrayHatter/received_events",
                "repos_url": "https://api.github.com/users/GrayHatter/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/GrayHatter/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/GrayHatter/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/GrayHatter",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 25,
    "comments_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/263/comments",
    "commit_data": [
        {
            "author": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
                "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
                "followers_url": "https://api.github.com/users/isotoxin/followers",
                "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
                "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/isotoxin",
                "id": 10449632,
                "login": "isotoxin",
                "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
                "organizations_url": "https://api.github.com/users/isotoxin/orgs",
                "received_events_url": "https://api.github.com/users/isotoxin/received_events",
                "repos_url": "https://api.github.com/users/isotoxin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/isotoxin",
                "user_view_type": "public"
            },
            "comments_url": "https://api.github.com/repos/TokTok/c-toxcore/commits/2990c0a5f5d5929e593cab9a162a2c044a297d85/comments",
            "commit": {
                "author": {
                    "date": "2016-11-11T11:56:14Z",
                    "email": "isotoxin.dev@yandex.ru",
                    "name": "isotoxin"
                },
                "comment_count": 0,
                "committer": {
                    "date": "2016-11-11T11:56:14Z",
                    "email": "isotoxin.dev@yandex.ru",
                    "name": "isotoxin"
                },
                "message": "upgrade groupchats\n\nThis is not new groupchats. This is just upgrade to old groupchats with\nsome advatages:\n- Groupchats are now saved into tox_save\n- Client can get groupchat unique id to save message log\n- Auto restore groupchats after restart even your friend uses\nnon-upgraded version",
                "tree": {
                    "sha": "84af00b9a3e5f9279056edf348f1ee1986c6c34a",
                    "url": "https://api.github.com/repos/TokTok/c-toxcore/git/trees/84af00b9a3e5f9279056edf348f1ee1986c6c34a"
                },
                "url": "https://api.github.com/repos/TokTok/c-toxcore/git/commits/2990c0a5f5d5929e593cab9a162a2c044a297d85",
                "verification": {
                    "payload": null,
                    "reason": "unsigned",
                    "signature": null,
                    "verified": false,
                    "verified_at": null
                }
            },
            "committer": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
                "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
                "followers_url": "https://api.github.com/users/isotoxin/followers",
                "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
                "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/isotoxin",
                "id": 10449632,
                "login": "isotoxin",
                "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
                "organizations_url": "https://api.github.com/users/isotoxin/orgs",
                "received_events_url": "https://api.github.com/users/isotoxin/received_events",
                "repos_url": "https://api.github.com/users/isotoxin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/isotoxin",
                "user_view_type": "public"
            },
            "html_url": "https://github.com/TokTok/c-toxcore/commit/2990c0a5f5d5929e593cab9a162a2c044a297d85",
            "node_id": "MDY6Q29tbWl0NjczMDQ2ODU6Mjk5MGMwYTVmNWQ1OTI5ZTU5M2NhYjlhMTYyYTJjMDQ0YTI5N2Q4NQ==",
            "parents": [
                {
                    "html_url": "https://github.com/TokTok/c-toxcore/commit/aed24408db9cd8afe632a1d3f056669ae34f49be",
                    "sha": "aed24408db9cd8afe632a1d3f056669ae34f49be",
                    "url": "https://api.github.com/repos/TokTok/c-toxcore/commits/aed24408db9cd8afe632a1d3f056669ae34f49be"
                }
            ],
            "sha": "2990c0a5f5d5929e593cab9a162a2c044a297d85",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/commits/2990c0a5f5d5929e593cab9a162a2c044a297d85"
        },
        {
            "author": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
                "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
                "followers_url": "https://api.github.com/users/isotoxin/followers",
                "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
                "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/isotoxin",
                "id": 10449632,
                "login": "isotoxin",
                "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
                "organizations_url": "https://api.github.com/users/isotoxin/orgs",
                "received_events_url": "https://api.github.com/users/isotoxin/received_events",
                "repos_url": "https://api.github.com/users/isotoxin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/isotoxin",
                "user_view_type": "public"
            },
            "comments_url": "https://api.github.com/repos/TokTok/c-toxcore/commits/3990406fc7f2f0a45432903c29ddcd9ea6f16f05/comments",
            "commit": {
                "author": {
                    "date": "2016-11-11T15:11:13Z",
                    "email": "isotoxin.dev@yandex.ru",
                    "name": "isotoxin"
                },
                "comment_count": 0,
                "committer": {
                    "date": "2016-11-11T15:11:13Z",
                    "email": "isotoxin.dev@yandex.ru",
                    "name": "isotoxin"
                },
                "message": "remove unused variables",
                "tree": {
                    "sha": "bc57d6566279ff1d4f71999b83c2db11e4ec2fb7",
                    "url": "https://api.github.com/repos/TokTok/c-toxcore/git/trees/bc57d6566279ff1d4f71999b83c2db11e4ec2fb7"
                },
                "url": "https://api.github.com/repos/TokTok/c-toxcore/git/commits/3990406fc7f2f0a45432903c29ddcd9ea6f16f05",
                "verification": {
                    "payload": null,
                    "reason": "unsigned",
                    "signature": null,
                    "verified": false,
                    "verified_at": null
                }
            },
            "committer": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
                "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
                "followers_url": "https://api.github.com/users/isotoxin/followers",
                "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
                "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/isotoxin",
                "id": 10449632,
                "login": "isotoxin",
                "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
                "organizations_url": "https://api.github.com/users/isotoxin/orgs",
                "received_events_url": "https://api.github.com/users/isotoxin/received_events",
                "repos_url": "https://api.github.com/users/isotoxin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/isotoxin",
                "user_view_type": "public"
            },
            "html_url": "https://github.com/TokTok/c-toxcore/commit/3990406fc7f2f0a45432903c29ddcd9ea6f16f05",
            "node_id": "MDY6Q29tbWl0NjczMDQ2ODU6Mzk5MDQwNmZjN2YyZjBhNDU0MzI5MDNjMjlkZGNkOWVhNmYxNmYwNQ==",
            "parents": [
                {
                    "html_url": "https://github.com/TokTok/c-toxcore/commit/2990c0a5f5d5929e593cab9a162a2c044a297d85",
                    "sha": "2990c0a5f5d5929e593cab9a162a2c044a297d85",
                    "url": "https://api.github.com/repos/TokTok/c-toxcore/commits/2990c0a5f5d5929e593cab9a162a2c044a297d85"
                }
            ],
            "sha": "3990406fc7f2f0a45432903c29ddcd9ea6f16f05",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/commits/3990406fc7f2f0a45432903c29ddcd9ea6f16f05"
        },
        {
            "author": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
                "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
                "followers_url": "https://api.github.com/users/isotoxin/followers",
                "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
                "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/isotoxin",
                "id": 10449632,
                "login": "isotoxin",
                "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
                "organizations_url": "https://api.github.com/users/isotoxin/orgs",
                "received_events_url": "https://api.github.com/users/isotoxin/received_events",
                "repos_url": "https://api.github.com/users/isotoxin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/isotoxin",
                "user_view_type": "public"
            },
            "comments_url": "https://api.github.com/repos/TokTok/c-toxcore/commits/43175715699871ac4facbdc69aa1082e92d847f4/comments",
            "commit": {
                "author": {
                    "date": "2016-11-12T13:04:58Z",
                    "email": "isotoxin.dev@yandex.ru",
                    "name": "isotoxin"
                },
                "comment_count": 0,
                "committer": {
                    "date": "2016-11-12T13:04:58Z",
                    "email": "isotoxin.dev@yandex.ru",
                    "name": "isotoxin"
                },
                "message": "connection and other issues fixed",
                "tree": {
                    "sha": "f364898504b1fb3826ee3d737068b22bbe0c4c09",
                    "url": "https://api.github.com/repos/TokTok/c-toxcore/git/trees/f364898504b1fb3826ee3d737068b22bbe0c4c09"
                },
                "url": "https://api.github.com/repos/TokTok/c-toxcore/git/commits/43175715699871ac4facbdc69aa1082e92d847f4",
                "verification": {
                    "payload": null,
                    "reason": "unsigned",
                    "signature": null,
                    "verified": false,
                    "verified_at": null
                }
            },
            "committer": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
                "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
                "followers_url": "https://api.github.com/users/isotoxin/followers",
                "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
                "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/isotoxin",
                "id": 10449632,
                "login": "isotoxin",
                "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
                "organizations_url": "https://api.github.com/users/isotoxin/orgs",
                "received_events_url": "https://api.github.com/users/isotoxin/received_events",
                "repos_url": "https://api.github.com/users/isotoxin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/isotoxin",
                "user_view_type": "public"
            },
            "html_url": "https://github.com/TokTok/c-toxcore/commit/43175715699871ac4facbdc69aa1082e92d847f4",
            "node_id": "MDY6Q29tbWl0NjczMDQ2ODU6NDMxNzU3MTU2OTk4NzFhYzRmYWNiZGM2OWFhMTA4MmU5MmQ4NDdmNA==",
            "parents": [
                {
                    "html_url": "https://github.com/TokTok/c-toxcore/commit/3990406fc7f2f0a45432903c29ddcd9ea6f16f05",
                    "sha": "3990406fc7f2f0a45432903c29ddcd9ea6f16f05",
                    "url": "https://api.github.com/repos/TokTok/c-toxcore/commits/3990406fc7f2f0a45432903c29ddcd9ea6f16f05"
                }
            ],
            "sha": "43175715699871ac4facbdc69aa1082e92d847f4",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/commits/43175715699871ac4facbdc69aa1082e92d847f4"
        },
        {
            "author": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
                "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
                "followers_url": "https://api.github.com/users/isotoxin/followers",
                "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
                "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/isotoxin",
                "id": 10449632,
                "login": "isotoxin",
                "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
                "organizations_url": "https://api.github.com/users/isotoxin/orgs",
                "received_events_url": "https://api.github.com/users/isotoxin/received_events",
                "repos_url": "https://api.github.com/users/isotoxin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/isotoxin",
                "user_view_type": "public"
            },
            "comments_url": "https://api.github.com/repos/TokTok/c-toxcore/commits/7e753461ac4422053f2563475102ad0f0bade07c/comments",
            "commit": {
                "author": {
                    "date": "2016-11-16T21:00:58Z",
                    "email": "isotoxin.dev@yandex.ru",
                    "name": "isotoxin"
                },
                "comment_count": 0,
                "committer": {
                    "date": "2016-11-16T21:00:58Z",
                    "email": "isotoxin.dev@yandex.ru",
                    "name": "isotoxin"
                },
                "message": "Restore algorithm has been changed\n\nNow groupchats are processed as one list of members. It helps to avoid\nfalse join to group, when 2 or more groups are requested from same\nfriend.",
                "tree": {
                    "sha": "fb74c43719e5991bd15f208b7663193b18e69830",
                    "url": "https://api.github.com/repos/TokTok/c-toxcore/git/trees/fb74c43719e5991bd15f208b7663193b18e69830"
                },
                "url": "https://api.github.com/repos/TokTok/c-toxcore/git/commits/7e753461ac4422053f2563475102ad0f0bade07c",
                "verification": {
                    "payload": null,
                    "reason": "unsigned",
                    "signature": null,
                    "verified": false,
                    "verified_at": null
                }
            },
            "committer": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
                "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
                "followers_url": "https://api.github.com/users/isotoxin/followers",
                "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
                "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/isotoxin",
                "id": 10449632,
                "login": "isotoxin",
                "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
                "organizations_url": "https://api.github.com/users/isotoxin/orgs",
                "received_events_url": "https://api.github.com/users/isotoxin/received_events",
                "repos_url": "https://api.github.com/users/isotoxin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/isotoxin",
                "user_view_type": "public"
            },
            "html_url": "https://github.com/TokTok/c-toxcore/commit/7e753461ac4422053f2563475102ad0f0bade07c",
            "node_id": "MDY6Q29tbWl0NjczMDQ2ODU6N2U3NTM0NjFhYzQ0MjIwNTNmMjU2MzQ3NTEwMmFkMGYwYmFkZTA3Yw==",
            "parents": [
                {
                    "html_url": "https://github.com/TokTok/c-toxcore/commit/43175715699871ac4facbdc69aa1082e92d847f4",
                    "sha": "43175715699871ac4facbdc69aa1082e92d847f4",
                    "url": "https://api.github.com/repos/TokTok/c-toxcore/commits/43175715699871ac4facbdc69aa1082e92d847f4"
                }
            ],
            "sha": "7e753461ac4422053f2563475102ad0f0bade07c",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/commits/7e753461ac4422053f2563475102ad0f0bade07c"
        },
        {
            "author": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
                "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
                "followers_url": "https://api.github.com/users/isotoxin/followers",
                "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
                "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/isotoxin",
                "id": 10449632,
                "login": "isotoxin",
                "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
                "organizations_url": "https://api.github.com/users/isotoxin/orgs",
                "received_events_url": "https://api.github.com/users/isotoxin/received_events",
                "repos_url": "https://api.github.com/users/isotoxin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/isotoxin",
                "user_view_type": "public"
            },
            "comments_url": "https://api.github.com/repos/TokTok/c-toxcore/commits/fd257590c922f8b0d9671baf942488d194b89fff/comments",
            "commit": {
                "author": {
                    "date": "2016-12-01T12:02:21Z",
                    "email": "isotoxin.dev@yandex.ru",
                    "name": "isotoxin"
                },
                "comment_count": 0,
                "committer": {
                    "date": "2016-12-01T12:02:21Z",
                    "email": "isotoxin.dev@yandex.ru",
                    "name": "isotoxin"
                },
                "message": "cosmetics",
                "tree": {
                    "sha": "a46026cdf7dff08a931f129ab6e2990a3ffb5462",
                    "url": "https://api.github.com/repos/TokTok/c-toxcore/git/trees/a46026cdf7dff08a931f129ab6e2990a3ffb5462"
                },
                "url": "https://api.github.com/repos/TokTok/c-toxcore/git/commits/fd257590c922f8b0d9671baf942488d194b89fff",
                "verification": {
                    "payload": null,
                    "reason": "unsigned",
                    "signature": null,
                    "verified": false,
                    "verified_at": null
                }
            },
            "committer": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
                "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
                "followers_url": "https://api.github.com/users/isotoxin/followers",
                "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
                "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/isotoxin",
                "id": 10449632,
                "login": "isotoxin",
                "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
                "organizations_url": "https://api.github.com/users/isotoxin/orgs",
                "received_events_url": "https://api.github.com/users/isotoxin/received_events",
                "repos_url": "https://api.github.com/users/isotoxin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/isotoxin",
                "user_view_type": "public"
            },
            "html_url": "https://github.com/TokTok/c-toxcore/commit/fd257590c922f8b0d9671baf942488d194b89fff",
            "node_id": "MDY6Q29tbWl0NjczMDQ2ODU6ZmQyNTc1OTBjOTIyZjhiMGQ5NjcxYmFmOTQyNDg4ZDE5NGI4OWZmZg==",
            "parents": [
                {
                    "html_url": "https://github.com/TokTok/c-toxcore/commit/7e753461ac4422053f2563475102ad0f0bade07c",
                    "sha": "7e753461ac4422053f2563475102ad0f0bade07c",
                    "url": "https://api.github.com/repos/TokTok/c-toxcore/commits/7e753461ac4422053f2563475102ad0f0bade07c"
                }
            ],
            "sha": "fd257590c922f8b0d9671baf942488d194b89fff",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/commits/fd257590c922f8b0d9671baf942488d194b89fff"
        },
        {
            "author": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
                "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
                "followers_url": "https://api.github.com/users/isotoxin/followers",
                "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
                "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/isotoxin",
                "id": 10449632,
                "login": "isotoxin",
                "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
                "organizations_url": "https://api.github.com/users/isotoxin/orgs",
                "received_events_url": "https://api.github.com/users/isotoxin/received_events",
                "repos_url": "https://api.github.com/users/isotoxin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/isotoxin",
                "user_view_type": "public"
            },
            "comments_url": "https://api.github.com/repos/TokTok/c-toxcore/commits/59dc77c6ee1e0998a65340f1aed656632b7f996b/comments",
            "commit": {
                "author": {
                    "date": "2016-12-01T12:08:57Z",
                    "email": "isotoxin.dev@yandex.ru",
                    "name": "isotoxin"
                },
                "comment_count": 0,
                "committer": {
                    "date": "2016-12-01T12:08:57Z",
                    "email": "isotoxin.dev@yandex.ru",
                    "name": "isotoxin"
                },
                "message": "spaces",
                "tree": {
                    "sha": "b0998c4dbffec24463093e73bfa51390e2438873",
                    "url": "https://api.github.com/repos/TokTok/c-toxcore/git/trees/b0998c4dbffec24463093e73bfa51390e2438873"
                },
                "url": "https://api.github.com/repos/TokTok/c-toxcore/git/commits/59dc77c6ee1e0998a65340f1aed656632b7f996b",
                "verification": {
                    "payload": null,
                    "reason": "unsigned",
                    "signature": null,
                    "verified": false,
                    "verified_at": null
                }
            },
            "committer": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
                "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
                "followers_url": "https://api.github.com/users/isotoxin/followers",
                "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
                "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/isotoxin",
                "id": 10449632,
                "login": "isotoxin",
                "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
                "organizations_url": "https://api.github.com/users/isotoxin/orgs",
                "received_events_url": "https://api.github.com/users/isotoxin/received_events",
                "repos_url": "https://api.github.com/users/isotoxin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/isotoxin",
                "user_view_type": "public"
            },
            "html_url": "https://github.com/TokTok/c-toxcore/commit/59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "node_id": "MDY6Q29tbWl0NjczMDQ2ODU6NTlkYzc3YzZlZTFlMDk5OGE2NTM0MGYxYWVkNjU2NjMyYjdmOTk2Yg==",
            "parents": [
                {
                    "html_url": "https://github.com/TokTok/c-toxcore/commit/fd257590c922f8b0d9671baf942488d194b89fff",
                    "sha": "fd257590c922f8b0d9671baf942488d194b89fff",
                    "url": "https://api.github.com/repos/TokTok/c-toxcore/commits/fd257590c922f8b0d9671baf942488d194b89fff"
                }
            ],
            "sha": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/commits/59dc77c6ee1e0998a65340f1aed656632b7f996b"
        }
    ],
    "commits": 6,
    "commits_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263/commits",
    "created_at": "2016-11-11T11:59:43Z",
    "deletions": 1050,
    "diff_url": "https://github.com/TokTok/c-toxcore/pull/263.diff",
    "draft": false,
    "head": {
        "label": "isotoxin:upgrade_groupchats",
        "ref": "upgrade_groupchats",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/isotoxin/toxcore/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/isotoxin/toxcore/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/isotoxin/toxcore/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/isotoxin/toxcore/branches{/branch}",
            "clone_url": "https://github.com/isotoxin/toxcore.git",
            "collaborators_url": "https://api.github.com/repos/isotoxin/toxcore/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/isotoxin/toxcore/comments{/number}",
            "commits_url": "https://api.github.com/repos/isotoxin/toxcore/commits{/sha}",
            "compare_url": "https://api.github.com/repos/isotoxin/toxcore/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/isotoxin/toxcore/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/isotoxin/toxcore/contributors",
            "created_at": "2016-09-03T18:10:27Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/isotoxin/toxcore/deployments",
            "description": "The future of online communications.",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/isotoxin/toxcore/downloads",
            "events_url": "https://api.github.com/repos/isotoxin/toxcore/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/isotoxin/toxcore/forks",
            "full_name": "isotoxin/toxcore",
            "git_commits_url": "https://api.github.com/repos/isotoxin/toxcore/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/isotoxin/toxcore/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/isotoxin/toxcore/git/tags{/sha}",
            "git_url": "git://github.com/isotoxin/toxcore.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": false,
            "homepage": "https://tox.chat/",
            "hooks_url": "https://api.github.com/repos/isotoxin/toxcore/hooks",
            "html_url": "https://github.com/isotoxin/toxcore",
            "id": 67304685,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/isotoxin/toxcore/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/isotoxin/toxcore/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/isotoxin/toxcore/issues{/number}",
            "keys_url": "https://api.github.com/repos/isotoxin/toxcore/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/isotoxin/toxcore/labels{/name}",
            "language": "C",
            "languages_url": "https://api.github.com/repos/isotoxin/toxcore/languages",
            "license": {
                "key": "gpl-3.0",
                "name": "GNU General Public License v3.0",
                "node_id": "MDc6TGljZW5zZTk=",
                "spdx_id": "GPL-3.0",
                "url": "https://api.github.com/licenses/gpl-3.0"
            },
            "merges_url": "https://api.github.com/repos/isotoxin/toxcore/merges",
            "milestones_url": "https://api.github.com/repos/isotoxin/toxcore/milestones{/number}",
            "mirror_url": null,
            "name": "toxcore",
            "node_id": "MDEwOlJlcG9zaXRvcnk2NzMwNDY4NQ==",
            "notifications_url": "https://api.github.com/repos/isotoxin/toxcore/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
                "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
                "followers_url": "https://api.github.com/users/isotoxin/followers",
                "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
                "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/isotoxin",
                "id": 10449632,
                "login": "isotoxin",
                "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
                "organizations_url": "https://api.github.com/users/isotoxin/orgs",
                "received_events_url": "https://api.github.com/users/isotoxin/received_events",
                "repos_url": "https://api.github.com/users/isotoxin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/isotoxin",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/isotoxin/toxcore/pulls{/number}",
            "pushed_at": "2016-12-01T12:09:16Z",
            "releases_url": "https://api.github.com/repos/isotoxin/toxcore/releases{/id}",
            "size": 11238,
            "ssh_url": "git@github.com:isotoxin/toxcore.git",
            "stargazers_count": 1,
            "stargazers_url": "https://api.github.com/repos/isotoxin/toxcore/stargazers",
            "statuses_url": "https://api.github.com/repos/isotoxin/toxcore/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/isotoxin/toxcore/subscribers",
            "subscription_url": "https://api.github.com/repos/isotoxin/toxcore/subscription",
            "svn_url": "https://github.com/isotoxin/toxcore",
            "tags_url": "https://api.github.com/repos/isotoxin/toxcore/tags",
            "teams_url": "https://api.github.com/repos/isotoxin/toxcore/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/isotoxin/toxcore/git/trees{/sha}",
            "updated_at": "2023-07-03T07:23:33Z",
            "url": "https://api.github.com/repos/isotoxin/toxcore",
            "visibility": "public",
            "watchers": 1,
            "watchers_count": 1,
            "web_commit_signoff_required": false
        },
        "sha": "59dc77c6ee1e0998a65340f1aed656632b7f996b",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
            "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
            "followers_url": "https://api.github.com/users/isotoxin/followers",
            "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
            "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/isotoxin",
            "id": 10449632,
            "login": "isotoxin",
            "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
            "organizations_url": "https://api.github.com/users/isotoxin/orgs",
            "received_events_url": "https://api.github.com/users/isotoxin/received_events",
            "repos_url": "https://api.github.com/users/isotoxin/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/isotoxin",
            "user_view_type": "public"
        }
    },
    "html_url": "https://github.com/TokTok/c-toxcore/pull/263",
    "id": 93321411,
    "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/263",
    "labels": [
        {
            "color": "d93f0b",
            "default": false,
            "description": "Messenger",
            "id": 438496561,
            "name": "messenger",
            "node_id": "MDU6TGFiZWw0Mzg0OTY1NjE=",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/labels/messenger"
        },
        {
            "color": "0052cc",
            "default": false,
            "description": "Audio/video",
            "id": 467412219,
            "name": "toxav",
            "node_id": "MDU6TGFiZWw0Njc0MTIyMTk=",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/labels/toxav"
        },
        {
            "color": "d93f0b",
            "default": false,
            "description": "Security",
            "id": 476178168,
            "name": "security",
            "node_id": "MDU6TGFiZWw0NzYxNzgxNjg=",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/labels/security"
        },
        {
            "color": "fef2c0",
            "default": false,
            "description": "Refactoring production code, eg. renaming a variable, not affecting semantics",
            "id": 2034508700,
            "name": "refactor",
            "node_id": "MDU6TGFiZWwyMDM0NTA4NzAw",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/labels/refactor"
        }
    ],
    "locked": true,
    "maintainer_can_modify": false,
    "merge_commit_sha": "f36437e1ce435cbffe0343b1c9aabef02e813820",
    "mergeable": false,
    "mergeable_state": "dirty",
    "merged": false,
    "merged_at": null,
    "merged_by": null,
    "milestone": {
        "closed_at": null,
        "closed_issues": 369,
        "created_at": "2016-10-25T20:25:56Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/243408?v=4",
            "events_url": "https://api.github.com/users/GrayHatter/events{/privacy}",
            "followers_url": "https://api.github.com/users/GrayHatter/followers",
            "following_url": "https://api.github.com/users/GrayHatter/following{/other_user}",
            "gists_url": "https://api.github.com/users/GrayHatter/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/GrayHatter",
            "id": 243408,
            "login": "GrayHatter",
            "node_id": "MDQ6VXNlcjI0MzQwOA==",
            "organizations_url": "https://api.github.com/users/GrayHatter/orgs",
            "received_events_url": "https://api.github.com/users/GrayHatter/received_events",
            "repos_url": "https://api.github.com/users/GrayHatter/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/GrayHatter/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/GrayHatter/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/GrayHatter",
            "user_view_type": "public"
        },
        "description": "",
        "due_on": "2032-01-01T08:00:00Z",
        "html_url": "https://github.com/TokTok/c-toxcore/milestone/6",
        "id": 2093325,
        "labels_url": "https://api.github.com/repos/TokTok/c-toxcore/milestones/6/labels",
        "node_id": "MDk6TWlsZXN0b25lMjA5MzMyNQ==",
        "number": 6,
        "open_issues": 1,
        "state": "open",
        "title": "z-meta",
        "updated_at": "2024-03-28T01:33:44Z",
        "url": "https://api.github.com/repos/TokTok/c-toxcore/milestones/6"
    },
    "node_id": "MDExOlB1bGxSZXF1ZXN0OTMzMjE0MTE=",
    "number": 263,
    "patch_url": "https://github.com/TokTok/c-toxcore/pull/263.patch",
    "rebaseable": false,
    "requested_reviewers": [],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments{/number}",
    "review_comments": 34,
    "review_comments_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263/comments",
    "state": "closed",
    "statuses_url": "https://api.github.com/repos/TokTok/c-toxcore/statuses/59dc77c6ee1e0998a65340f1aed656632b7f996b",
    "title": "Make conferences persist across restarts",
    "updated_at": "2020-05-04T18:36:36Z",
    "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/263",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/10449632?v=4",
        "events_url": "https://api.github.com/users/isotoxin/events{/privacy}",
        "followers_url": "https://api.github.com/users/isotoxin/followers",
        "following_url": "https://api.github.com/users/isotoxin/following{/other_user}",
        "gists_url": "https://api.github.com/users/isotoxin/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/isotoxin",
        "id": 10449632,
        "login": "isotoxin",
        "node_id": "MDQ6VXNlcjEwNDQ5NjMy",
        "organizations_url": "https://api.github.com/users/isotoxin/orgs",
        "received_events_url": "https://api.github.com/users/isotoxin/received_events",
        "repos_url": "https://api.github.com/users/isotoxin/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/isotoxin/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/isotoxin/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/isotoxin",
        "user_view_type": "public"
    }
}