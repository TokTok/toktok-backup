{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/TokTok/c-toxcore/issues/872/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/872/commits"
        },
        "html": {
            "href": "https://github.com/TokTok/c-toxcore/pull/872"
        },
        "issue": {
            "href": "https://api.github.com/repos/TokTok/c-toxcore/issues/872"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/872/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/872"
        },
        "statuses": {
            "href": "https://api.github.com/repos/TokTok/c-toxcore/statuses/6b97acb773622f9abca5ef305cd55bdef1ecc484"
        }
    },
    "active_lock_reason": null,
    "additions": 33,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "auto_merge": null,
    "base": {
        "label": "TokTok:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/TokTok/c-toxcore/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/TokTok/c-toxcore/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/TokTok/c-toxcore/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/TokTok/c-toxcore/branches{/branch}",
            "clone_url": "https://github.com/TokTok/c-toxcore.git",
            "collaborators_url": "https://api.github.com/repos/TokTok/c-toxcore/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/TokTok/c-toxcore/comments{/number}",
            "commits_url": "https://api.github.com/repos/TokTok/c-toxcore/commits{/sha}",
            "compare_url": "https://api.github.com/repos/TokTok/c-toxcore/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/TokTok/c-toxcore/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/TokTok/c-toxcore/contributors",
            "created_at": "2016-07-06T08:15:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/TokTok/c-toxcore/deployments",
            "description": "The future of online communications.",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/TokTok/c-toxcore/downloads",
            "events_url": "https://api.github.com/repos/TokTok/c-toxcore/events",
            "fork": true,
            "forks": 292,
            "forks_count": 292,
            "forks_url": "https://api.github.com/repos/TokTok/c-toxcore/forks",
            "full_name": "TokTok/c-toxcore",
            "git_commits_url": "https://api.github.com/repos/TokTok/c-toxcore/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/TokTok/c-toxcore/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/TokTok/c-toxcore/git/tags{/sha}",
            "git_url": "git://github.com/TokTok/c-toxcore.git",
            "has_discussions": false,
            "has_downloads": false,
            "has_issues": true,
            "has_pages": false,
            "has_projects": false,
            "has_wiki": false,
            "homepage": "https://tox.chat",
            "hooks_url": "https://api.github.com/repos/TokTok/c-toxcore/hooks",
            "html_url": "https://github.com/TokTok/c-toxcore",
            "id": 62703642,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/TokTok/c-toxcore/issues{/number}",
            "keys_url": "https://api.github.com/repos/TokTok/c-toxcore/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/TokTok/c-toxcore/labels{/name}",
            "language": "C",
            "languages_url": "https://api.github.com/repos/TokTok/c-toxcore/languages",
            "license": {
                "key": "gpl-3.0",
                "name": "GNU General Public License v3.0",
                "node_id": "MDc6TGljZW5zZTk=",
                "spdx_id": "GPL-3.0",
                "url": "https://api.github.com/licenses/gpl-3.0"
            },
            "merges_url": "https://api.github.com/repos/TokTok/c-toxcore/merges",
            "milestones_url": "https://api.github.com/repos/TokTok/c-toxcore/milestones{/number}",
            "mirror_url": null,
            "name": "c-toxcore",
            "node_id": "MDEwOlJlcG9zaXRvcnk2MjcwMzY0Mg==",
            "notifications_url": "https://api.github.com/repos/TokTok/c-toxcore/notifications{?since,all,participating}",
            "open_issues": 210,
            "open_issues_count": 210,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/17427091?v=4",
                "events_url": "https://api.github.com/users/TokTok/events{/privacy}",
                "followers_url": "https://api.github.com/users/TokTok/followers",
                "following_url": "https://api.github.com/users/TokTok/following{/other_user}",
                "gists_url": "https://api.github.com/users/TokTok/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/TokTok",
                "id": 17427091,
                "login": "TokTok",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3NDI3MDkx",
                "organizations_url": "https://api.github.com/users/TokTok/orgs",
                "received_events_url": "https://api.github.com/users/TokTok/received_events",
                "repos_url": "https://api.github.com/users/TokTok/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/TokTok/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/TokTok/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/TokTok",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls{/number}",
            "pushed_at": "2025-01-24T18:18:40Z",
            "releases_url": "https://api.github.com/repos/TokTok/c-toxcore/releases{/id}",
            "size": 25245,
            "ssh_url": "git@github.com:TokTok/c-toxcore.git",
            "stargazers_count": 2329,
            "stargazers_url": "https://api.github.com/repos/TokTok/c-toxcore/stargazers",
            "statuses_url": "https://api.github.com/repos/TokTok/c-toxcore/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/TokTok/c-toxcore/subscribers",
            "subscription_url": "https://api.github.com/repos/TokTok/c-toxcore/subscription",
            "svn_url": "https://github.com/TokTok/c-toxcore",
            "tags_url": "https://api.github.com/repos/TokTok/c-toxcore/tags",
            "teams_url": "https://api.github.com/repos/TokTok/c-toxcore/teams",
            "topics": [
                "cryptography",
                "encryption",
                "network",
                "p2p",
                "security",
                "toxcore"
            ],
            "trees_url": "https://api.github.com/repos/TokTok/c-toxcore/git/trees{/sha}",
            "updated_at": "2025-01-24T22:05:30Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore",
            "visibility": "public",
            "watchers": 2329,
            "watchers_count": 2329,
            "web_commit_signoff_required": false
        },
        "sha": "09478f99578df9d9fd477e0c0b53cb0d74c09e2a",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/17427091?v=4",
            "events_url": "https://api.github.com/users/TokTok/events{/privacy}",
            "followers_url": "https://api.github.com/users/TokTok/followers",
            "following_url": "https://api.github.com/users/TokTok/following{/other_user}",
            "gists_url": "https://api.github.com/users/TokTok/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/TokTok",
            "id": 17427091,
            "login": "TokTok",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3NDI3MDkx",
            "organizations_url": "https://api.github.com/users/TokTok/orgs",
            "received_events_url": "https://api.github.com/users/TokTok/received_events",
            "repos_url": "https://api.github.com/users/TokTok/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/TokTok/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/TokTok/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/TokTok",
            "user_view_type": "public"
        }
    },
    "body": "\n\n<!-- Reviewable:start -->\nThis change is [<img src=\"https://reviewable.io/review_button.svg\" height=\"34\" align=\"absmiddle\" alt=\"Reviewable\"/>](https://reviewable.io/reviews/toktok/c-toxcore/872)\n<!-- Reviewable:end -->\n",
    "changed_files": 2,
    "closed_at": "2018-04-16T21:47:14Z",
    "comment_data": [],
    "comment_regular_data": [
        {
            "author_association": "NONE",
            "body": "[![CLA assistant check](https://cla-assistant.io/pull/badge/signed)](https://cla-assistant.io/TokTok/c-toxcore?pullRequest=872) <br/>All committers have signed the CLA.",
            "created_at": "2018-04-15T06:45:36Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/872#issuecomment-381384297",
            "id": 381384297,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/872",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTM4NDI5Nw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381384297/reactions"
            },
            "updated_at": "2018-04-16T06:41:20Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381384297",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/11571300?v=4",
                "events_url": "https://api.github.com/users/CLAassistant/events{/privacy}",
                "followers_url": "https://api.github.com/users/CLAassistant/followers",
                "following_url": "https://api.github.com/users/CLAassistant/following{/other_user}",
                "gists_url": "https://api.github.com/users/CLAassistant/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/CLAassistant",
                "id": 11571300,
                "login": "CLAassistant",
                "node_id": "MDQ6VXNlcjExNTcxMzAw",
                "organizations_url": "https://api.github.com/users/CLAassistant/orgs",
                "received_events_url": "https://api.github.com/users/CLAassistant/received_events",
                "repos_url": "https://api.github.com/users/CLAassistant/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/CLAassistant/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/CLAassistant/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/CLAassistant",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I think it's a good idea to limit onion packets to only a restricted set.\n\n---\n\nReview status: 0 of 2 files reviewed at latest revision, all discussions resolved.\n\n---\n\n*[toxcore/onion.c, line 474 at r1](https://beta.reviewable.io/reviews/toktok/c-toxcore/872#-LA7YLrQ1Ag6kDclW_WI:-LA7YLrQ1Ag6kDclW_WJ:bn8elmg) ([raw file](https://github.com/toktok/c-toxcore/blob/6b97acb773622f9abca5ef305cd55bdef1ecc484/toxcore/onion.c#L474)):*\n> ```C\n>     }\n> \n>     if (len <= SIZE_IPPORT) {\n> ```\n\nSince there's a check for the exact length above, I don't think this is necessary.\n\n---\n\n*[toxcore/onion.c, line 478 at r1](https://beta.reviewable.io/reviews/toktok/c-toxcore/872#-LA7ZZyjB0P8bGbehzeO:-LA7ZZyjB0P8bGbehzeP:bk0x5kx) ([raw file](https://github.com/toktok/c-toxcore/blob/6b97acb773622f9abca5ef305cd55bdef1ecc484/toxcore/onion.c#L478)):*\n> ```C\n>     }\n> \n>     if (plain[SIZE_IPPORT] != NET_PACKET_ANNOUNCE_REQUEST &&\n> ```\n\nIn my opinion it would be better to write pack/unpack functions like `ipport_pack/unpack` instead of modifying the plain packet structure. \n\n---\n\n\n*Comments from [Reviewable](https://beta.reviewable.io/reviews/toktok/c-toxcore/872#-:-LA7_FlnCEwhYevRocVh:b-j1251r)*\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2018-04-15T09:15:16Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/872#issuecomment-381391948",
            "id": 381391948,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/872",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTM5MTk0OA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381391948/reactions"
            },
            "updated_at": "2018-04-15T09:15:16Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381391948",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5585762?v=4",
                "events_url": "https://api.github.com/users/sudden6/events{/privacy}",
                "followers_url": "https://api.github.com/users/sudden6/followers",
                "following_url": "https://api.github.com/users/sudden6/following{/other_user}",
                "gists_url": "https://api.github.com/users/sudden6/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/sudden6",
                "id": 5585762,
                "login": "sudden6",
                "node_id": "MDQ6VXNlcjU1ODU3NjI=",
                "organizations_url": "https://api.github.com/users/sudden6/orgs",
                "received_events_url": "https://api.github.com/users/sudden6/received_events",
                "repos_url": "https://api.github.com/users/sudden6/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/sudden6/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/sudden6/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/sudden6",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "\n\n\n\nReview status: 0 of 2 files reviewed at latest revision, 2 unresolved discussions.\n\n---\n\n*[toxcore/onion.c, line 478 at r1](https://beta.reviewable.io/reviews/toktok/c-toxcore/872#-LA7ZZyjB0P8bGbehzeO:-LA8LVR_9MPcza0ZQNOA:b-silgyn) ([raw file](https://github.com/toktok/c-toxcore/blob/6b97acb773622f9abca5ef305cd55bdef1ecc484/toxcore/onion.c#L478)):*\n<details><summary><i>Previously, sudden6 wrote…</i></summary><blockquote>\n\nIn my opinion it would be better to write pack/unpack functions like `ipport_pack/unpack` instead of modifying the plain packet structure. \n</blockquote></details>\n\nRight. Let's wait for @kurnevsky to help you with this code for a month while you will be stopping him from fixing 0-day vulnerability.\n\n---\n\n\n*Comments from [Reviewable](https://beta.reviewable.io/reviews/toktok/c-toxcore/872)*\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2018-04-15T12:50:41Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/872#issuecomment-381404183",
            "id": 381404183,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/872",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTQwNDE4Mw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381404183/reactions"
            },
            "updated_at": "2018-04-15T12:50:41Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381404183",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/467709?v=4",
                "events_url": "https://api.github.com/users/kpp/events{/privacy}",
                "followers_url": "https://api.github.com/users/kpp/followers",
                "following_url": "https://api.github.com/users/kpp/following{/other_user}",
                "gists_url": "https://api.github.com/users/kpp/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kpp",
                "id": 467709,
                "login": "kpp",
                "node_id": "MDQ6VXNlcjQ2NzcwOQ==",
                "organizations_url": "https://api.github.com/users/kpp/orgs",
                "received_events_url": "https://api.github.com/users/kpp/received_events",
                "repos_url": "https://api.github.com/users/kpp/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kpp/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kpp/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kpp",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "\n\n\n\nReview status: 0 of 2 files reviewed at latest revision, 2 unresolved discussions.\n\n---\n\n*[toxcore/onion.c, line 478 at r1](https://beta.reviewable.io/reviews/toktok/c-toxcore/872#-LA7ZZyjB0P8bGbehzeO:-LA8lotL1FAzQMRIBEVf:b-aldmnq) ([raw file](https://github.com/toktok/c-toxcore/blob/6b97acb773622f9abca5ef305cd55bdef1ecc484/toxcore/onion.c#L478)):*\n<details><summary><i>Previously, kpp (Roman) wrote…</i></summary><blockquote>\n\nRight. Let's wait for @kurnevsky to help you with this code for a month while you will be stopping him from fixing 0-day vulnerability.\n</blockquote></details>\n\n? I think a proper fix is better than possibly introducing new problems with a bandaid fix.\n\n---\n\n\n*Comments from [Reviewable](https://beta.reviewable.io/reviews/toktok/c-toxcore/872)*\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2018-04-15T14:49:45Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/872#issuecomment-381412247",
            "id": 381412247,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/872",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTQxMjI0Nw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381412247/reactions"
            },
            "updated_at": "2018-04-15T14:49:45Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381412247",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5585762?v=4",
                "events_url": "https://api.github.com/users/sudden6/events{/privacy}",
                "followers_url": "https://api.github.com/users/sudden6/followers",
                "following_url": "https://api.github.com/users/sudden6/following{/other_user}",
                "gists_url": "https://api.github.com/users/sudden6/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/sudden6",
                "id": 5585762,
                "login": "sudden6",
                "node_id": "MDQ6VXNlcjU1ODU3NjI=",
                "organizations_url": "https://api.github.com/users/sudden6/orgs",
                "received_events_url": "https://api.github.com/users/sudden6/received_events",
                "repos_url": "https://api.github.com/users/sudden6/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/sudden6/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/sudden6/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/sudden6",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "@sudden6 merge this asap and release a new version. Then work on a clean fix. Dont let a flaw in the wild just because of review. ",
            "created_at": "2018-04-15T15:02:33Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/872#issuecomment-381413119",
            "id": 381413119,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/872",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTQxMzExOQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 2,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 1,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 3,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381413119/reactions"
            },
            "updated_at": "2018-04-15T15:02:45Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381413119",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8523159?v=4",
                "events_url": "https://api.github.com/users/SkyzohKey/events{/privacy}",
                "followers_url": "https://api.github.com/users/SkyzohKey/followers",
                "following_url": "https://api.github.com/users/SkyzohKey/following{/other_user}",
                "gists_url": "https://api.github.com/users/SkyzohKey/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/SkyzohKey",
                "id": 8523159,
                "login": "SkyzohKey",
                "node_id": "MDQ6VXNlcjg1MjMxNTk=",
                "organizations_url": "https://api.github.com/users/SkyzohKey/orgs",
                "received_events_url": "https://api.github.com/users/SkyzohKey/received_events",
                "repos_url": "https://api.github.com/users/SkyzohKey/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/SkyzohKey/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/SkyzohKey/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/SkyzohKey",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "\n\n\n\n\n\n\n\n*[toxcore/onion.c, line 474 at r1](https://beta.reviewable.io/reviews/toktok/c-toxcore/872#-LA7YLrQ1Ag6kDclW_WI:-LA8zKAM5uz7imytkLXQ:bl4dpbi) ([raw file](https://github.com/toktok/c-toxcore/blob/6b97acb773622f9abca5ef305cd55bdef1ecc484/toxcore/onion.c#L474)):*\n<details><summary><i>Previously, sudden6 wrote…</i></summary><blockquote>\n\nSince there's a check for the exact length above, I don't think this is necessary.\n</blockquote></details>\n\nAbove we check only that length of decrypted data is the same as length of encrypted minus mac bytes. There is check \"length <= 1 + SEND_3\" yet above, but it checks only that packet has enough length for onion return.\n\n---\n\n\n*Comments from [Reviewable](https://beta.reviewable.io/reviews/toktok/c-toxcore/872)*\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2018-04-15T15:50:29Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/872#issuecomment-381416466",
            "id": 381416466,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/872",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTQxNjQ2Ng==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381416466/reactions"
            },
            "updated_at": "2018-04-15T15:50:29Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381416466",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2943605?v=4",
                "events_url": "https://api.github.com/users/kurnevsky/events{/privacy}",
                "followers_url": "https://api.github.com/users/kurnevsky/followers",
                "following_url": "https://api.github.com/users/kurnevsky/following{/other_user}",
                "gists_url": "https://api.github.com/users/kurnevsky/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kurnevsky",
                "id": 2943605,
                "login": "kurnevsky",
                "node_id": "MDQ6VXNlcjI5NDM2MDU=",
                "organizations_url": "https://api.github.com/users/kurnevsky/orgs",
                "received_events_url": "https://api.github.com/users/kurnevsky/received_events",
                "repos_url": "https://api.github.com/users/kurnevsky/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kurnevsky/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kurnevsky/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kurnevsky",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "\n\n\n\n\n\n\n\n*[toxcore/onion.c, line 478 at r1](https://beta.reviewable.io/reviews/toktok/c-toxcore/872#-LA7ZZyjB0P8bGbehzeO:-LA90kKeCuDcNuSZGDz3:b-r4zq94) ([raw file](https://github.com/toktok/c-toxcore/blob/6b97acb773622f9abca5ef305cd55bdef1ecc484/toxcore/onion.c#L478)):*\n<details><summary><i>Previously, sudden6 wrote…</i></summary><blockquote>\n\n? I think a proper fix is better than possibly introducing new problems with a bandaid fix.\n</blockquote></details>\n\nIt's the way the whole c-toxcore implemented - it doesn't parse packets to structs, it just works with bytes. So I suggest not to refactor it here - refactoring will bring much bigger diff.\n\n---\n\n\n*Comments from [Reviewable](https://beta.reviewable.io/reviews/toktok/c-toxcore/872)*\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2018-04-15T16:02:03Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/872#issuecomment-381417304",
            "id": 381417304,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/872",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTQxNzMwNA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381417304/reactions"
            },
            "updated_at": "2018-04-15T16:02:03Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381417304",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2943605?v=4",
                "events_url": "https://api.github.com/users/kurnevsky/events{/privacy}",
                "followers_url": "https://api.github.com/users/kurnevsky/followers",
                "following_url": "https://api.github.com/users/kurnevsky/following{/other_user}",
                "gists_url": "https://api.github.com/users/kurnevsky/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kurnevsky",
                "id": 2943605,
                "login": "kurnevsky",
                "node_id": "MDQ6VXNlcjI5NDM2MDU=",
                "organizations_url": "https://api.github.com/users/kurnevsky/orgs",
                "received_events_url": "https://api.github.com/users/kurnevsky/received_events",
                "repos_url": "https://api.github.com/users/kurnevsky/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kurnevsky/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kurnevsky/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kurnevsky",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "\n\n\n\nReview status: 0 of 2 files reviewed at latest revision, 2 unresolved discussions.\n\n---\n\n*[toxcore/onion.c, line 478 at r1](https://beta.reviewable.io/reviews/toktok/c-toxcore/872#-LA7ZZyjB0P8bGbehzeO:-LA9Gn0i6XdDQIKQtrRZ:b-ye8l9a) ([raw file](https://github.com/toktok/c-toxcore/blob/6b97acb773622f9abca5ef305cd55bdef1ecc484/toxcore/onion.c#L478)):*\n<details><summary><i>Previously, kurnevsky (Evgeny Kurnevsky) wrote…</i></summary><blockquote>\n\nIt's the way the whole c-toxcore implemented - it doesn't parse packets to structs, it just works with bytes. So I suggest not to refactor it here - refactoring will bring much bigger diff.\n</blockquote></details>\n\nThis code needs lots of refactoring later. I think we can defer it for now given the relative urgency.\n\n---\n\n\n*Comments from [Reviewable](https://beta.reviewable.io/reviews/toktok/c-toxcore/872)*\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2018-04-15T17:09:27Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/872#issuecomment-381421952",
            "id": 381421952,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/872",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTQyMTk1Mg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381421952/reactions"
            },
            "updated_at": "2018-04-15T17:09:27Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381421952",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "\n\n\n\nReviewed 2 of 2 files at r1.\nReview status: all files reviewed at latest revision, 2 unresolved discussions.\n\n---\n\n*[toxcore/onion.c, line 474 at r1](https://beta.reviewable.io/reviews/toktok/c-toxcore/872#-LA7YLrQ1Ag6kDclW_WI:-LA9KUXgCdu6o4xVXtum:b1ke8pv) ([raw file](https://github.com/toktok/c-toxcore/blob/6b97acb773622f9abca5ef305cd55bdef1ecc484/toxcore/onion.c#L474)):*\n<details><summary><i>Previously, kurnevsky (Evgeny Kurnevsky) wrote…</i></summary><blockquote>\n\nAbove we check only that length of decrypted data is the same as length of encrypted minus mac bytes. There is check \"length <= 1 + SEND_3\" yet above, but it checks only that packet has enough length for onion return.\n</blockquote></details>\n\nok, didn't see this, maybe that could be an issue in other functions too, but no need to fix that in this PR\n\n---\n\n*[toxcore/onion.c, line 478 at r1](https://beta.reviewable.io/reviews/toktok/c-toxcore/872#-LA7ZZyjB0P8bGbehzeO:-LA9L419BR07rQucaEIt:b-e4ny5t) ([raw file](https://github.com/toktok/c-toxcore/blob/6b97acb773622f9abca5ef305cd55bdef1ecc484/toxcore/onion.c#L478)):*\n<details><summary><i>Previously, iphydf wrote…</i></summary><blockquote>\n\nThis code needs lots of refactoring later. I think we can defer it for now given the relative urgency.\n</blockquote></details>\n\nok for me then\n\n---\n\n\n*Comments from [Reviewable](https://beta.reviewable.io/reviews/toktok/c-toxcore/872)*\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2018-04-15T17:52:13Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/872#issuecomment-381424833",
            "id": 381424833,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/872",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTQyNDgzMw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381424833/reactions"
            },
            "updated_at": "2018-04-15T17:52:13Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381424833",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5585762?v=4",
                "events_url": "https://api.github.com/users/sudden6/events{/privacy}",
                "followers_url": "https://api.github.com/users/sudden6/followers",
                "following_url": "https://api.github.com/users/sudden6/following{/other_user}",
                "gists_url": "https://api.github.com/users/sudden6/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/sudden6",
                "id": 5585762,
                "login": "sudden6",
                "node_id": "MDQ6VXNlcjU1ODU3NjI=",
                "organizations_url": "https://api.github.com/users/sudden6/orgs",
                "received_events_url": "https://api.github.com/users/sudden6/received_events",
                "repos_url": "https://api.github.com/users/sudden6/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/sudden6/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/sudden6/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/sudden6",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "<img class=\"emoji\" title=\":lgtm_strong:\" alt=\":lgtm_strong:\" align=\"absmiddle\" src=\"https://reviewable.io/lgtm_strong.png\" height=\"20\" width=\"61\"/>\n\n---\n\nReview status: all files reviewed at latest revision, 1 unresolved discussion.\n\n---\n\n\n\n*Comments from [Reviewable](https://beta.reviewable.io/reviews/toktok/c-toxcore/872#-:-LA9gf17Bo0lgwVFD8qE:b-jbsf8z)*\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2018-04-15T19:05:33Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/872#issuecomment-381430057",
            "id": 381430057,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/872",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTQzMDA1Nw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381430057/reactions"
            },
            "updated_at": "2018-04-15T19:05:33Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381430057",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5585762?v=4",
                "events_url": "https://api.github.com/users/sudden6/events{/privacy}",
                "followers_url": "https://api.github.com/users/sudden6/followers",
                "following_url": "https://api.github.com/users/sudden6/following{/other_user}",
                "gists_url": "https://api.github.com/users/sudden6/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/sudden6",
                "id": 5585762,
                "login": "sudden6",
                "node_id": "MDQ6VXNlcjU1ODU3NjI=",
                "organizations_url": "https://api.github.com/users/sudden6/orgs",
                "received_events_url": "https://api.github.com/users/sudden6/received_events",
                "repos_url": "https://api.github.com/users/sudden6/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/sudden6/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/sudden6/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/sudden6",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "@iphydf Can this be merged asap plz? Then please release the 0.2.2 in emergency. Now that the flaw is disclosed, it needs to be shiped the fastest we can. Persistent groupchats can wait 0.2.3 so that this can be fixed. And clients can update their static builds.",
            "created_at": "2018-04-15T19:28:59Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/872#issuecomment-381431638",
            "id": 381431638,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/872",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTQzMTYzOA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381431638/reactions"
            },
            "updated_at": "2018-04-15T19:29:43Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381431638",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8523159?v=4",
                "events_url": "https://api.github.com/users/SkyzohKey/events{/privacy}",
                "followers_url": "https://api.github.com/users/SkyzohKey/followers",
                "following_url": "https://api.github.com/users/SkyzohKey/following{/other_user}",
                "gists_url": "https://api.github.com/users/SkyzohKey/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/SkyzohKey",
                "id": 8523159,
                "login": "SkyzohKey",
                "node_id": "MDQ6VXNlcjg1MjMxNTk=",
                "organizations_url": "https://api.github.com/users/SkyzohKey/orgs",
                "received_events_url": "https://api.github.com/users/SkyzohKey/received_events",
                "repos_url": "https://api.github.com/users/SkyzohKey/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/SkyzohKey/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/SkyzohKey/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/SkyzohKey",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "does this mean all running nodes (including bootstrap nodes and echobot and groupbot) need to be updated aswell to fix this vulnerability?\r\nor can old nodes be tolerated in the wild?",
            "created_at": "2018-04-15T21:33:10Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/872#issuecomment-381439750",
            "id": 381439750,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/872",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTQzOTc1MA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381439750/reactions"
            },
            "updated_at": "2018-04-15T21:33:10Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381439750",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6833516?v=4",
                "events_url": "https://api.github.com/users/zoff99/events{/privacy}",
                "followers_url": "https://api.github.com/users/zoff99/followers",
                "following_url": "https://api.github.com/users/zoff99/following{/other_user}",
                "gists_url": "https://api.github.com/users/zoff99/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zoff99",
                "id": 6833516,
                "login": "zoff99",
                "node_id": "MDQ6VXNlcjY4MzM1MTY=",
                "organizations_url": "https://api.github.com/users/zoff99/orgs",
                "received_events_url": "https://api.github.com/users/zoff99/received_events",
                "repos_url": "https://api.github.com/users/zoff99/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zoff99/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zoff99/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zoff99",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "If I understood this correctly, old nodes have to be updated in order to be protected, but will still work.",
            "created_at": "2018-04-15T22:33:49Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/872#issuecomment-381443438",
            "id": 381443438,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/872",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTQ0MzQzOA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381443438/reactions"
            },
            "updated_at": "2018-04-15T22:33:49Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381443438",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5585762?v=4",
                "events_url": "https://api.github.com/users/sudden6/events{/privacy}",
                "followers_url": "https://api.github.com/users/sudden6/followers",
                "following_url": "https://api.github.com/users/sudden6/following{/other_user}",
                "gists_url": "https://api.github.com/users/sudden6/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/sudden6",
                "id": 5585762,
                "login": "sudden6",
                "node_id": "MDQ6VXNlcjU1ODU3NjI=",
                "organizations_url": "https://api.github.com/users/sudden6/orgs",
                "received_events_url": "https://api.github.com/users/sudden6/received_events",
                "repos_url": "https://api.github.com/users/sudden6/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/sudden6/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/sudden6/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/sudden6",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "@zoff99 old nodes have to be updated, but it will be enough to have only one updated node in onion path (3 random nodes) to be protected. Unfortunately it's not enough to update only your node to be protected yourself.",
            "created_at": "2018-04-16T05:35:28Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/872#issuecomment-381484675",
            "id": 381484675,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/872",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTQ4NDY3NQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381484675/reactions"
            },
            "updated_at": "2018-04-16T06:02:58Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381484675",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2943605?v=4",
                "events_url": "https://api.github.com/users/kurnevsky/events{/privacy}",
                "followers_url": "https://api.github.com/users/kurnevsky/followers",
                "following_url": "https://api.github.com/users/kurnevsky/following{/other_user}",
                "gists_url": "https://api.github.com/users/kurnevsky/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kurnevsky",
                "id": 2943605,
                "login": "kurnevsky",
                "node_id": "MDQ6VXNlcjI5NDM2MDU=",
                "organizations_url": "https://api.github.com/users/kurnevsky/orgs",
                "received_events_url": "https://api.github.com/users/kurnevsky/received_events",
                "repos_url": "https://api.github.com/users/kurnevsky/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kurnevsky/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kurnevsky/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kurnevsky",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "if more serious vulnerabilities may be found in the future, we should think about a mechanism to shut out vulnerable nodes.",
            "created_at": "2018-04-16T06:20:07Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/872#issuecomment-381491514",
            "id": 381491514,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/872",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTQ5MTUxNA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381491514/reactions"
            },
            "updated_at": "2018-04-16T06:20:07Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381491514",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6833516?v=4",
                "events_url": "https://api.github.com/users/zoff99/events{/privacy}",
                "followers_url": "https://api.github.com/users/zoff99/followers",
                "following_url": "https://api.github.com/users/zoff99/following{/other_user}",
                "gists_url": "https://api.github.com/users/zoff99/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zoff99",
                "id": 6833516,
                "login": "zoff99",
                "node_id": "MDQ6VXNlcjY4MzM1MTY=",
                "organizations_url": "https://api.github.com/users/zoff99/orgs",
                "received_events_url": "https://api.github.com/users/zoff99/received_events",
                "repos_url": "https://api.github.com/users/zoff99/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zoff99/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zoff99/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zoff99",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "Sorry, accidently closed pr.\r\n@zoff99 right, it'd be nice to have a way to get node version for this purpose.",
            "created_at": "2018-04-16T06:42:36Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/872#issuecomment-381495392",
            "id": 381495392,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/872",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTQ5NTM5Mg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381495392/reactions"
            },
            "updated_at": "2018-04-16T06:42:36Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381495392",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2943605?v=4",
                "events_url": "https://api.github.com/users/kurnevsky/events{/privacy}",
                "followers_url": "https://api.github.com/users/kurnevsky/followers",
                "following_url": "https://api.github.com/users/kurnevsky/following{/other_user}",
                "gists_url": "https://api.github.com/users/kurnevsky/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kurnevsky",
                "id": 2943605,
                "login": "kurnevsky",
                "node_id": "MDQ6VXNlcjI5NDM2MDU=",
                "organizations_url": "https://api.github.com/users/kurnevsky/orgs",
                "received_events_url": "https://api.github.com/users/kurnevsky/received_events",
                "repos_url": "https://api.github.com/users/kurnevsky/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kurnevsky/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kurnevsky/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kurnevsky",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Review is very important just as with any other code, so let's not forget about that please. In the future we should think of a way for people to disclose vulnerabilities in a more secure way that doesn't put users in danger and doesn't cause everyone to panic and think of not reviewing the code. I'm not criticizing anyone here. I know that in this situation you are all doing the best you can :). It's just something that we should try to do better in the future.",
            "created_at": "2018-04-16T09:10:15Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/872#issuecomment-381532124",
            "id": 381532124,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/872",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTUzMjEyNA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381532124/reactions"
            },
            "updated_at": "2018-04-16T09:10:15Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381532124",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/32248732?v=4",
                "events_url": "https://api.github.com/users/tox-user/events{/privacy}",
                "followers_url": "https://api.github.com/users/tox-user/followers",
                "following_url": "https://api.github.com/users/tox-user/following{/other_user}",
                "gists_url": "https://api.github.com/users/tox-user/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/tox-user",
                "id": 32248732,
                "login": "tox-user",
                "node_id": "MDQ6VXNlcjMyMjQ4NzMy",
                "organizations_url": "https://api.github.com/users/tox-user/orgs",
                "received_events_url": "https://api.github.com/users/tox-user/received_events",
                "repos_url": "https://api.github.com/users/tox-user/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/tox-user/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/tox-user/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/tox-user",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "It is possible to send BootstrapInfo to all public nodes. There is a u32 as integer version of toxcore lib.",
            "created_at": "2018-04-16T10:01:55Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/872#issuecomment-381547190",
            "id": 381547190,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/872",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTU0NzE5MA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381547190/reactions"
            },
            "updated_at": "2018-04-16T10:01:55Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381547190",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/467709?v=4",
                "events_url": "https://api.github.com/users/kpp/events{/privacy}",
                "followers_url": "https://api.github.com/users/kpp/followers",
                "following_url": "https://api.github.com/users/kpp/following{/other_user}",
                "gists_url": "https://api.github.com/users/kpp/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kpp",
                "id": 467709,
                "login": "kpp",
                "node_id": "MDQ6VXNlcjQ2NzcwOQ==",
                "organizations_url": "https://api.github.com/users/kpp/orgs",
                "received_events_url": "https://api.github.com/users/kpp/received_events",
                "repos_url": "https://api.github.com/users/kpp/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kpp/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kpp/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kpp",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "@iphydf how can we make sure a malicous node (custom source code) can not use this or any future vulnerability?",
            "created_at": "2018-04-16T10:26:01Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/872#issuecomment-381553460",
            "id": 381553460,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/872",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTU1MzQ2MA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381553460/reactions"
            },
            "updated_at": "2018-04-16T10:26:01Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381553460",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6833516?v=4",
                "events_url": "https://api.github.com/users/zoff99/events{/privacy}",
                "followers_url": "https://api.github.com/users/zoff99/followers",
                "following_url": "https://api.github.com/users/zoff99/following{/other_user}",
                "gists_url": "https://api.github.com/users/zoff99/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zoff99",
                "id": 6833516,
                "login": "zoff99",
                "node_id": "MDQ6VXNlcjY4MzM1MTY=",
                "organizations_url": "https://api.github.com/users/zoff99/orgs",
                "received_events_url": "https://api.github.com/users/zoff99/received_events",
                "repos_url": "https://api.github.com/users/zoff99/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zoff99/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zoff99/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zoff99",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Disclaimer: I'm not very familiar with the onion module, so my review is pretty useless. I can't confirm if there is a vulnerability, or if this patch is complete or if it's correct to limit onion routing to only two of those packet kinds. What I can say, however, is that this patch looks correct as far as C code goes and it makes sense.\n\n<img class=\"emoji\" title=\":lgtm_strong:\" alt=\":lgtm_strong:\" align=\"absmiddle\" src=\"https://reviewable.io/lgtm_strong.png\" height=\"20\" width=\"61\"/>\n\n---\n\nReviewed 2 of 2 files at r1.\nReview status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks broke.\n\n---\n\n\n\n*Comments from [Reviewable](https://beta.reviewable.io/reviews/toktok/c-toxcore/872#-:-LAF7EPf9HYHRJQ6Eofb:bkojgw3)*\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2018-04-16T20:27:12Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/872#issuecomment-381737987",
            "id": 381737987,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/872",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTczNzk4Nw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381737987/reactions"
            },
            "updated_at": "2018-04-16T20:27:12Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381737987",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1855294?v=4",
                "events_url": "https://api.github.com/users/nurupo/events{/privacy}",
                "followers_url": "https://api.github.com/users/nurupo/followers",
                "following_url": "https://api.github.com/users/nurupo/following{/other_user}",
                "gists_url": "https://api.github.com/users/nurupo/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nurupo",
                "id": 1855294,
                "login": "nurupo",
                "node_id": "MDQ6VXNlcjE4NTUyOTQ=",
                "organizations_url": "https://api.github.com/users/nurupo/orgs",
                "received_events_url": "https://api.github.com/users/nurupo/received_events",
                "repos_url": "https://api.github.com/users/nurupo/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nurupo/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nurupo/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nurupo",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "<img class=\"emoji\" title=\":lgtm_strong:\" alt=\":lgtm_strong:\" align=\"absmiddle\" src=\"https://reviewable.io/lgtm_strong.png\" height=\"20\" width=\"61\"/>\n\n---\n\nReviewed 2 of 2 files at r1.\nReview status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks broke.\n\n---\n\n\n\n*Comments from [Reviewable](https://beta.reviewable.io/reviews/toktok/c-toxcore/872#-:-LAFMPl9549fLg2CmhU7:b-jbsf8z)*\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2018-04-16T21:30:27Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/872#issuecomment-381756296",
            "id": 381756296,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/872",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTc1NjI5Ng==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381756296/reactions"
            },
            "updated_at": "2018-04-16T21:30:27Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381756296",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8304462?v=4",
                "events_url": "https://api.github.com/users/robinlinden/events{/privacy}",
                "followers_url": "https://api.github.com/users/robinlinden/followers",
                "following_url": "https://api.github.com/users/robinlinden/following{/other_user}",
                "gists_url": "https://api.github.com/users/robinlinden/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/robinlinden",
                "id": 8304462,
                "login": "robinlinden",
                "node_id": "MDQ6VXNlcjgzMDQ0NjI=",
                "organizations_url": "https://api.github.com/users/robinlinden/orgs",
                "received_events_url": "https://api.github.com/users/robinlinden/received_events",
                "repos_url": "https://api.github.com/users/robinlinden/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/robinlinden/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/robinlinden/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/robinlinden",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Thank you for both reporting and fixing this! :)\r\nI'm out of time tonight, but I'll push a release with this and #867 (if done, otherwise I'll cherry-pick the commit that fixes with autotools build from it) tomorrow evening.",
            "created_at": "2018-04-16T21:59:33Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/872#issuecomment-381763701",
            "id": 381763701,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/872",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTc2MzcwMQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381763701/reactions"
            },
            "updated_at": "2018-04-16T21:59:33Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/381763701",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8304462?v=4",
                "events_url": "https://api.github.com/users/robinlinden/events{/privacy}",
                "followers_url": "https://api.github.com/users/robinlinden/followers",
                "following_url": "https://api.github.com/users/robinlinden/following{/other_user}",
                "gists_url": "https://api.github.com/users/robinlinden/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/robinlinden",
                "id": 8304462,
                "login": "robinlinden",
                "node_id": "MDQ6VXNlcjgzMDQ0NjI=",
                "organizations_url": "https://api.github.com/users/robinlinden/orgs",
                "received_events_url": "https://api.github.com/users/robinlinden/received_events",
                "repos_url": "https://api.github.com/users/robinlinden/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/robinlinden/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/robinlinden/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/robinlinden",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "@kurnevsky Could you explain why is it not enough to update only your node to be protected yourself?",
            "created_at": "2018-04-18T02:58:16Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/872#issuecomment-382236110",
            "id": 382236110,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/872",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4MjIzNjExMA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/382236110/reactions"
            },
            "updated_at": "2018-04-18T04:39:19Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/382236110",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1855294?v=4",
                "events_url": "https://api.github.com/users/nurupo/events{/privacy}",
                "followers_url": "https://api.github.com/users/nurupo/followers",
                "following_url": "https://api.github.com/users/nurupo/following{/other_user}",
                "gists_url": "https://api.github.com/users/nurupo/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nurupo",
                "id": 1855294,
                "login": "nurupo",
                "node_id": "MDQ6VXNlcjE4NTUyOTQ=",
                "organizations_url": "https://api.github.com/users/nurupo/orgs",
                "received_events_url": "https://api.github.com/users/nurupo/received_events",
                "repos_url": "https://api.github.com/users/nurupo/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nurupo/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nurupo/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nurupo",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Alright, I figured it out.\r\n\r\nTo answer my own question, the issue is that the final destination of an onion reply has no idea if the packet it received comes from an onion or not.\r\n\r\nFrom the [Tox spec](https://github.com/TokTok/spec/blob/master/spec.md) (linking to the md file because the website doesn't render the diagram for some reason):\r\n\r\n```\r\npeer\r\n  -> [onion1[onion2[onion3[data]]]] -> Node A\r\n  -> [onion2[onion3[data]]][sendbackA] -> Node B\r\n  -> [onion3[data]][sendbackB[sendbackA]] -> Node C\r\n  -> [data][SendbackC[sendbackB[sendbackA]]]-> Node D (end)\r\n\r\nNode D\r\n  -> [SendbackC[sendbackB[sendbackA]]][response] -> Node C\r\n  -> [sendbackB[sendbackA]][response] -> Node B\r\n  -> [sendbackA][response] -> Node A\r\n  -> [response] -> peer\r\n```\r\n\r\nYou can see that when `Node D` sends a reply back to `peer`, `peer` has no idea whether the packet received from `Node A` was sent by `Node A` on her own behalf or on someone else's behalf through onion.",
            "created_at": "2018-04-18T05:22:36Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/872#issuecomment-382265497",
            "id": 382265497,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/872",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4MjI2NTQ5Nw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/382265497/reactions"
            },
            "updated_at": "2018-04-18T05:22:36Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/382265497",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1855294?v=4",
                "events_url": "https://api.github.com/users/nurupo/events{/privacy}",
                "followers_url": "https://api.github.com/users/nurupo/followers",
                "following_url": "https://api.github.com/users/nurupo/following{/other_user}",
                "gists_url": "https://api.github.com/users/nurupo/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nurupo",
                "id": 1855294,
                "login": "nurupo",
                "node_id": "MDQ6VXNlcjE4NTUyOTQ=",
                "organizations_url": "https://api.github.com/users/nurupo/orgs",
                "received_events_url": "https://api.github.com/users/nurupo/received_events",
                "repos_url": "https://api.github.com/users/nurupo/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nurupo/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nurupo/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nurupo",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "@nurupo you are right, that's why I suggested to restrict packet kinds. In the future we could verify onion paths (that it has at least one updated node), but it seems there is no easy way to get version of dht node. Anyway tox network should be updated (at least partly) to add such check.",
            "created_at": "2018-04-18T06:14:59Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/872#issuecomment-382274561",
            "id": 382274561,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/872",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4MjI3NDU2MQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/382274561/reactions"
            },
            "updated_at": "2018-04-18T06:14:59Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/382274561",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2943605?v=4",
                "events_url": "https://api.github.com/users/kurnevsky/events{/privacy}",
                "followers_url": "https://api.github.com/users/kurnevsky/followers",
                "following_url": "https://api.github.com/users/kurnevsky/following{/other_user}",
                "gists_url": "https://api.github.com/users/kurnevsky/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kurnevsky",
                "id": 2943605,
                "login": "kurnevsky",
                "node_id": "MDQ6VXNlcjI5NDM2MDU=",
                "organizations_url": "https://api.github.com/users/kurnevsky/orgs",
                "received_events_url": "https://api.github.com/users/kurnevsky/received_events",
                "repos_url": "https://api.github.com/users/kurnevsky/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kurnevsky/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kurnevsky/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kurnevsky",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "We could look into introducing a non-backwards compatible change into the wire protocol such that updated peers wouldn't be able to communicate with older peers, like DHT version bump or something. That way, if you are updated, you are guaranteed to be secure. Also, this would make others users aware of the update going on.",
            "created_at": "2018-04-18T06:19:45Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/872#issuecomment-382275460",
            "id": 382275460,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/872",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4MjI3NTQ2MA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/382275460/reactions"
            },
            "updated_at": "2018-04-18T06:21:34Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/382275460",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1855294?v=4",
                "events_url": "https://api.github.com/users/nurupo/events{/privacy}",
                "followers_url": "https://api.github.com/users/nurupo/followers",
                "following_url": "https://api.github.com/users/nurupo/following{/other_user}",
                "gists_url": "https://api.github.com/users/nurupo/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nurupo",
                "id": 1855294,
                "login": "nurupo",
                "node_id": "MDQ6VXNlcjE4NTUyOTQ=",
                "organizations_url": "https://api.github.com/users/nurupo/orgs",
                "received_events_url": "https://api.github.com/users/nurupo/received_events",
                "repos_url": "https://api.github.com/users/nurupo/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nurupo/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nurupo/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nurupo",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 26,
    "comments_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/872/comments",
    "commit_data": [
        {
            "author": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2943605?v=4",
                "events_url": "https://api.github.com/users/kurnevsky/events{/privacy}",
                "followers_url": "https://api.github.com/users/kurnevsky/followers",
                "following_url": "https://api.github.com/users/kurnevsky/following{/other_user}",
                "gists_url": "https://api.github.com/users/kurnevsky/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kurnevsky",
                "id": 2943605,
                "login": "kurnevsky",
                "node_id": "MDQ6VXNlcjI5NDM2MDU=",
                "organizations_url": "https://api.github.com/users/kurnevsky/orgs",
                "received_events_url": "https://api.github.com/users/kurnevsky/received_events",
                "repos_url": "https://api.github.com/users/kurnevsky/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kurnevsky/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kurnevsky/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kurnevsky",
                "user_view_type": "public"
            },
            "comments_url": "https://api.github.com/repos/TokTok/c-toxcore/commits/6b97acb773622f9abca5ef305cd55bdef1ecc484/comments",
            "commit": {
                "author": {
                    "date": "2018-04-15T06:27:17Z",
                    "email": "kurnevsky@gmail.com",
                    "name": "Evgeny Kurnevsky"
                },
                "comment_count": 0,
                "committer": {
                    "date": "2018-04-15T06:51:41Z",
                    "email": "kurnevsky@gmail.com",
                    "name": "Evgeny Kurnevsky"
                },
                "message": "Restrict packet kinds that can be sent through onion path.",
                "tree": {
                    "sha": "b193734798c9f1c2cf6323aa96033f3fa576b903",
                    "url": "https://api.github.com/repos/TokTok/c-toxcore/git/trees/b193734798c9f1c2cf6323aa96033f3fa576b903"
                },
                "url": "https://api.github.com/repos/TokTok/c-toxcore/git/commits/6b97acb773622f9abca5ef305cd55bdef1ecc484",
                "verification": {
                    "payload": "tree b193734798c9f1c2cf6323aa96033f3fa576b903\nparent 09478f99578df9d9fd477e0c0b53cb0d74c09e2a\nauthor Evgeny Kurnevsky <kurnevsky@gmail.com> 1523773637 +0300\ncommitter Evgeny Kurnevsky <kurnevsky@gmail.com> 1523775101 +0300\n\nRestrict packet kinds that can be sent through onion path.\n",
                    "reason": "valid",
                    "signature": "-----BEGIN PGP SIGNATURE-----\n\niQJIBAABCAAyFiEE6SqLCtgMIN90uPPrj/RE5UEtdQwFAlrS9oAUHGt1cm5ldnNr\neUBnbWFpbC5jb20ACgkQj/RE5UEtdQwZEBAAtcqkz2c6tyPrOdKs4NfrBTfVXisg\nLZT5Oepnc310qSwBhF60/rOf17tA+7t3SOrC618N6NXI0vVNg+hT6wfOWqBYTcim\n39es+GAxiTnAJfWX8qepqqyYUHG0GN4hi22dWCydROZdijN9tzZXTLW0D9zquN2Y\nK+HjAwXqN6VknfMBBV7PbbzD47xxKtPXmdIJswKfVfD+8onIRqpoKFyX+jXo7VR5\nV7IjX7XtbQE5Pr+tKs0+TooS/P0E2ZWzScIiCTjR3/zzVepW0ZzyXelTE0Kvwvso\np0XvhIjDui0eAJyQjTQunGVuH3gXs47wlOhtOTQqEKFhM8+msTGjD1jdPTZEe4a0\nJdY11Hpw++E0OmQhIc8LnWQJ1i/oq8Xor3onRivQt8FZ9pvcrI45jqsCtIgAZbRX\n7jW89LoFaxWpLYwuw5Z3WbgpEXQuj1zmDQe49NhjARVYqiqoP6aJETyd/vkyTPAU\n2tDXu0qA1cJTagD45e8oP4yr+51iDJButFoyCHEbPaoPkmHGzHrdCRYu9mW8I2O0\nNBrPmQ7Xbkw5xadWeNHA8aE7eDGDQ5JBML7LCIqFBcNUlJNZErtMykOW2VtzRAu1\nDEHpB4OPbFvEB3/XAzgd1ZFdq2DTqR7VF2RO7ZHSeANXxQD1pdYPSLH9duokPED1\n13YJoWAX9ladJls=\n=EBit\n-----END PGP SIGNATURE-----",
                    "verified": true,
                    "verified_at": "2024-11-16T00:57:08Z"
                }
            },
            "committer": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2943605?v=4",
                "events_url": "https://api.github.com/users/kurnevsky/events{/privacy}",
                "followers_url": "https://api.github.com/users/kurnevsky/followers",
                "following_url": "https://api.github.com/users/kurnevsky/following{/other_user}",
                "gists_url": "https://api.github.com/users/kurnevsky/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kurnevsky",
                "id": 2943605,
                "login": "kurnevsky",
                "node_id": "MDQ6VXNlcjI5NDM2MDU=",
                "organizations_url": "https://api.github.com/users/kurnevsky/orgs",
                "received_events_url": "https://api.github.com/users/kurnevsky/received_events",
                "repos_url": "https://api.github.com/users/kurnevsky/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kurnevsky/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kurnevsky/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kurnevsky",
                "user_view_type": "public"
            },
            "html_url": "https://github.com/TokTok/c-toxcore/commit/6b97acb773622f9abca5ef305cd55bdef1ecc484",
            "node_id": "MDY6Q29tbWl0MTI5NTgzMTAyOjZiOTdhY2I3NzM2MjJmOWFiY2E1ZWYzMDVjZDU1YmRlZjFlY2M0ODQ=",
            "parents": [
                {
                    "html_url": "https://github.com/TokTok/c-toxcore/commit/09478f99578df9d9fd477e0c0b53cb0d74c09e2a",
                    "sha": "09478f99578df9d9fd477e0c0b53cb0d74c09e2a",
                    "url": "https://api.github.com/repos/TokTok/c-toxcore/commits/09478f99578df9d9fd477e0c0b53cb0d74c09e2a"
                }
            ],
            "sha": "6b97acb773622f9abca5ef305cd55bdef1ecc484",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/commits/6b97acb773622f9abca5ef305cd55bdef1ecc484"
        }
    ],
    "commits": 1,
    "commits_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/872/commits",
    "created_at": "2018-04-15T06:45:29Z",
    "deletions": 9,
    "diff_url": "https://github.com/TokTok/c-toxcore/pull/872.diff",
    "draft": false,
    "head": {
        "label": "kurnevsky:restrict_onion_packets",
        "ref": "restrict_onion_packets",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/kurnevsky/c-toxcore/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/kurnevsky/c-toxcore/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/kurnevsky/c-toxcore/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/kurnevsky/c-toxcore/branches{/branch}",
            "clone_url": "https://github.com/kurnevsky/c-toxcore.git",
            "collaborators_url": "https://api.github.com/repos/kurnevsky/c-toxcore/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/kurnevsky/c-toxcore/comments{/number}",
            "commits_url": "https://api.github.com/repos/kurnevsky/c-toxcore/commits{/sha}",
            "compare_url": "https://api.github.com/repos/kurnevsky/c-toxcore/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/kurnevsky/c-toxcore/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/kurnevsky/c-toxcore/contributors",
            "created_at": "2018-04-15T06:22:55Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/kurnevsky/c-toxcore/deployments",
            "description": "The future of online communications.",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/kurnevsky/c-toxcore/downloads",
            "events_url": "https://api.github.com/repos/kurnevsky/c-toxcore/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/kurnevsky/c-toxcore/forks",
            "full_name": "kurnevsky/c-toxcore",
            "git_commits_url": "https://api.github.com/repos/kurnevsky/c-toxcore/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/kurnevsky/c-toxcore/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/kurnevsky/c-toxcore/git/tags{/sha}",
            "git_url": "git://github.com/kurnevsky/c-toxcore.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": false,
            "homepage": "https://tox.chat/",
            "hooks_url": "https://api.github.com/repos/kurnevsky/c-toxcore/hooks",
            "html_url": "https://github.com/kurnevsky/c-toxcore",
            "id": 129583102,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/kurnevsky/c-toxcore/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/kurnevsky/c-toxcore/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/kurnevsky/c-toxcore/issues{/number}",
            "keys_url": "https://api.github.com/repos/kurnevsky/c-toxcore/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/kurnevsky/c-toxcore/labels{/name}",
            "language": "C",
            "languages_url": "https://api.github.com/repos/kurnevsky/c-toxcore/languages",
            "license": {
                "key": "gpl-3.0",
                "name": "GNU General Public License v3.0",
                "node_id": "MDc6TGljZW5zZTk=",
                "spdx_id": "GPL-3.0",
                "url": "https://api.github.com/licenses/gpl-3.0"
            },
            "merges_url": "https://api.github.com/repos/kurnevsky/c-toxcore/merges",
            "milestones_url": "https://api.github.com/repos/kurnevsky/c-toxcore/milestones{/number}",
            "mirror_url": null,
            "name": "c-toxcore",
            "node_id": "MDEwOlJlcG9zaXRvcnkxMjk1ODMxMDI=",
            "notifications_url": "https://api.github.com/repos/kurnevsky/c-toxcore/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2943605?v=4",
                "events_url": "https://api.github.com/users/kurnevsky/events{/privacy}",
                "followers_url": "https://api.github.com/users/kurnevsky/followers",
                "following_url": "https://api.github.com/users/kurnevsky/following{/other_user}",
                "gists_url": "https://api.github.com/users/kurnevsky/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kurnevsky",
                "id": 2943605,
                "login": "kurnevsky",
                "node_id": "MDQ6VXNlcjI5NDM2MDU=",
                "organizations_url": "https://api.github.com/users/kurnevsky/orgs",
                "received_events_url": "https://api.github.com/users/kurnevsky/received_events",
                "repos_url": "https://api.github.com/users/kurnevsky/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kurnevsky/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kurnevsky/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kurnevsky",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/kurnevsky/c-toxcore/pulls{/number}",
            "pushed_at": "2019-05-01T14:40:51Z",
            "releases_url": "https://api.github.com/repos/kurnevsky/c-toxcore/releases{/id}",
            "size": 13612,
            "ssh_url": "git@github.com:kurnevsky/c-toxcore.git",
            "stargazers_count": 0,
            "stargazers_url": "https://api.github.com/repos/kurnevsky/c-toxcore/stargazers",
            "statuses_url": "https://api.github.com/repos/kurnevsky/c-toxcore/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/kurnevsky/c-toxcore/subscribers",
            "subscription_url": "https://api.github.com/repos/kurnevsky/c-toxcore/subscription",
            "svn_url": "https://github.com/kurnevsky/c-toxcore",
            "tags_url": "https://api.github.com/repos/kurnevsky/c-toxcore/tags",
            "teams_url": "https://api.github.com/repos/kurnevsky/c-toxcore/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/kurnevsky/c-toxcore/git/trees{/sha}",
            "updated_at": "2018-04-15T06:22:58Z",
            "url": "https://api.github.com/repos/kurnevsky/c-toxcore",
            "visibility": "public",
            "watchers": 0,
            "watchers_count": 0,
            "web_commit_signoff_required": false
        },
        "sha": "6b97acb773622f9abca5ef305cd55bdef1ecc484",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/2943605?v=4",
            "events_url": "https://api.github.com/users/kurnevsky/events{/privacy}",
            "followers_url": "https://api.github.com/users/kurnevsky/followers",
            "following_url": "https://api.github.com/users/kurnevsky/following{/other_user}",
            "gists_url": "https://api.github.com/users/kurnevsky/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/kurnevsky",
            "id": 2943605,
            "login": "kurnevsky",
            "node_id": "MDQ6VXNlcjI5NDM2MDU=",
            "organizations_url": "https://api.github.com/users/kurnevsky/orgs",
            "received_events_url": "https://api.github.com/users/kurnevsky/received_events",
            "repos_url": "https://api.github.com/users/kurnevsky/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/kurnevsky/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kurnevsky/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/kurnevsky",
            "user_view_type": "public"
        }
    },
    "html_url": "https://github.com/TokTok/c-toxcore/pull/872",
    "id": 181683953,
    "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/872",
    "labels": [],
    "locked": false,
    "maintainer_can_modify": false,
    "merge_commit_sha": "6b97acb773622f9abca5ef305cd55bdef1ecc484",
    "mergeable": null,
    "mergeable_state": "unknown",
    "merged": true,
    "merged_at": "2018-04-16T21:47:14Z",
    "merged_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/8304462?v=4",
        "events_url": "https://api.github.com/users/robinlinden/events{/privacy}",
        "followers_url": "https://api.github.com/users/robinlinden/followers",
        "following_url": "https://api.github.com/users/robinlinden/following{/other_user}",
        "gists_url": "https://api.github.com/users/robinlinden/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/robinlinden",
        "id": 8304462,
        "login": "robinlinden",
        "node_id": "MDQ6VXNlcjgzMDQ0NjI=",
        "organizations_url": "https://api.github.com/users/robinlinden/orgs",
        "received_events_url": "https://api.github.com/users/robinlinden/received_events",
        "repos_url": "https://api.github.com/users/robinlinden/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/robinlinden/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/robinlinden/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/robinlinden",
        "user_view_type": "public"
    },
    "milestone": {
        "closed_at": "2018-06-25T16:51:26Z",
        "closed_issues": 21,
        "created_at": "2018-03-09T20:49:06Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/8304462?v=4",
            "events_url": "https://api.github.com/users/robinlinden/events{/privacy}",
            "followers_url": "https://api.github.com/users/robinlinden/followers",
            "following_url": "https://api.github.com/users/robinlinden/following{/other_user}",
            "gists_url": "https://api.github.com/users/robinlinden/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/robinlinden",
            "id": 8304462,
            "login": "robinlinden",
            "node_id": "MDQ6VXNlcjgzMDQ0NjI=",
            "organizations_url": "https://api.github.com/users/robinlinden/orgs",
            "received_events_url": "https://api.github.com/users/robinlinden/received_events",
            "repos_url": "https://api.github.com/users/robinlinden/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/robinlinden/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/robinlinden/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/robinlinden",
            "user_view_type": "public"
        },
        "description": "",
        "due_on": "2018-03-31T07:00:00Z",
        "html_url": "https://github.com/TokTok/c-toxcore/milestone/29",
        "id": 3175070,
        "labels_url": "https://api.github.com/repos/TokTok/c-toxcore/milestones/29/labels",
        "node_id": "MDk6TWlsZXN0b25lMzE3NTA3MA==",
        "number": 29,
        "open_issues": 0,
        "state": "closed",
        "title": "v0.2.2",
        "updated_at": "2022-02-05T01:05:51Z",
        "url": "https://api.github.com/repos/TokTok/c-toxcore/milestones/29"
    },
    "node_id": "MDExOlB1bGxSZXF1ZXN0MTgxNjgzOTUz",
    "number": 872,
    "patch_url": "https://github.com/TokTok/c-toxcore/pull/872.patch",
    "rebaseable": null,
    "requested_reviewers": [],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments{/number}",
    "review_comments": 0,
    "review_comments_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/872/comments",
    "state": "closed",
    "statuses_url": "https://api.github.com/repos/TokTok/c-toxcore/statuses/6b97acb773622f9abca5ef305cd55bdef1ecc484",
    "title": "Restrict packet kinds that can be sent through onion path.",
    "updated_at": "2018-04-18T06:21:34Z",
    "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/872",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/2943605?v=4",
        "events_url": "https://api.github.com/users/kurnevsky/events{/privacy}",
        "followers_url": "https://api.github.com/users/kurnevsky/followers",
        "following_url": "https://api.github.com/users/kurnevsky/following{/other_user}",
        "gists_url": "https://api.github.com/users/kurnevsky/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/kurnevsky",
        "id": 2943605,
        "login": "kurnevsky",
        "node_id": "MDQ6VXNlcjI5NDM2MDU=",
        "organizations_url": "https://api.github.com/users/kurnevsky/orgs",
        "received_events_url": "https://api.github.com/users/kurnevsky/received_events",
        "repos_url": "https://api.github.com/users/kurnevsky/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/kurnevsky/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/kurnevsky/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/kurnevsky",
        "user_view_type": "public"
    }
}