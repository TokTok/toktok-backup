{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/TokTok/toxins/issues/20/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/TokTok/toxins/pulls/20/commits"
        },
        "html": {
            "href": "https://github.com/TokTok/toxins/pull/20"
        },
        "issue": {
            "href": "https://api.github.com/repos/TokTok/toxins/issues/20"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/TokTok/toxins/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/TokTok/toxins/pulls/20/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/TokTok/toxins/pulls/20"
        },
        "statuses": {
            "href": "https://api.github.com/repos/TokTok/toxins/statuses/d91f574f91db583f263e0808a49e4c9e869bdc64"
        }
    },
    "active_lock_reason": null,
    "additions": 97,
    "assignee": {
        "avatar_url": "https://avatars.githubusercontent.com/u/1855294?v=4",
        "events_url": "https://api.github.com/users/nurupo/events{/privacy}",
        "followers_url": "https://api.github.com/users/nurupo/followers",
        "following_url": "https://api.github.com/users/nurupo/following{/other_user}",
        "gists_url": "https://api.github.com/users/nurupo/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/nurupo",
        "id": 1855294,
        "login": "nurupo",
        "node_id": "MDQ6VXNlcjE4NTUyOTQ=",
        "organizations_url": "https://api.github.com/users/nurupo/orgs",
        "received_events_url": "https://api.github.com/users/nurupo/received_events",
        "repos_url": "https://api.github.com/users/nurupo/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/nurupo/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/nurupo/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/nurupo",
        "user_view_type": "public"
    },
    "assignees": [
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/1855294?v=4",
            "events_url": "https://api.github.com/users/nurupo/events{/privacy}",
            "followers_url": "https://api.github.com/users/nurupo/followers",
            "following_url": "https://api.github.com/users/nurupo/following{/other_user}",
            "gists_url": "https://api.github.com/users/nurupo/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/nurupo",
            "id": 1855294,
            "login": "nurupo",
            "node_id": "MDQ6VXNlcjE4NTUyOTQ=",
            "organizations_url": "https://api.github.com/users/nurupo/orgs",
            "received_events_url": "https://api.github.com/users/nurupo/received_events",
            "repos_url": "https://api.github.com/users/nurupo/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/nurupo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nurupo/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/nurupo",
            "user_view_type": "public"
        }
    ],
    "author_association": "MEMBER",
    "auto_merge": null,
    "base": {
        "label": "TokTok:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/TokTok/toxins/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/TokTok/toxins/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/TokTok/toxins/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/TokTok/toxins/branches{/branch}",
            "clone_url": "https://github.com/TokTok/toxins.git",
            "collaborators_url": "https://api.github.com/repos/TokTok/toxins/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/TokTok/toxins/comments{/number}",
            "commits_url": "https://api.github.com/repos/TokTok/toxins/commits{/sha}",
            "compare_url": "https://api.github.com/repos/TokTok/toxins/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/TokTok/toxins/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/TokTok/toxins/contributors",
            "created_at": "2018-02-02T11:41:02Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/TokTok/toxins/deployments",
            "description": "A collection of small programs using toxcore.",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/TokTok/toxins/downloads",
            "events_url": "https://api.github.com/repos/TokTok/toxins/events",
            "fork": false,
            "forks": 4,
            "forks_count": 4,
            "forks_url": "https://api.github.com/repos/TokTok/toxins/forks",
            "full_name": "TokTok/toxins",
            "git_commits_url": "https://api.github.com/repos/TokTok/toxins/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/TokTok/toxins/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/TokTok/toxins/git/tags{/sha}",
            "git_url": "git://github.com/TokTok/toxins.git",
            "has_discussions": false,
            "has_downloads": false,
            "has_issues": true,
            "has_pages": false,
            "has_projects": false,
            "has_wiki": false,
            "homepage": "https://toktok.ltd/",
            "hooks_url": "https://api.github.com/repos/TokTok/toxins/hooks",
            "html_url": "https://github.com/TokTok/toxins",
            "id": 119974757,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/TokTok/toxins/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/TokTok/toxins/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/TokTok/toxins/issues{/number}",
            "keys_url": "https://api.github.com/repos/TokTok/toxins/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/TokTok/toxins/labels{/name}",
            "language": "C",
            "languages_url": "https://api.github.com/repos/TokTok/toxins/languages",
            "license": {
                "key": "gpl-3.0",
                "name": "GNU General Public License v3.0",
                "node_id": "MDc6TGljZW5zZTk=",
                "spdx_id": "GPL-3.0",
                "url": "https://api.github.com/licenses/gpl-3.0"
            },
            "merges_url": "https://api.github.com/repos/TokTok/toxins/merges",
            "milestones_url": "https://api.github.com/repos/TokTok/toxins/milestones{/number}",
            "mirror_url": null,
            "name": "toxins",
            "node_id": "MDEwOlJlcG9zaXRvcnkxMTk5NzQ3NTc=",
            "notifications_url": "https://api.github.com/repos/TokTok/toxins/notifications{?since,all,participating}",
            "open_issues": 1,
            "open_issues_count": 1,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/17427091?v=4",
                "events_url": "https://api.github.com/users/TokTok/events{/privacy}",
                "followers_url": "https://api.github.com/users/TokTok/followers",
                "following_url": "https://api.github.com/users/TokTok/following{/other_user}",
                "gists_url": "https://api.github.com/users/TokTok/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/TokTok",
                "id": 17427091,
                "login": "TokTok",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3NDI3MDkx",
                "organizations_url": "https://api.github.com/users/TokTok/orgs",
                "received_events_url": "https://api.github.com/users/TokTok/received_events",
                "repos_url": "https://api.github.com/users/TokTok/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/TokTok/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/TokTok/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/TokTok",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/TokTok/toxins/pulls{/number}",
            "pushed_at": "2025-01-22T08:31:14Z",
            "releases_url": "https://api.github.com/repos/TokTok/toxins/releases{/id}",
            "size": 92,
            "ssh_url": "git@github.com:TokTok/toxins.git",
            "stargazers_count": 13,
            "stargazers_url": "https://api.github.com/repos/TokTok/toxins/stargazers",
            "statuses_url": "https://api.github.com/repos/TokTok/toxins/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/TokTok/toxins/subscribers",
            "subscription_url": "https://api.github.com/repos/TokTok/toxins/subscription",
            "svn_url": "https://github.com/TokTok/toxins",
            "tags_url": "https://api.github.com/repos/TokTok/toxins/tags",
            "teams_url": "https://api.github.com/repos/TokTok/toxins/teams",
            "topics": [
                "toxcore"
            ],
            "trees_url": "https://api.github.com/repos/TokTok/toxins/git/trees{/sha}",
            "updated_at": "2025-01-07T13:49:03Z",
            "url": "https://api.github.com/repos/TokTok/toxins",
            "visibility": "public",
            "watchers": 13,
            "watchers_count": 13,
            "web_commit_signoff_required": false
        },
        "sha": "99c6de3ec6aea6a546b76b52fd7a10a46e995d34",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/17427091?v=4",
            "events_url": "https://api.github.com/users/TokTok/events{/privacy}",
            "followers_url": "https://api.github.com/users/TokTok/followers",
            "following_url": "https://api.github.com/users/TokTok/following{/other_user}",
            "gists_url": "https://api.github.com/users/TokTok/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/TokTok",
            "id": 17427091,
            "login": "TokTok",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3NDI3MDkx",
            "organizations_url": "https://api.github.com/users/TokTok/orgs",
            "received_events_url": "https://api.github.com/users/TokTok/received_events",
            "repos_url": "https://api.github.com/users/TokTok/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/TokTok/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/TokTok/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/TokTok",
            "user_view_type": "public"
        }
    },
    "body": "- Added working bootstrap nodes\r\n- Removed the useless 4th member of the `DHT_node` struct\r\n- Updated to [the full example from wiki](https://wiki.tox.chat/developers/client_examples/echo_bot) instead of the minimal one (more functions + creates toxsave file)\r\n- Astyled with c-toxcore's rules\r\n- No warnings with `-Wall -Wextra -pedantic -Wno-unused-parameter`\n\n<!-- Reviewable:start -->\n---\nThis change isâ€‚[<img src=\"https://reviewable.io/review_button.svg\" height=\"34\" align=\"absmiddle\" alt=\"Reviewable\"/>](https://reviewable.io/reviews/toktok/toxins/20)\n<!-- Reviewable:end -->\n",
    "changed_files": 1,
    "closed_at": "2021-12-29T01:18:15Z",
    "comment_data": [
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/toxins/pull/20#discussion_r415354733"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/toxins/pulls/20"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/toxins/pulls/comments/415354733"
                }
            },
            "author_association": "MEMBER",
            "body": "`static const char *const savedata_filename`",
            "commit_id": "d91f574f91db583f263e0808a49e4c9e869bdc64",
            "created_at": "2020-04-26T17:06:57Z",
            "diff_hunk": "@@ -18,22 +18,111 @@ typedef struct DHT_node {\n     const char *ip;\n     uint16_t port;\n     const char key_hex[TOX_PUBLIC_KEY_SIZE * 2 + 1];\n-    unsigned char key_bin[TOX_PUBLIC_KEY_SIZE];\n } DHT_node;\n \n+const char *savedata_filename = \"savedata.tox\";",
            "html_url": "https://github.com/TokTok/toxins/pull/20#discussion_r415354733",
            "id": 415354733,
            "line": 23,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTM1NDczMw==",
            "original_commit_id": "21986df78d8413bd0b8df84006c61303e8479541",
            "original_line": 23,
            "original_position": 7,
            "original_start_line": null,
            "path": "echobot/echobot.c",
            "position": 7,
            "pull_request_review_id": 400526406,
            "pull_request_url": "https://api.github.com/repos/TokTok/toxins/pulls/20",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/toxins/pulls/comments/415354733/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2020-05-04T17:06:32Z",
            "url": "https://api.github.com/repos/TokTok/toxins/pulls/comments/415354733",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/toxins/pull/20#discussion_r415361849"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/toxins/pulls/20"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/toxins/pulls/comments/415361849"
                }
            },
            "author_association": "MEMBER",
            "body": "Was this change intentional?",
            "commit_id": "d91f574f91db583f263e0808a49e4c9e869bdc64",
            "created_at": "2020-04-26T17:43:21Z",
            "diff_hunk": "@@ -18,22 +18,111 @@ typedef struct DHT_node {\n     const char *ip;\n     uint16_t port;\n     const char key_hex[TOX_PUBLIC_KEY_SIZE * 2 + 1];\n-    unsigned char key_bin[TOX_PUBLIC_KEY_SIZE];\n } DHT_node;\n \n+const char *savedata_filename = \"savedata.tox\";\n+const char *savedata_tmp_filename = \"savedata.tox.tmp\";\n+\n+Tox *create_tox()\n+{\n+    Tox *tox;\n+\n+    struct Tox_Options options;\n+\n+    tox_options_default(&options);\n+\n+    FILE *f = fopen(savedata_filename, \"rb\");\n+\n+    if (f) {\n+        fseek(f, 0, SEEK_END);\n+        long fsize = ftell(f);\n+        fseek(f, 0, SEEK_SET);\n+\n+        uint8_t *savedata = malloc(fsize);\n+\n+        fread(savedata, fsize, 1, f);\n+        fclose(f);\n+\n+        options.savedata_type = TOX_SAVEDATA_TYPE_TOX_SAVE;\n+        options.savedata_data = savedata;\n+        options.savedata_length = fsize;\n+\n+        tox = tox_new(&options, NULL);\n+\n+        free(savedata);\n+    } else {\n+        tox = tox_new(&options, NULL);\n+    }\n+\n+    return tox;\n+}\n+\n+void update_savedata_file(const Tox *tox)\n+{\n+    size_t size = tox_get_savedata_size(tox);\n+    uint8_t *savedata = malloc(size);\n+    tox_get_savedata(tox, savedata);\n+\n+    FILE *f = fopen(savedata_tmp_filename, \"wb\");\n+    fwrite(savedata, size, 1, f);\n+    fclose(f);\n+\n+    rename(savedata_tmp_filename, savedata_filename);\n+\n+    free(savedata);\n+}\n+\n+void bootstrap(Tox *tox)\n+{\n+    DHT_node nodes[] = {\n+        {\"85.143.221.42\",                      33445, \"DA4E4ED4B697F2E9B000EEFE3A34B554ACD3F45F5C96EAEA2516DD7FF9AF7B43\"},\n+        {\"2a04:ac00:1:9f00:5054:ff:fe01:becd\", 33445, \"DA4E4ED4B697F2E9B000EEFE3A34B554ACD3F45F5C96EAEA2516DD7FF9AF7B43\"},\n+        {\"78.46.73.141\",                       33445, \"02807CF4F8BB8FB390CC3794BDF1E8449E9A8392C5D3F2200019DA9F1E812E46\"},\n+        {\"2a01:4f8:120:4091::3\",               33445, \"02807CF4F8BB8FB390CC3794BDF1E8449E9A8392C5D3F2200019DA9F1E812E46\"},\n+        {\"tox.initramfs.io\",                   33445, \"3F0A45A268367C1BEA652F258C85F4A66DA76BCAA667A49E770BCC4917AB6A25\"},\n+        {\"tox2.abilinski.com\",                 33445, \"7A6098B590BDC73F9723FC59F82B3F9085A64D1B213AAF8E610FD351930D052D\"},\n+        {\"205.185.115.131\",                       53, \"3091C6BEB2A993F1C6300C16549FABA67098FF3D62C6D253828B531470B53D68\"},\n+        {\"tox.kurnevsky.net\",                  33445, \"82EF82BA33445A1F91A7DB27189ECFC0C013E06E3DA71F588ED692BED625EC23\"}\n+    };\n+\n+    for (size_t i = 0; i < sizeof(nodes) / sizeof(DHT_node); i ++) {\n+        unsigned char key_bin[TOX_PUBLIC_KEY_SIZE];\n+        sodium_hex2bin(key_bin, sizeof(key_bin), nodes[i].key_hex, sizeof(nodes[i].key_hex) - 1,\n+                       NULL, NULL, NULL);\n+        tox_bootstrap(tox, nodes[i].ip, nodes[i].port, key_bin, NULL);\n+    }\n+}\n+\n+void print_tox_id(Tox *tox)\n+{\n+    uint8_t tox_id_bin[TOX_ADDRESS_SIZE];\n+    tox_self_get_address(tox, tox_id_bin);\n+\n+    char tox_id_hex[TOX_ADDRESS_SIZE * 2 + 1];\n+    sodium_bin2hex(tox_id_hex, sizeof(tox_id_hex), tox_id_bin, sizeof(tox_id_bin));\n+\n+    for (size_t i = 0; i < sizeof(tox_id_hex) - 1; i ++) {\n+        tox_id_hex[i] = toupper(tox_id_hex[i]);\n+    }\n+\n+    printf(\"Tox ID: %s\\n\", tox_id_hex);\n+}\n+\n void friend_request_cb(Tox *tox, const uint8_t *public_key, const uint8_t *message, size_t length,\n                        void *user_data)\n {\n     tox_friend_add_norequest(tox, public_key, NULL);\n+\n+    update_savedata_file(tox);\n }\n \n-void friend_message_cb(Tox *tox, uint32_t friend_number, Tox_Message_Type type, const uint8_t *message,\n+void friend_message_cb(Tox *tox, uint32_t friend_number, TOX_MESSAGE_TYPE type, const uint8_t *message,",
            "html_url": "https://github.com/TokTok/toxins/pull/20#discussion_r415361849",
            "id": 415361849,
            "line": null,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTM2MTg0OQ==",
            "original_commit_id": "21986df78d8413bd0b8df84006c61303e8479541",
            "original_line": 119,
            "original_position": 104,
            "original_start_line": null,
            "path": "echobot/echobot.c",
            "position": null,
            "pull_request_review_id": 400529978,
            "pull_request_url": "https://api.github.com/repos/TokTok/toxins/pulls/20",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/toxins/pulls/comments/415361849/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2020-05-04T17:06:32Z",
            "url": "https://api.github.com/repos/TokTok/toxins/pulls/comments/415361849",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/toxins/pull/20#discussion_r415384024"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/toxins/pulls/20"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/toxins/pulls/comments/415384024"
                }
            },
            "author_association": "MEMBER",
            "body": "No, will fix that. I have updated https://wiki.tox.chat/developers/client_examples/echo_bot which I have back-ported here, but I guess I also changed back those types by mistake when copy-pasting.",
            "commit_id": "d91f574f91db583f263e0808a49e4c9e869bdc64",
            "created_at": "2020-04-26T19:37:13Z",
            "diff_hunk": "@@ -18,22 +18,111 @@ typedef struct DHT_node {\n     const char *ip;\n     uint16_t port;\n     const char key_hex[TOX_PUBLIC_KEY_SIZE * 2 + 1];\n-    unsigned char key_bin[TOX_PUBLIC_KEY_SIZE];\n } DHT_node;\n \n+const char *savedata_filename = \"savedata.tox\";\n+const char *savedata_tmp_filename = \"savedata.tox.tmp\";\n+\n+Tox *create_tox()\n+{\n+    Tox *tox;\n+\n+    struct Tox_Options options;\n+\n+    tox_options_default(&options);\n+\n+    FILE *f = fopen(savedata_filename, \"rb\");\n+\n+    if (f) {\n+        fseek(f, 0, SEEK_END);\n+        long fsize = ftell(f);\n+        fseek(f, 0, SEEK_SET);\n+\n+        uint8_t *savedata = malloc(fsize);\n+\n+        fread(savedata, fsize, 1, f);\n+        fclose(f);\n+\n+        options.savedata_type = TOX_SAVEDATA_TYPE_TOX_SAVE;\n+        options.savedata_data = savedata;\n+        options.savedata_length = fsize;\n+\n+        tox = tox_new(&options, NULL);\n+\n+        free(savedata);\n+    } else {\n+        tox = tox_new(&options, NULL);\n+    }\n+\n+    return tox;\n+}\n+\n+void update_savedata_file(const Tox *tox)\n+{\n+    size_t size = tox_get_savedata_size(tox);\n+    uint8_t *savedata = malloc(size);\n+    tox_get_savedata(tox, savedata);\n+\n+    FILE *f = fopen(savedata_tmp_filename, \"wb\");\n+    fwrite(savedata, size, 1, f);\n+    fclose(f);\n+\n+    rename(savedata_tmp_filename, savedata_filename);\n+\n+    free(savedata);\n+}\n+\n+void bootstrap(Tox *tox)\n+{\n+    DHT_node nodes[] = {\n+        {\"85.143.221.42\",                      33445, \"DA4E4ED4B697F2E9B000EEFE3A34B554ACD3F45F5C96EAEA2516DD7FF9AF7B43\"},\n+        {\"2a04:ac00:1:9f00:5054:ff:fe01:becd\", 33445, \"DA4E4ED4B697F2E9B000EEFE3A34B554ACD3F45F5C96EAEA2516DD7FF9AF7B43\"},\n+        {\"78.46.73.141\",                       33445, \"02807CF4F8BB8FB390CC3794BDF1E8449E9A8392C5D3F2200019DA9F1E812E46\"},\n+        {\"2a01:4f8:120:4091::3\",               33445, \"02807CF4F8BB8FB390CC3794BDF1E8449E9A8392C5D3F2200019DA9F1E812E46\"},\n+        {\"tox.initramfs.io\",                   33445, \"3F0A45A268367C1BEA652F258C85F4A66DA76BCAA667A49E770BCC4917AB6A25\"},\n+        {\"tox2.abilinski.com\",                 33445, \"7A6098B590BDC73F9723FC59F82B3F9085A64D1B213AAF8E610FD351930D052D\"},\n+        {\"205.185.115.131\",                       53, \"3091C6BEB2A993F1C6300C16549FABA67098FF3D62C6D253828B531470B53D68\"},\n+        {\"tox.kurnevsky.net\",                  33445, \"82EF82BA33445A1F91A7DB27189ECFC0C013E06E3DA71F588ED692BED625EC23\"}\n+    };\n+\n+    for (size_t i = 0; i < sizeof(nodes) / sizeof(DHT_node); i ++) {\n+        unsigned char key_bin[TOX_PUBLIC_KEY_SIZE];\n+        sodium_hex2bin(key_bin, sizeof(key_bin), nodes[i].key_hex, sizeof(nodes[i].key_hex) - 1,\n+                       NULL, NULL, NULL);\n+        tox_bootstrap(tox, nodes[i].ip, nodes[i].port, key_bin, NULL);\n+    }\n+}\n+\n+void print_tox_id(Tox *tox)\n+{\n+    uint8_t tox_id_bin[TOX_ADDRESS_SIZE];\n+    tox_self_get_address(tox, tox_id_bin);\n+\n+    char tox_id_hex[TOX_ADDRESS_SIZE * 2 + 1];\n+    sodium_bin2hex(tox_id_hex, sizeof(tox_id_hex), tox_id_bin, sizeof(tox_id_bin));\n+\n+    for (size_t i = 0; i < sizeof(tox_id_hex) - 1; i ++) {\n+        tox_id_hex[i] = toupper(tox_id_hex[i]);\n+    }\n+\n+    printf(\"Tox ID: %s\\n\", tox_id_hex);\n+}\n+\n void friend_request_cb(Tox *tox, const uint8_t *public_key, const uint8_t *message, size_t length,\n                        void *user_data)\n {\n     tox_friend_add_norequest(tox, public_key, NULL);\n+\n+    update_savedata_file(tox);\n }\n \n-void friend_message_cb(Tox *tox, uint32_t friend_number, Tox_Message_Type type, const uint8_t *message,\n+void friend_message_cb(Tox *tox, uint32_t friend_number, TOX_MESSAGE_TYPE type, const uint8_t *message,",
            "html_url": "https://github.com/TokTok/toxins/pull/20#discussion_r415384024",
            "id": 415384024,
            "in_reply_to_id": 415361849,
            "line": null,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTM4NDAyNA==",
            "original_commit_id": "21986df78d8413bd0b8df84006c61303e8479541",
            "original_line": 119,
            "original_position": 104,
            "original_start_line": null,
            "path": "echobot/echobot.c",
            "position": null,
            "pull_request_review_id": 400541151,
            "pull_request_url": "https://api.github.com/repos/TokTok/toxins/pulls/20",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/toxins/pulls/comments/415384024/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2020-05-04T17:06:32Z",
            "url": "https://api.github.com/repos/TokTok/toxins/pulls/comments/415384024",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1855294?v=4",
                "events_url": "https://api.github.com/users/nurupo/events{/privacy}",
                "followers_url": "https://api.github.com/users/nurupo/followers",
                "following_url": "https://api.github.com/users/nurupo/following{/other_user}",
                "gists_url": "https://api.github.com/users/nurupo/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nurupo",
                "id": 1855294,
                "login": "nurupo",
                "node_id": "MDQ6VXNlcjE4NTUyOTQ=",
                "organizations_url": "https://api.github.com/users/nurupo/orgs",
                "received_events_url": "https://api.github.com/users/nurupo/received_events",
                "repos_url": "https://api.github.com/users/nurupo/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nurupo/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nurupo/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nurupo",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/toxins/pull/20#discussion_r415386930"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/toxins/pulls/20"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/toxins/pulls/comments/415386930"
                }
            },
            "author_association": "MEMBER",
            "body": "What about functions being non-static or `Tox *create_tox()` not being `Tox *create_tox(void)`, or not checking return values of almost all functions that can fail, or using  [non portable](https://wiki.sei.cmu.edu/confluence/display/c/FIO19-C.+Do+not+use+fseek%28%29+and+ftell%28%29+to+compute+the+size+of+a+regular+file) `fseek(f, 0, SEEK_END)`, assigning an int to a char `tox_id_hex[i] = toupper(tox_id_hex[i])` , or...\r\n\r\nwell, there are many things wrong with this code, however that's not the point. The point is for it to be readable, with as little unnecessary error checking, typing and casting clutter as possible, to serve as a tutorial on how to get started with tox and write a simple tox client.",
            "commit_id": "d91f574f91db583f263e0808a49e4c9e869bdc64",
            "created_at": "2020-04-26T19:52:26Z",
            "diff_hunk": "@@ -18,22 +18,111 @@ typedef struct DHT_node {\n     const char *ip;\n     uint16_t port;\n     const char key_hex[TOX_PUBLIC_KEY_SIZE * 2 + 1];\n-    unsigned char key_bin[TOX_PUBLIC_KEY_SIZE];\n } DHT_node;\n \n+const char *savedata_filename = \"savedata.tox\";",
            "html_url": "https://github.com/TokTok/toxins/pull/20#discussion_r415386930",
            "id": 415386930,
            "in_reply_to_id": 415354733,
            "line": 23,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTM4NjkzMA==",
            "original_commit_id": "21986df78d8413bd0b8df84006c61303e8479541",
            "original_line": 23,
            "original_position": 7,
            "original_start_line": null,
            "path": "echobot/echobot.c",
            "position": 7,
            "pull_request_review_id": 400542537,
            "pull_request_url": "https://api.github.com/repos/TokTok/toxins/pulls/20",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/toxins/pulls/comments/415386930/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2020-05-04T17:06:32Z",
            "url": "https://api.github.com/repos/TokTok/toxins/pulls/comments/415386930",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1855294?v=4",
                "events_url": "https://api.github.com/users/nurupo/events{/privacy}",
                "followers_url": "https://api.github.com/users/nurupo/followers",
                "following_url": "https://api.github.com/users/nurupo/following{/other_user}",
                "gists_url": "https://api.github.com/users/nurupo/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nurupo",
                "id": 1855294,
                "login": "nurupo",
                "node_id": "MDQ6VXNlcjE4NTUyOTQ=",
                "organizations_url": "https://api.github.com/users/nurupo/orgs",
                "received_events_url": "https://api.github.com/users/nurupo/received_events",
                "repos_url": "https://api.github.com/users/nurupo/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nurupo/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nurupo/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nurupo",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/TokTok/toxins/pull/20#discussion_r415404387"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/TokTok/toxins/pulls/20"
                },
                "self": {
                    "href": "https://api.github.com/repos/TokTok/toxins/pulls/comments/415404387"
                }
            },
            "author_association": "MEMBER",
            "body": "Well, at least that's the point of it on the wiki article, and the echobot was taken here from the wiki, so i'd like to keep them in sync.",
            "commit_id": "d91f574f91db583f263e0808a49e4c9e869bdc64",
            "created_at": "2020-04-26T21:24:52Z",
            "diff_hunk": "@@ -18,22 +18,111 @@ typedef struct DHT_node {\n     const char *ip;\n     uint16_t port;\n     const char key_hex[TOX_PUBLIC_KEY_SIZE * 2 + 1];\n-    unsigned char key_bin[TOX_PUBLIC_KEY_SIZE];\n } DHT_node;\n \n+const char *savedata_filename = \"savedata.tox\";",
            "html_url": "https://github.com/TokTok/toxins/pull/20#discussion_r415404387",
            "id": 415404387,
            "in_reply_to_id": 415354733,
            "line": 23,
            "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTQwNDM4Nw==",
            "original_commit_id": "21986df78d8413bd0b8df84006c61303e8479541",
            "original_line": 23,
            "original_position": 7,
            "original_start_line": null,
            "path": "echobot/echobot.c",
            "position": 7,
            "pull_request_review_id": 400550776,
            "pull_request_url": "https://api.github.com/repos/TokTok/toxins/pulls/20",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/toxins/pulls/comments/415404387/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2020-05-04T17:06:32Z",
            "url": "https://api.github.com/repos/TokTok/toxins/pulls/comments/415404387",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1855294?v=4",
                "events_url": "https://api.github.com/users/nurupo/events{/privacy}",
                "followers_url": "https://api.github.com/users/nurupo/followers",
                "following_url": "https://api.github.com/users/nurupo/following{/other_user}",
                "gists_url": "https://api.github.com/users/nurupo/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nurupo",
                "id": 1855294,
                "login": "nurupo",
                "node_id": "MDQ6VXNlcjE4NTUyOTQ=",
                "organizations_url": "https://api.github.com/users/nurupo/orgs",
                "received_events_url": "https://api.github.com/users/nurupo/received_events",
                "repos_url": "https://api.github.com/users/nurupo/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nurupo/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nurupo/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nurupo",
                "user_view_type": "public"
            }
        }
    ],
    "comment_regular_data": [
        {
            "author_association": "NONE",
            "body": "[![CLA assistant check](https://cla-assistant.io/pull/badge/not_signed)](https://cla-assistant.io/TokTok/toxins?pullRequest=20) <br/>Thank you for your submission! We really appreciate it. Like many open source projects, we ask that you sign our [Contributor License Agreement](https://cla-assistant.io/TokTok/toxins?pullRequest=20) before we can accept your contribution.<br/><sub>You have signed the CLA already but the status is still pending? Let us [recheck](https://cla-assistant.io/check/TokTok/toxins?pullRequest=20) it.</sub>",
            "created_at": "2020-03-23T22:16:34Z",
            "html_url": "https://github.com/TokTok/toxins/pull/20#issuecomment-602885893",
            "id": 602885893,
            "issue_url": "https://api.github.com/repos/TokTok/toxins/issues/20",
            "node_id": "MDEyOklzc3VlQ29tbWVudDYwMjg4NTg5Mw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/toxins/issues/comments/602885893/reactions"
            },
            "updated_at": "2020-03-23T22:16:34Z",
            "url": "https://api.github.com/repos/TokTok/toxins/issues/comments/602885893",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/11571300?v=4",
                "events_url": "https://api.github.com/users/CLAassistant/events{/privacy}",
                "followers_url": "https://api.github.com/users/CLAassistant/followers",
                "following_url": "https://api.github.com/users/CLAassistant/following{/other_user}",
                "gists_url": "https://api.github.com/users/CLAassistant/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/CLAassistant",
                "id": 11571300,
                "login": "CLAassistant",
                "node_id": "MDQ6VXNlcjExNTcxMzAw",
                "organizations_url": "https://api.github.com/users/CLAassistant/orgs",
                "received_events_url": "https://api.github.com/users/CLAassistant/received_events",
                "repos_url": "https://api.github.com/users/CLAassistant/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/CLAassistant/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/CLAassistant/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/CLAassistant",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "## DeepCode's analysis on [#35b4f8](https://www.deepcode.ai/app/gh/TokTok/toxins/f694643dfae0159e6b6c0c1f7a1cd07c7f5ad0ee/TokTok/toxins/35b4f8c4af8e40b13cc6f02cedf89ec8dc48c930/pr/_/%2F/code/?utm_source=gh_review?c=0&w=1&i=0) found:\n\n:warning: **1** warning  :heavy_check_mark: **0** issues were fixed.\n\n##### ðŸ‘‰ View analysis in [**DeepCodeâ€™s Dashboard**](https://www.deepcode.ai/app/gh/TokTok/toxins/f694643dfae0159e6b6c0c1f7a1cd07c7f5ad0ee/TokTok/toxins/35b4f8c4af8e40b13cc6f02cedf89ec8dc48c930/pr/_/%2F/code/?utm_source=gh_review?c=0&w=1&i=0)\n---\n:relaxed: If you want to provide feedback on our bot, here is how to [contact us](https://www.deepcode.ai/feedback?select=4&utm_source=gh_review).\n",
            "created_at": "2020-05-04T17:06:40Z",
            "html_url": "https://github.com/TokTok/toxins/pull/20#issuecomment-623587236",
            "id": 623587236,
            "issue_url": "https://api.github.com/repos/TokTok/toxins/issues/20",
            "node_id": "MDEyOklzc3VlQ29tbWVudDYyMzU4NzIzNg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/toxins/issues/comments/623587236/reactions"
            },
            "updated_at": "2020-05-04T17:06:40Z",
            "url": "https://api.github.com/repos/TokTok/toxins/issues/comments/623587236",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
                "events_url": "https://api.github.com/users/ghost/events{/privacy}",
                "followers_url": "https://api.github.com/users/ghost/followers",
                "following_url": "https://api.github.com/users/ghost/following{/other_user}",
                "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ghost",
                "id": 10137,
                "login": "ghost",
                "node_id": "MDQ6VXNlcjEwMTM3",
                "organizations_url": "https://api.github.com/users/ghost/orgs",
                "received_events_url": "https://api.github.com/users/ghost/received_events",
                "repos_url": "https://api.github.com/users/ghost/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ghost",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 2,
    "comments_url": "https://api.github.com/repos/TokTok/toxins/issues/20/comments",
    "commit_data": [
        {
            "author": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1855294?v=4",
                "events_url": "https://api.github.com/users/nurupo/events{/privacy}",
                "followers_url": "https://api.github.com/users/nurupo/followers",
                "following_url": "https://api.github.com/users/nurupo/following{/other_user}",
                "gists_url": "https://api.github.com/users/nurupo/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nurupo",
                "id": 1855294,
                "login": "nurupo",
                "node_id": "MDQ6VXNlcjE4NTUyOTQ=",
                "organizations_url": "https://api.github.com/users/nurupo/orgs",
                "received_events_url": "https://api.github.com/users/nurupo/received_events",
                "repos_url": "https://api.github.com/users/nurupo/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nurupo/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nurupo/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nurupo",
                "user_view_type": "public"
            },
            "comments_url": "https://api.github.com/repos/TokTok/toxins/commits/f6cc1255c74516f7d137400eb025941fb19a6d11/comments",
            "commit": {
                "author": {
                    "date": "2020-03-23T21:56:15Z",
                    "email": "nurupo.contributions@gmail.com",
                    "name": "Maxim Biro"
                },
                "comment_count": 0,
                "committer": {
                    "date": "2021-12-29T01:17:42Z",
                    "email": "iphydf@users.noreply.github.com",
                    "name": "iphydf"
                },
                "message": "Update echobot with changes from the wiki",
                "tree": {
                    "sha": "83c06e6aad38d576a3af66dba5da1b9692106df2",
                    "url": "https://api.github.com/repos/TokTok/toxins/git/trees/83c06e6aad38d576a3af66dba5da1b9692106df2"
                },
                "url": "https://api.github.com/repos/TokTok/toxins/git/commits/f6cc1255c74516f7d137400eb025941fb19a6d11",
                "verification": {
                    "payload": "tree 83c06e6aad38d576a3af66dba5da1b9692106df2\nparent 99c6de3ec6aea6a546b76b52fd7a10a46e995d34\nauthor Maxim Biro <nurupo.contributions@gmail.com> 1585000575 -0400\ncommitter iphydf <iphydf@users.noreply.github.com> 1640740662 +0000\n\nUpdate echobot with changes from the wiki\n",
                    "reason": "valid",
                    "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCgAdFiEEqQ4tlxH906HdaIgsOFXbotdEA8kFAmHLtzYACgkQOFXbotdE\nA8mQ0Qf/VZHGFWC6939sPtl30F0FXhrthtG8/5VsB5FwQMGiURUOgR7Bf6nNkN1C\nz0LLaE/0KVGT0MekWAsPRnNNfUPCL/uN/8bAKLKWwGeYkoMWGKSRo/qGd1FBDZl5\nRL4aCi59sElhfRnj3wrAzrCMy/3bXJi1aBzUPlzKjjNTRg1P3Yt1x5016xJNpN/+\n5McPK5UuTrdA3SQMbUWz0zBNm+t7lmIU8DdI7uX5CeD7pW6KMvV0imc1+418RyOA\nEXGejuyczKfITzsjNlsKZ3lAG/earM3VWURb7bwBiNj4N137DWG/AyThLhaVOAcO\n8b4bxwiyIMoVc0D3qs4Cv22cWSopDw==\n=U7w4\n-----END PGP SIGNATURE-----",
                    "verified": true,
                    "verified_at": "2024-11-07T00:01:41Z"
                }
            },
            "committer": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            },
            "html_url": "https://github.com/TokTok/toxins/commit/f6cc1255c74516f7d137400eb025941fb19a6d11",
            "node_id": "C_kwDODt_LMtoAKGY2Y2MxMjU1Yzc0NTE2ZjdkMTM3NDAwZWIwMjU5NDFmYjE5YTZkMTE",
            "parents": [
                {
                    "html_url": "https://github.com/TokTok/toxins/commit/99c6de3ec6aea6a546b76b52fd7a10a46e995d34",
                    "sha": "99c6de3ec6aea6a546b76b52fd7a10a46e995d34",
                    "url": "https://api.github.com/repos/TokTok/toxins/commits/99c6de3ec6aea6a546b76b52fd7a10a46e995d34"
                }
            ],
            "sha": "f6cc1255c74516f7d137400eb025941fb19a6d11",
            "url": "https://api.github.com/repos/TokTok/toxins/commits/f6cc1255c74516f7d137400eb025941fb19a6d11"
        },
        {
            "author": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1855294?v=4",
                "events_url": "https://api.github.com/users/nurupo/events{/privacy}",
                "followers_url": "https://api.github.com/users/nurupo/followers",
                "following_url": "https://api.github.com/users/nurupo/following{/other_user}",
                "gists_url": "https://api.github.com/users/nurupo/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nurupo",
                "id": 1855294,
                "login": "nurupo",
                "node_id": "MDQ6VXNlcjE4NTUyOTQ=",
                "organizations_url": "https://api.github.com/users/nurupo/orgs",
                "received_events_url": "https://api.github.com/users/nurupo/received_events",
                "repos_url": "https://api.github.com/users/nurupo/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nurupo/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nurupo/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nurupo",
                "user_view_type": "public"
            },
            "comments_url": "https://api.github.com/repos/TokTok/toxins/commits/d91f574f91db583f263e0808a49e4c9e869bdc64/comments",
            "commit": {
                "author": {
                    "date": "2020-03-23T22:09:13Z",
                    "email": "nurupo.contributions@gmail.com",
                    "name": "Maxim Biro"
                },
                "comment_count": 0,
                "committer": {
                    "date": "2021-12-29T01:17:42Z",
                    "email": "iphydf@users.noreply.github.com",
                    "name": "iphydf"
                },
                "message": "Use the full echobot example",
                "tree": {
                    "sha": "15b85d0652760df15bac3d8c181ed8d5965b0a64",
                    "url": "https://api.github.com/repos/TokTok/toxins/git/trees/15b85d0652760df15bac3d8c181ed8d5965b0a64"
                },
                "url": "https://api.github.com/repos/TokTok/toxins/git/commits/d91f574f91db583f263e0808a49e4c9e869bdc64",
                "verification": {
                    "payload": "tree 15b85d0652760df15bac3d8c181ed8d5965b0a64\nparent f6cc1255c74516f7d137400eb025941fb19a6d11\nauthor Maxim Biro <nurupo.contributions@gmail.com> 1585001353 -0400\ncommitter iphydf <iphydf@users.noreply.github.com> 1640740662 +0000\n\nUse the full echobot example\n",
                    "reason": "valid",
                    "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCgAdFiEEqQ4tlxH906HdaIgsOFXbotdEA8kFAmHLtzYACgkQOFXbotdE\nA8lTWQf+ITl55KnyJ4R1j/vaO3V6N+Fua2c9e9BUyVQxUqMqilrtbBYmpOkBT7Ld\nqDl0eWXx7/zTZhsQeRGlP7uWtSfpH7ebJU8IA/pjvrwyvRrhLucOaTa05bKx7W5y\npet4hOjnXZ0954/txy4BmASs0crnoO2dNYNSNDxSavYDBgAEAdb9+VoXZdLuBfWV\ny92sphoeTDe+L58VQXrbRS/avMCJgzGkLilCFsHtBMhjaTanfG++2o5qPdcGky29\nFZWp/IxukUBgV82qI7wM/9VbGCFSzEpKUj/mmPzwWcm08JdJz4NHBrWHOTZ8PTjO\nOCMpcNNwRHC1XA/LQRKHRSGpHHwH6g==\n=Ie1Z\n-----END PGP SIGNATURE-----",
                    "verified": true,
                    "verified_at": "2024-11-07T00:01:41Z"
                }
            },
            "committer": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf",
                "user_view_type": "public"
            },
            "html_url": "https://github.com/TokTok/toxins/commit/d91f574f91db583f263e0808a49e4c9e869bdc64",
            "node_id": "C_kwDODt_LMtoAKGQ5MWY1NzRmOTFkYjU4M2YyNjNlMDgwOGE0OWU0YzllODY5YmRjNjQ",
            "parents": [
                {
                    "html_url": "https://github.com/TokTok/toxins/commit/f6cc1255c74516f7d137400eb025941fb19a6d11",
                    "sha": "f6cc1255c74516f7d137400eb025941fb19a6d11",
                    "url": "https://api.github.com/repos/TokTok/toxins/commits/f6cc1255c74516f7d137400eb025941fb19a6d11"
                }
            ],
            "sha": "d91f574f91db583f263e0808a49e4c9e869bdc64",
            "url": "https://api.github.com/repos/TokTok/toxins/commits/d91f574f91db583f263e0808a49e4c9e869bdc64"
        }
    ],
    "commits": 2,
    "commits_url": "https://api.github.com/repos/TokTok/toxins/pulls/20/commits",
    "created_at": "2020-03-23T22:16:29Z",
    "deletions": 29,
    "diff_url": "https://github.com/TokTok/toxins/pull/20.diff",
    "draft": false,
    "head": {
        "label": "nurupo:update-echobot",
        "ref": "update-echobot",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/nurupo/toxins/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/nurupo/toxins/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/nurupo/toxins/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/nurupo/toxins/branches{/branch}",
            "clone_url": "https://github.com/nurupo/toxins.git",
            "collaborators_url": "https://api.github.com/repos/nurupo/toxins/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/nurupo/toxins/comments{/number}",
            "commits_url": "https://api.github.com/repos/nurupo/toxins/commits{/sha}",
            "compare_url": "https://api.github.com/repos/nurupo/toxins/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/nurupo/toxins/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/nurupo/toxins/contributors",
            "created_at": "2020-03-23T21:25:41Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/nurupo/toxins/deployments",
            "description": "A collection of small programs using toxcore.",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/nurupo/toxins/downloads",
            "events_url": "https://api.github.com/repos/nurupo/toxins/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/nurupo/toxins/forks",
            "full_name": "nurupo/toxins",
            "git_commits_url": "https://api.github.com/repos/nurupo/toxins/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/nurupo/toxins/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/nurupo/toxins/git/tags{/sha}",
            "git_url": "git://github.com/nurupo/toxins.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": false,
            "has_wiki": false,
            "homepage": null,
            "hooks_url": "https://api.github.com/repos/nurupo/toxins/hooks",
            "html_url": "https://github.com/nurupo/toxins",
            "id": 249547570,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/nurupo/toxins/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/nurupo/toxins/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/nurupo/toxins/issues{/number}",
            "keys_url": "https://api.github.com/repos/nurupo/toxins/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/nurupo/toxins/labels{/name}",
            "language": null,
            "languages_url": "https://api.github.com/repos/nurupo/toxins/languages",
            "license": {
                "key": "gpl-3.0",
                "name": "GNU General Public License v3.0",
                "node_id": "MDc6TGljZW5zZTk=",
                "spdx_id": "GPL-3.0",
                "url": "https://api.github.com/licenses/gpl-3.0"
            },
            "merges_url": "https://api.github.com/repos/nurupo/toxins/merges",
            "milestones_url": "https://api.github.com/repos/nurupo/toxins/milestones{/number}",
            "mirror_url": null,
            "name": "toxins",
            "node_id": "MDEwOlJlcG9zaXRvcnkyNDk1NDc1NzA=",
            "notifications_url": "https://api.github.com/repos/nurupo/toxins/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1855294?v=4",
                "events_url": "https://api.github.com/users/nurupo/events{/privacy}",
                "followers_url": "https://api.github.com/users/nurupo/followers",
                "following_url": "https://api.github.com/users/nurupo/following{/other_user}",
                "gists_url": "https://api.github.com/users/nurupo/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nurupo",
                "id": 1855294,
                "login": "nurupo",
                "node_id": "MDQ6VXNlcjE4NTUyOTQ=",
                "organizations_url": "https://api.github.com/users/nurupo/orgs",
                "received_events_url": "https://api.github.com/users/nurupo/received_events",
                "repos_url": "https://api.github.com/users/nurupo/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nurupo/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nurupo/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nurupo",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/nurupo/toxins/pulls{/number}",
            "pushed_at": "2021-12-29T01:17:43Z",
            "releases_url": "https://api.github.com/repos/nurupo/toxins/releases{/id}",
            "size": 62,
            "ssh_url": "git@github.com:nurupo/toxins.git",
            "stargazers_count": 0,
            "stargazers_url": "https://api.github.com/repos/nurupo/toxins/stargazers",
            "statuses_url": "https://api.github.com/repos/nurupo/toxins/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/nurupo/toxins/subscribers",
            "subscription_url": "https://api.github.com/repos/nurupo/toxins/subscription",
            "svn_url": "https://github.com/nurupo/toxins",
            "tags_url": "https://api.github.com/repos/nurupo/toxins/tags",
            "teams_url": "https://api.github.com/repos/nurupo/toxins/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/nurupo/toxins/git/trees{/sha}",
            "updated_at": "2020-06-11T05:48:40Z",
            "url": "https://api.github.com/repos/nurupo/toxins",
            "visibility": "public",
            "watchers": 0,
            "watchers_count": 0,
            "web_commit_signoff_required": false
        },
        "sha": "d91f574f91db583f263e0808a49e4c9e869bdc64",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1855294?v=4",
            "events_url": "https://api.github.com/users/nurupo/events{/privacy}",
            "followers_url": "https://api.github.com/users/nurupo/followers",
            "following_url": "https://api.github.com/users/nurupo/following{/other_user}",
            "gists_url": "https://api.github.com/users/nurupo/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/nurupo",
            "id": 1855294,
            "login": "nurupo",
            "node_id": "MDQ6VXNlcjE4NTUyOTQ=",
            "organizations_url": "https://api.github.com/users/nurupo/orgs",
            "received_events_url": "https://api.github.com/users/nurupo/received_events",
            "repos_url": "https://api.github.com/users/nurupo/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/nurupo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nurupo/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/nurupo",
            "user_view_type": "public"
        }
    },
    "html_url": "https://github.com/TokTok/toxins/pull/20",
    "id": 392667184,
    "issue_url": "https://api.github.com/repos/TokTok/toxins/issues/20",
    "labels": [
        {
            "color": "fef2c0",
            "default": false,
            "description": "Refactoring production code, eg. renaming a variable, not affecting semantics",
            "id": 2038113994,
            "name": "refactor",
            "node_id": "MDU6TGFiZWwyMDM4MTEzOTk0",
            "url": "https://api.github.com/repos/TokTok/toxins/labels/refactor"
        }
    ],
    "locked": false,
    "maintainer_can_modify": false,
    "merge_commit_sha": "d91f574f91db583f263e0808a49e4c9e869bdc64",
    "mergeable": null,
    "mergeable_state": "unknown",
    "merged": true,
    "merged_at": "2021-12-29T01:18:14Z",
    "merged_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
        "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
        "followers_url": "https://api.github.com/users/iphydf/followers",
        "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
        "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/iphydf",
        "id": 10647936,
        "login": "iphydf",
        "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
        "organizations_url": "https://api.github.com/users/iphydf/orgs",
        "received_events_url": "https://api.github.com/users/iphydf/received_events",
        "repos_url": "https://api.github.com/users/iphydf/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/iphydf",
        "user_view_type": "public"
    },
    "milestone": {
        "closed_at": null,
        "closed_issues": 16,
        "created_at": "2020-04-26T17:07:42Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
            "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
            "followers_url": "https://api.github.com/users/iphydf/followers",
            "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
            "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/iphydf",
            "id": 10647936,
            "login": "iphydf",
            "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
            "organizations_url": "https://api.github.com/users/iphydf/orgs",
            "received_events_url": "https://api.github.com/users/iphydf/received_events",
            "repos_url": "https://api.github.com/users/iphydf/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/iphydf",
            "user_view_type": "public"
        },
        "description": null,
        "due_on": null,
        "html_url": "https://github.com/TokTok/toxins/milestone/1",
        "id": 5350356,
        "labels_url": "https://api.github.com/repos/TokTok/toxins/milestones/1/labels",
        "node_id": "MDk6TWlsZXN0b25lNTM1MDM1Ng==",
        "number": 1,
        "open_issues": 1,
        "state": "open",
        "title": "master",
        "updated_at": "2025-01-22T20:17:45Z",
        "url": "https://api.github.com/repos/TokTok/toxins/milestones/1"
    },
    "node_id": "MDExOlB1bGxSZXF1ZXN0MzkyNjY3MTg0",
    "number": 20,
    "patch_url": "https://github.com/TokTok/toxins/pull/20.patch",
    "rebaseable": null,
    "requested_reviewers": [],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/TokTok/toxins/pulls/comments{/number}",
    "review_comments": 5,
    "review_comments_url": "https://api.github.com/repos/TokTok/toxins/pulls/20/comments",
    "state": "closed",
    "statuses_url": "https://api.github.com/repos/TokTok/toxins/statuses/d91f574f91db583f263e0808a49e4c9e869bdc64",
    "title": "refactor: Update echobot",
    "updated_at": "2021-12-29T01:18:15Z",
    "url": "https://api.github.com/repos/TokTok/toxins/pulls/20",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/1855294?v=4",
        "events_url": "https://api.github.com/users/nurupo/events{/privacy}",
        "followers_url": "https://api.github.com/users/nurupo/followers",
        "following_url": "https://api.github.com/users/nurupo/following{/other_user}",
        "gists_url": "https://api.github.com/users/nurupo/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/nurupo",
        "id": 1855294,
        "login": "nurupo",
        "node_id": "MDQ6VXNlcjE4NTUyOTQ=",
        "organizations_url": "https://api.github.com/users/nurupo/orgs",
        "received_events_url": "https://api.github.com/users/nurupo/received_events",
        "repos_url": "https://api.github.com/users/nurupo/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/nurupo/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/nurupo/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/nurupo",
        "user_view_type": "public"
    }
}